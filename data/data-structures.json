{"questions":[{"id":"q-677","question":"Design a data structure to maintain dynamic counters for items, supporting add(key, delta), get(key), and getTopK(k) returning the k keys with highest counts, ties broken by key. In a real-time analytics scenario, such as tracking top active users by event count, describe the structure, updates, and complexity trade-offs?","answer":"Use a hash map keyâ†’count and recompute top-k on demand by sorting entries in descending order (tie-break by key). On add, adjust the counter and delete if zero. getTopK(k) runs in O(n log n). This kee","explanation":"## Why This Is Asked\nEvaluates knowledge of practical data-structure trade-offs for dynamic ranking. Candidates should justify when to sort on demand vs. maintain auxiliary structures.\n\n## Key Concepts\n- Hash map for O(1) key access\n- On-demand sorting for top-k retrieval\n- Trade-off: simpler updates vs. slower top-k retrieval\n\n## Code Example\n```javascript\nclass CounterTopK {\n  constructor() {\n    this.counts = new Map(); // key -> count\n  }\n  add(key, delta) {\n    const cur = this.counts.get(key) || 0;\n    const next = cur + delta;\n    if (next <= 0) this.counts.delete(key); else this.counts.set(key, next);\n  }\n  get(key) { return this.counts.get(key) || 0; }\n  topK(k) {\n    const arr = Array.from(this.counts.entries());\n    arr.sort((a,b)=> b[1]-a[1] || a[0].localeCompare(b[0]));\n    return arr.slice(0,k).map(([key]) => key);\n  }\n}\n```","diagram":null,"difficulty":"intermediate","tags":["data-structures"],"channel":"data-structures","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Bloomberg","Discord","Netflix"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":false,"lastUpdated":"2026-01-11T15:56:10.144Z","createdAt":"2026-01-11T15:56:10.144Z"},{"id":"q-686","question":"Design a data structure that maintains a multiset of integers with insert(x), erase(x) for one occurrence, findMedian(), and findKthSmallest(k). Achieve O(log n) time per operation on average. Explain data layout, invariants, and handling duplicates and lazy deletions. For example: insert 1,2,3,4,5; erase 3; what is median and findKthSmallest(2)?","answer":"Propose a two-heap design (lower half in a max-heap, upper half in a min-heap) with a hashmap for lazy deletions to support erase(x) (one occurrence). Balance so the sizes differ by at most 1; prune l","explanation":"## Why This Is Asked\n\nTests understanding of advanced DS combining heaps and lazy deletion to support dynamic order statistics.\n\n## Key Concepts\n\n- Two-heap maintenance for median\n- Lazy deletion with a hashmap for duplicates\n- Order-statistics and findKthSmallest via balanced heaps\n\n## Code Example\n\n```javascript\nclass DualHeapMedianSet {\n  constructor(){ /* ... skeleton ... */ }\n  insert(x){ /* ... */ }\n  erase(x){ /* ... */ }\n  findMedian(){ /* ... */ }\n  findKthSmallest(k){ /* ... */ }\n}\n```\n\n## Follow-up Questions\n\n- How do you handle many duplicates efficiently?\n- How would you implement findKthSmallest(k) with guaranteed worst-case O(log n) time?","diagram":null,"difficulty":"advanced","tags":["data-structures"],"channel":"data-structures","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Apple","Oracle","Twitter"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":false,"lastUpdated":"2026-01-11T16:22:02.207Z","createdAt":"2026-01-11T16:22:02.207Z"}],"subChannels":["general"],"companies":["Apple","Bloomberg","Discord","Netflix","Oracle","Twitter"],"stats":{"total":2,"beginner":0,"intermediate":1,"advanced":1,"newThisWeek":2}}