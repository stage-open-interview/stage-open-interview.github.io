{"questions":[{"id":"q-677","question":"Design a data structure to maintain dynamic counters for items, supporting add(key, delta), get(key), and getTopK(k) returning the k keys with highest counts, ties broken by key. In a real-time analytics scenario, such as tracking top active users by event count, describe the structure, updates, and complexity trade-offs?","answer":"Use a hash map keyâ†’count and recompute top-k on demand by sorting entries in descending order (tie-break by key). On add, adjust the counter and delete if zero. getTopK(k) runs in O(n log n). This kee","explanation":"## Why This Is Asked\nEvaluates knowledge of practical data-structure trade-offs for dynamic ranking. Candidates should justify when to sort on demand vs. maintain auxiliary structures.\n\n## Key Concepts\n- Hash map for O(1) key access\n- On-demand sorting for top-k retrieval\n- Trade-off: simpler updates vs. slower top-k retrieval\n\n## Code Example\n```javascript\nclass CounterTopK {\n  constructor() {\n    this.counts = new Map(); // key -> count\n  }\n  add(key, delta) {\n    const cur = this.counts.get(key) || 0;\n    const next = cur + delta;\n    if (next <= 0) this.counts.delete(key); else this.counts.set(key, next);\n  }\n  get(key) { return this.counts.get(key) || 0; }\n  topK(k) {\n    const arr = Array.from(this.counts.entries());\n    arr.sort((a,b)=> b[1]-a[1] || a[0].localeCompare(b[0]));\n    return arr.slice(0,k).map(([key]) => key);\n  }\n}\n```","diagram":null,"difficulty":"intermediate","tags":["data-structures"],"channel":"data-structures","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Bloomberg","Discord","Netflix"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":false,"lastUpdated":"2026-01-11T15:56:10.144Z","createdAt":"2026-01-11T15:56:10.144Z"}],"subChannels":["general"],"companies":["Bloomberg","Discord","Netflix"],"stats":{"total":1,"beginner":0,"intermediate":1,"advanced":0,"newThisWeek":1}}