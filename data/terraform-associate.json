{"questions":[{"id":"q-1009","question":"Scenario: a single repo provisions per-tenant AWS resources for many tenants. To isolate state without workspaces, use a shared S3 backend with a DynamoDB lock table and a tenant-scoped key. Describe the backend config (bucket, region, dynamodb_table, key pattern per tenant), how you detect drift across tenants, and CI gating for dev-to-prod promotions (plan -out, tests, approve, apply)?","answer":"Configure a shared S3 backend with per-tenant keys and a single DynamoDB lock table. Backend config example: bucket=tf-backend, region=us-east-1, dynamodb_table=tf-locks, key=tenants/${TENANT_ID}/terr","explanation":"## Why This Is Asked\nTests mastery of multi-tenant state isolation, drift detection, and CI-gated promotions using Terraform remote backend.\n\n## Key Concepts\n- Remote state isolation without workspaces\n- Backend config per-tenant key patterns\n- Centralized locking with DynamoDB\n- Drift detection via plan and refresh\n- CI gating with plan/out, tests, approvals\n\n## Code Example\n```javascript\n# backend-configs/dev.tfbackend\nbucket = \"tf-backend\"\nregion = \"us-east-1\"\ndynamodb_table = \"tf-locks\"\nkey = \"tenants/${TENANT_ID}/terraform.tfstate\"\n```\n\n## Follow-up Questions\n- How would you enforce per-tenant role-based access to the backend?\n- How do you handle tenant onboarding/offboarding when state files move?","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Amazon","Coinbase","Databricks"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-12T19:21:33.339Z","createdAt":"2026-01-12T19:21:33.339Z"},{"id":"q-1154","question":"In a Terraform module that provisions an AWS RDS instance, operators sometimes alter maintenance_window directly in AWS, creating drift. You want Terraform to ignore external changes to maintenance_window but still apply code-driven updates (e.g., allocated_storage). How would you implement this using a lifecycle block? Provide a minimal aws_db_instance snippet showing ignore_changes for maintenance_window and outline tradeoffs?","answer":"Use: lifecycle { ignore_changes = [maintenance_window] }. In the aws_db_instance resource, keep allocated_storage driven by config. Caveats: other fields drift remains visible only if not ignored; if ","explanation":"## Why This Is Asked\n\nShows practical drift handling with Terraform state; tests understanding of lifecycle rules and their impact on operations.\n\n## Key Concepts\n\n- Drift and state\n- lifecycle ignore_changes\n- Resource attribute scoping\n\n## Code Example\n\n```javascript\nresource \"aws_db_instance\" \"example\" {\n  identifier         = \"example\"\n  engine             = \"mysql\"\n  instance_class     = \"db.t3.micro\"\n  allocated_storage  = 20\n  maintenance_window = \"sun:23:45-sun:00:15\"\n\n  lifecycle {\n    ignore_changes = [maintenance_window]\n  }\n}\n```\n\n## Follow-up Questions\n\n- What would happen if maintenance_window is changed in code while an apply is in progress?\n- How would you revert drift if needed later?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Salesforce","Scale Ai","Tesla"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-13T01:37:52.444Z","createdAt":"2026-01-13T01:37:52.444Z"},{"id":"q-1172","question":"In AWS us-east-1, you must provision 3 private subnets in a single VPC across 3 AZs using one module. Define a map variable with AZs and CIDRs, create the subnets with for_each, attach appropriate tags, and output the subnet IDs. Then show how to reference these IDs in a resource that requires subnet_id (eg NAT Gateway) and justify for_each vs count?","answer":"Use a map variable for subnets keyed by AZ, create aws_subnet with for_each, set az and cidr_block from the map, and TAGS. Output the IDs for reuse. Example: create a NAT gateway per subnet by iterati","explanation":"## Why This Is Asked\nAssesses practical use of for_each with maps, resource interdependencies, and stable identities across environments. Delivers hands-on pattern candidates expect in production.\n\n## Key Concepts\n- for_each with maps provides stable keys and predictable IDs\n- referencing attributes from one resource in another (subnet_id in NAT GW)\n- tagging and AZ assignment per subnet\n- outputs to surface IDs for downstream resources\n- when to prefer for_each vs count (stable keys vs positional indexing)\n\n## Code Example\n```javascript\nvariable \"subnets\" {\n  type = map(object({ cidr_block = string; az = string }))\n  default = {\n    az1 = { cidr_block = \"10.0.1.0/24\", az = \"us-east-1a\" },\n    az2 = { cidr_block = \"10.0.2.0/24\", az = \"us-east-1b\" },\n    az3 = { cidr_block = \"10.0.3.0/24\", az = \"us-east-1c\" }\n  }\n}\n\nresource \"aws_subnet\" \"private\" {\n  for_each = var.subnets\n  vpc_id            = var.vpc_id\n  cidr_block        = each.value.cidr_block\n  availability_zone = each.value.az\n  tags = {\n    Name = \"private-${each.key}\"\n  }\n}\n\noutput \"private_subnet_ids\" {\n  value = [for s in aws_subnet.private : s.id]\n}\n```\n\n```javascript\nresource \"aws_nat_gateway\" \"ngw\" {\n  for_each = aws_subnet.private\n  allocation_id = aws_eip.ngw[each.key].id\n  subnet_id     = aws_subnet.private[each.key].id\n}\n```\n\n## Follow-up Questions\n- When would you choose for_each over count in real projects?\n- How would you migrate from count-based to for_each-based resources without breaking state?\n- How would you validate AZ distribution and CIDR correctness after apply?","diagram":"flowchart TD\n  S[Subnets] --> A1[Subnet us-east-1a]\n  S --> A2[Subnet us-east-1b]\n  S --> A3[Subnet us-east-1c]\n  A1 --> NGW[Per-Subnet NAT Gateway]","difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Netflix","Oracle"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-13T03:37:27.209Z","createdAt":"2026-01-13T03:37:27.209Z"},{"id":"q-1202","question":"Scenario: you must bring under Terraform management a set of existing AWS S3 buckets across teams. Some buckets already exist and must be imported; you will manage encryption and versioning with a single module using for_each over a bucket map. How would you import, structure, and promote changes safely via CI?","answer":"Import existing buckets into state by address, e.g. terraform import 'aws_s3_bucket.bucket[\"team-a\"]' team-a-bucket; define a map of buckets with per-bucket flags and use for_each to create resources;","explanation":"## Why This Is Asked\n\nThis checks practical import workflows and multi-resource management with for_each, keeping data in sync and enabling safe CI-driven promotions.\n\n## Key Concepts\n\n- terraform import with for_each\n- map of per-bucket settings\n- dynamic blocks for conditional blocks\n- drift reconciliation and idempotency\n- CI/CD validation and promotion\n\n## Code Example\n\n```javascript\nvariable \"buckets\" {\n  type = map(object({\n    encryption = bool\n    versioning = bool\n  }))\n}\nresource \"aws_s3_bucket\" \"bucket\" {\n  for_each = var.buckets\n  bucket = each.key\n  acl    = \"private\"\n\n  dynamic \"versioning\" {\n    for_each = each.value.versioning ? [1] : []\n    content {\n      enabled = true\n    }\n  }\n\n  dynamic \"server_side_encryption_configuration\" {\n    for_each = each.value.encryption ? [1] : []\n    content {\n      rule {\n        apply_server_side_encryption_by_default {\n          sse_algorithm = \"AES256\"\n        }\n      }\n    }\n  }\n}\n```\n\n```javascript\nterraform import 'aws_s3_bucket.bucket[\"team-a\"]' team-a-bucket\n```\n\n## Follow-up Questions\n\n- How would you handle a bucket rename in the map without recreating?\n- How would you test encryption changes in CI without touching prod data?\n","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Amazon","NVIDIA","Robinhood"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-13T04:49:50.394Z","createdAt":"2026-01-13T04:49:50.394Z"},{"id":"q-1338","question":"Scenario: You maintain a Terraform repo that provisions an AWS RDS primary in us-east-1 and an optional cross-region read replica in us-west-2 controlled by a feature flag var.enable_replica. If the flag is false, Terraform should destroy the replica on apply. How would you implement the cross-region provider, conditional resource creation, and safe destruction without leaving dangling resources? Provide code patterns for the provider alias and the replica resource?","answer":"Define two AWS providers with aliases (primary us-east-1 and replica us-west-2). Create the replica resource with count = var.enable_replica ? 1 : 0 and assign provider = aws.replica; declare depends_","explanation":"## Why This Is Asked\nThis question tests practical capabilities to manage cross-region resources with provider aliases and conditional creation, ensuring safe destruction when a feature flag disables the replica, and understanding of Terraform lifecycle to avoid downtime.\n\n## Key Concepts\n- provider aliases\n- conditional resource creation with count\n- cross-region dependencies\n- lifecycle create_before_destroy\n- drift and state management\n\n## Code Example\n```javascript\nprovider \"aws\" {\n  region = \"us-east-1\"\n  alias  = \"primary\"\n}\nprovider \"aws\" {\n  region = \"us-west-2\"\n  alias  = \"replica\"\n}\n\nresource \"aws_db_instance\" \"primary\" {\n  provider = aws.primary\n  # ...\n}\n\nresource \"aws_db_instance\" \"replica\" {\n  provider   = aws.replica\n  count      = var.enable_replica ? 1 : 0\n  depends_on = [aws_db_instance.primary]\n  lifecycle {\n    create_before_destroy = true\n  }\n}\n```\n\n## Follow-up Questions\n- What are the failover considerations for cross-region replicas?\n- How would you test this pattern in CI and guard against accidental destruction?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Hugging Face","NVIDIA","Netflix"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-13T11:44:40.993Z","createdAt":"2026-01-13T11:44:40.993Z"},{"id":"q-1367","question":"You\\'re managing 100 AWS subnets defined in a single Terraform module using for_each. A drift occurred in one subnet\\'s route_table_id because it was changed outside Terraform. Describe exactly how you\\'d detect the drift and fix only that resource with zero-drift impact, using Terraform CLI commands. Include the exact commands to init plan, taint the resource, apply with -target, and re-run a full plan to confirm drift-free state?","answer":"Run `terraform init`; then `terraform plan -detailed-exitcode -out=tfplan` and note the exact resource address from the diff (e.g., aws_subnet.env[\"subnet-0a1b2c\"]) . Next run `terraform taint 'aws_su","explanation":"## Why This Is Asked\nTests practical drift remediation techniques on large multi-resource deployments, emphasizing targeted changes and plan-deduplication.\n\n## Key Concepts\n- Drift detection via plan exit codes\n- Resource tainting vs. full apply\n- Targeted applies to minimize blast radius\n- For_each resource addressing\n\n## Code Example\n```bash\nterraform init\nterraform plan -detailed-exitcode -out=tfplan\n# identify address from plan output, e.g. aws_subnet.env[\"subnet-0a1b2c\"]\nterraform taint 'aws_subnet.env[\"subnet-0a1b2c\"]'\nterraform apply -auto-approve -target='aws_subnet.env[\"subnet-0a1b2c\"]'\nterraform plan\n```\n\n## Follow-up Questions\n- How would you automate this across all drifted resources in a single run?\n- How do you ensure idempotence when using -target in CI pipelines?","diagram":"flowchart TD\n  A[Detect Drift] --> B[Identify Resource Address]\n  B --> C[Taint Resource]\n  C --> D[Apply Targeted Changes]\n  D --> E[Re-run Full Plan]","difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Databricks","IBM","Meta"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-13T13:19:56.849Z","createdAt":"2026-01-13T13:19:56.849Z"},{"id":"q-1584","question":"You are refactoring a Terraform repo and moving an existing AWS S3 bucket resource from the root module into a submodule named storage. Describe exact steps and commands to relocate the resource in state without recreation, including the state mv addresses and a follow-up plan?","answer":"Initialize the configuration, identify the current resource address, and relocate it to the target module while preserving all existing data and metadata. Steps:\n- terraform init\n- terraform state list | grep aws_s3_bucket\n- terraform state mv 'aws_s3_bucket.mybucket' 'module.storage.aws_s3_bucket.mybucket'\n- terraform plan\n- terraform apply","explanation":"## Why This Is Asked\nTests knowledge of Terraform state manipulation and module boundaries, including how to relocate existing resources without destruction.\n\n## Key Concepts\n- terraform state mv\n- module addressing with for_each/count\n- plan/apply after a state relocation\n\n## Code Example\n```javascript\nterraform init\nterraform state list | grep aws_s3_bucket\nterraform state mv 'aws_s3_bucket.mybucket' 'module.storage.aws_s3_bucket.mybucket'\nterraform plan\nterraform apply\n```\n\n## Follow-up Questions\n- How would you handle relocation if the bucket name is generated by count/indexed resources?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Coinbase","Instacart","Zoom"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T05:41:56.909Z","createdAt":"2026-01-13T22:51:23.435Z"},{"id":"q-1655","question":"You discover an AWS VPC and related resources created outside Terraform and want to bring them under a new network module without recreating. Describe exact steps to import the VPC, its subnets (for_each), and a peering connection into the module, including the resource addresses you’ll use, how to handle multiple subnets, and how to verify with a plan that nothing changes?","answer":"Import external VPC resources into a new module without recreating: 1) init; 2) import VPC: terraform import 'module.network.aws_vpc.vpc' vpc-0a1b2c3d4e5f6g; 3) import subnets: terraform import 'modul","explanation":"## Why This Is Asked\nTests ability to adopt existing infrastructure into a module, mapping real resources to module addresses and avoiding recreation. Also evaluates import ordering, state manipulation, and verification through plan.\n\n## Key Concepts\n- terraform import into module resources\n- addressing for subresources with for_each and modules\n- validating with plan to ensure zero-drift\n- handling cross-account/provider setups if applicable\n\n## Code Example\n```javascript\n# Example module resource blocks (illustrative)\nresource \"aws_vpc\" \"vpc\" { ... }\nresource \"aws_subnet\" \"private\" { for_each = var.private_subnets ... }\nresource \"aws_vpc_peering_connection\" \"peering\" { ... }\n```\n\n## Follow-up Questions\n- How would you map any missing attributes (tags, route tables) to existing state?\n- If some resources are in different accounts, how do you configure providers and imports to avoid conflicts?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Lyft","PayPal"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T05:37:20.961Z","createdAt":"2026-01-14T05:37:20.961Z"},{"id":"q-1740","question":"Advanced cross-repo Terraform: network state is stored in a dedicated repo/backends across envs. The application repo imports VPC IDs and subnets via data terraform_remote_state. Explain how you would structure backends and modules to avoid drift, ensure isolation between dev/staging/prod, and orchestrate safe promotions from dev to prod with exact commands for init/plan/apply per environment. Include how you would test drift and rollback?","answer":"Use separate backends per environment; centralize VPC in the network repo; in app, read VPC outputs via terraform_remote_state. Promote via CI gate. Example commands for prod:\\nnetwork: terraform init","explanation":"## Why This Is Asked\n\nTests ability to coordinate Terraform state across repos, manage drift via remote state data, and implement safe promotion paths with environment isolation.\n\n## Key Concepts\n\n- Terraform remote state and data sources\n- Separate backends per environment\n- CI gating and drift testing\n- cross-repo module composition\n\n## Code Example\n\n```hcl\ndata \"terraform_remote_state\" \"network\" {\n  backend = \"s3\"\n  config = {\n    bucket = \"corp-terraform-network\"\n    key    = \"prod/terraform.tfstate\"\n    region = \"us-east-1\"\n  }\n}\n```\n\n## Follow-up Questions\n\n- How would you handle a read-only remote state during prod promotion?\n- How would you implement a rollback plan if drift is detected post-merge?\n","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Adobe","Databricks"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T09:01:14.624Z","createdAt":"2026-01-14T09:01:14.624Z"},{"id":"q-1749","question":"You manage a single Terraform repo deploying a shared 'network' module into two AWS accounts (prod and dev) using provider aliases. Describe how you structure the provider blocks, module calls, and var-files to deploy both environments without duplicating code. Include exact commands to init, plan, and apply for each environment, ensuring isolation and no cross-env state changes?","answer":"Create two provider aliases (aws.prod, aws.dev) with distinct regions, and drive the module with for_each over environments. Use providers = { aws = aws.${each.key} } and per-env var-files. Then: terr","explanation":"## Why This Is Asked\nTests understanding of multi-environment deployments without code duplication using provider aliases and module iteration.\n\n## Key Concepts\n- Provider aliases\n- Module instantiation with for_each\n- Per-environment variable files and backends\n- Terraform plan/apply targeting to avoid cross-env changes\n\n## Code Example\n```terraform\nprovider \"aws\" {\n  alias  = \"prod\"\n  region = var.prod_region\n}\nprovider \"aws\" {\n  alias  = \"dev\"\n  region = var.dev_region\n}\nvariable \"prod_region\" { default = \"us-east-1\" }\nvariable \"dev_region\"  { default = \"us-west-2\" }\nvariable \"environments\" {\n  type = map(string)\n  default = { prod = \"prod\", dev = \"dev\" }\n}\nmodule \"network\" {\n  for_each = var.environments\n  source   = \"./modules/network\"\n  providers = { aws = aws[each.value] }\n  # inputs per env\n}\n```\n\n## Follow-up Questions\n- How would you add a new environment without touching existing state?\n- What are the trade-offs of using separate backends versus workspaces for this pattern?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Robinhood","Slack","Snap"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T09:38:40.289Z","createdAt":"2026-01-14T09:38:40.289Z"},{"id":"q-1805","question":"How would you implement input validation in a Terraform module to enforce that a variable instance_count is between 1 and 5 and that a string region is one of an allowed set? Provide the approach and expected Terraform behavior during plan and apply?","answer":"Implement input validation in Terraform modules by adding validation blocks inside variable definitions. Example: a number variable must be 1-5 and a string variable region must be one of allowed regi","explanation":"## Why This Is Asked\nGuardrails for input data ensure predictable plans and reduce drift due to outside changes.\n\n## Key Concepts\n- Terraform variable validation blocks\n- contains and range checks via logical expressions\n- error_message behavior on plan/apply\n- user experience when invalid inputs are provided\n\n## Code Example\n```\nvariable \"instance_count\" {\n  type = number\n  validation {\n    condition = var.instance_count >= 1 && var.instance_count <= 5\n    error_message = \"instance_count must be between 1 and 5.\"\n  }\n}\n\nvariable \"region\" {\n  type = string\n  validation {\n    condition = contains([\"us-east-1\", \"us-west-2\", \"eu-west-1\"], var.region)\n    error_message = \"region must be one of us-east-1, us-west-2, eu-west-1.\"\n  }\n}\n```\n\n## Follow-up Questions\n- How would you extend validation to a list of allowed instance_types?\n- How would you provide user-friendly error messages for multiple invalid variables?","diagram":"flowchart TD\nA[Input Variables] --> B[Validate instance_count]\nB --> C{Valid?}\nC -->|Yes| D[Proceed to plan]\nC -->|No| E[Fail with error_message]","difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Netflix","Square","Tesla"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T11:40:14.828Z","createdAt":"2026-01-14T11:40:14.828Z"},{"id":"q-1836","question":"Scenario: A Terraform repo uses a module named network that creates subnets via for_each over a map of subnet_id to name. Three subnets were created manually (subnet-aaa, subnet-bbb, subnet-ccc) and must be brought under Terraform control without changing the rest. Describe exact steps and commands to import only these existing subnets into the module state, update the for_each map to include their IDs, and verify drift with a full plan. Include init/plan/apply commands and how to handle dependent resources (route tables, tags)?","answer":"Add a map of existing IDs in the module, then import each subnet into its key: terraform import module.network.aws_subnet[ subnet-aaa ] subnet-aaa-id; terraform import module.network.aws_subnet[ subne","explanation":"## Why This Is Asked\nTests state-management finesse: migrating manual resources into modules, with map-for_each and address syntax; ensures candidate uses proper addresses and verifies drift with full plan.\n\n## Key Concepts\n- State management with terraform import\n- for_each addressing in modules\n- Handling dependencies (route tables, tags)\n\n## Code Example\n```hcl\nmodule \"network\" {\n  source = './modules/network'\n  subnets = {\n    'subnet-aaa' = 'Subnet A'\n    'subnet-bbb' = 'Subnet B'\n    'subnet-ccc' = 'Subnet C'\n  }\n}\n```\n\n## Follow-up Questions\n- How would you test idempotence after import if the manual subnets diverge in tags?\n- What if one subnet is used in a route table association; how ensure no drift on that relation?","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["NVIDIA","Plaid"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T13:18:57.060Z","createdAt":"2026-01-14T13:18:57.060Z"},{"id":"q-1888","question":"Scenario: You manage 120 Cloudflare DNS records in a single Terraform module with for_each. A drift occurred in one record's IP address due to a manual edit in Cloudflare. Describe a surgical plan to detect drift and fix only that resource with zero-drift impact, using Terraform CLI commands. Include the exact commands to init, plan, taint the resource, apply with -target, and re-run a full plan to confirm drift-free state?","answer":"I would run: `terraform init`, then `terraform plan -detailed-exitcode` to surface drift. Identify the address, e.g. `cloudflare_record.example[\"www.example.com\"]`. Then taint: `terraform taint 'cloud","explanation":"## Why This Is Asked\nTests the ability to perform surgical drift repair in a multi-resource Terraform config, including how to locate the exact resource address when using for_each, how to minimize disruption with a targeted apply, and how to validate state after changes.\n\n## Key Concepts\n- Drift detection with `terraform plan` and exit codes\n- Addressing resources in for_each using map keys (e.g. `cloudflare_record.example[\"domain\"]`)\n- Targeted `apply` and replan to ensure drift-free state\n\n## Code Example\n```javascript\n// Terraform snippet for Cloudflare records\nresource \"cloudflare_record\" \"example\" {\n  for_each = var.records\n  zone_id  = data.cloudflare_zones.main.id\n  name     = each.key\n  value    = each.value.ip\n  type     = \"A\"\n  proxied  = false\n}\n```\n\n## Follow-up Questions\n- What if drift affects multiple records? How would you handle batch corrections?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Citadel","Microsoft","Plaid"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T15:48:22.806Z","createdAt":"2026-01-14T15:48:22.806Z"},{"id":"q-1948","question":"You’re extending a VPC Terraform module to support both a managed NAT Gateway and a NAT instance via a single input variable named nat_type with default 'gateway'. How would you implement this with conditional resources, including the variable, two resource blocks, and outputs? Provide the minimal code and explain how you’d validate with terraform plan to ensure no changes when nat_type remains 'gateway'?","answer":"Add a string variable nat_type with default 'gateway'. Create two resources with conditional counts: aws_nat_gateway { count = var.nat_type == 'gateway' ? 1 : 0 } and aws_instance nat { count = var.na","explanation":"## Why This Is Asked\n\nTests ability to add feature-flag-like behavior in modules without duplicating resources.\n\n## Key Concepts\n\n- Variable defaults and validation\n- Conditional resources with count\n- Outputs referencing conditional resources\n\n## Code Example\n\n```hcl\nvariable \"nat_type\" {\n  description = \"NAT type: gateway or instance\"\n  type        = string\n  default     = \"gateway\"\n}\nresource \"aws_nat_gateway\" \"gw\" {\n  count = var.nat_type == \"gateway\" ? 1 : 0\n  # subnet_id, allocation_id, depends_on...\n}\nresource \"aws_instance\" \"nat\" {\n  count       = var.nat_type == \"instance\" ? 1 : 0\n  # ami, instance_type, subnet_id...\n}\n```\n\n## Follow-up Questions\n\n- How would you surface the active NAT in outputs?\n- What happens if nat_type changes from gateway to instance after apply?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Google","PayPal","Twitter"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T18:45:30.274Z","createdAt":"2026-01-14T18:45:30.274Z"},{"id":"q-1976","question":"In a monorepo, a Terraform module provisions a multi-tenant AWS VPC setup with per-tenant isolation via tenant_id. A new tenant must be added without touching existing ones. Describe exact steps and commands to add the tenant using a fresh state segment, ensure no drift to others, and verify with targeted and full plans. Include backend-key organization and apply sequencing?","answer":"Add a new tenant by isolating state with a tenant-scoped backend key and applying only that tenant. Commands:\nexport TENANT_ID=tenantA\nterraform init -backend-config=\"bucket=infra-state\" -backend-conf","explanation":"## Why This Is Asked\nTests ability to safely add a tenant with per-tenant state, avoiding cross-tenant drift in a shared repo. It also exercises precise Terraform CLI usage for init with backend-config, plan/apply sequencing, and drift verification.\n\n## Key Concepts\n- Backend segmentation per tenant via key\n- Targeted init/plan/apply for isolated changes\n- Drift verification across multiple tenants\n- Safe promotions with clear separation of state\n\n## Code Example\n```javascript\n# sample backend config for a tenant (illustrative)\nbackend \\\"s3\\\" {\n  bucket = \\\"infra-state\\\"\n  key    = \\\"tenants/${TENANT_ID}/terraform.tfstate\\\"\n  region = \\\"us-east-1\\\"\n}\n```\n\n## Follow-up Questions\n- How would you parameterize TENANT_ID in CI?\n- How would you handle removing a tenant without orphaning resources?","diagram":"flowchart TD\n  A[Add Tenant] --> B[Init with tenant key]\n  B --> C[Plan]\n  C --> D[Apply]\n  D --> E[Drift verify]","difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Goldman Sachs","LinkedIn"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-14T19:30:52.979Z","createdAt":"2026-01-14T19:30:52.980Z"},{"id":"q-2037","question":"You're provisioning a private API gateway via a custom Terraform provider. Implement a blue/green deployment pattern with two gateway instances and an atomic traffic switch using a single Terraform plan. Describe the exact structure (for_each, modules, and a central traffic_split map), how to prevent unintended recreation, and the precise steps and commands to drift-check and promote from blue to green in prod with minimal blast radius?","answer":"Implement a modular blue/green deployment using a centralized traffic split configuration. Create two gateway instances using `for_each` with color variants (blue/green), managed through a single `traffic_split` map that controls traffic distribution. During promotion, atomically update the map from `{blue=100, green=0}` to `{blue=0, green=100}` and apply the changes.","explanation":"## Why This Is Asked\nTests the ability to design safe blue/green deployment patterns using Terraform with a private provider, focusing on idempotent upgrades and drift control.\n\n## Key Concepts\n- Blue/Green deployment pattern\n- for_each across color variants\n- Central traffic_split map controlling user traffic\n- Lifecycle prevent_destroy to protect active components\n- Drift detection with plan-based validation across environments\n\n## Code Example\n```hcl\nvariable \"traffic_split\" {\n  type    = map(number)\n  default = { blue = 100, green = 0 }\n}\n\nvariable \"gateway_colors\" {\n  type    = list(string)\n  default = [\"blue\", \"green\"]\n}\n\nmodule \"gateway\" {\n  source   = \"./gateway\"\n  for_each = toset(var.gateway_colors)\n  \n  color       = each.key\n  environment = var.environment\n  \n  lifecycle {\n    prevent_destroy = true\n  }\n}\n\nresource \"api_gateway_routing\" \"traffic\" {\n  for_each = var.traffic_split\n  \n  color       = each.key\n  percentage  = each.value\n  gateway_id  = module.gateway[each.key].id\n}\n```\n\n## Promotion Commands\n```bash\n# 1. Plan and validate drift\nterraform plan -var='traffic_split={blue=0,green=100}' -out=green-promotion.tfplan\n\n# 2. Apply atomic switch\nterraform apply green-promotion.tfplan\n\n# 3. Verify traffic distribution\nterraform show | grep traffic_split\n```","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Netflix","PayPal"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T06:14:31.703Z","createdAt":"2026-01-14T21:44:05.050Z"},{"id":"q-2049","question":"You maintain a per-environment security module that provisions an AWS Security Group with environment-scoped rules (dev, stg, prod). An external admin altered prod inbound 22 to 0.0.0.0/0, causing drift. Describe exact steps to detect the drift and fix prod only, using Terraform CLI with init/plan/apply and a -target run, then re-run a full plan to confirm no drift. Provide the exact resource address to target?","answer":"Initialize the production backend, detect drift with a targeted plan for the specific security group resource, apply the targeted fix, then run a full plan to verify no drift remains. Example commands: terraform init; terraform plan -target=module.security_groups.aws_security_group.prod_sg -out drift.plan; terraform apply drift.plan; terraform plan","explanation":"## Why This Is Asked\nTests practical drift detection and focused remediation in multi-environment Terraform setups, ensuring only the affected resource is modified while maintaining infrastructure integrity.\n\n## Key Concepts\n- Drift detection and isolation across environments\n- Targeted state operations with -target flag\n- Safe verification via full plan after targeted changes\n- Resource addressing in modules (e.g., module.security_groups.aws_security_group.prod_sg)\n\n## Code Example\n```bash\nterraform init\nterraform plan -target=module.security_groups.aws_security_group.prod_sg -out drift.plan\nterraform apply drift.plan\nterraform plan\n```","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Meta","Tesla"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T05:53:09.738Z","createdAt":"2026-01-14T22:37:12.335Z"},{"id":"q-2079","question":"In a Terraform repo using a single VPC module across AWS prod and canary via provider aliases, a CIDR change would recreate many subnets. Describe a blue/green deployment strategy that updates production with zero downtime. Include exact commands to initialize, create/apply canary resources with targeted -target, run drift checks, then migrate canary state to prod with terraform state mv and finalize with a full plan?","answer":"Blue/green deployment using two workspaces (prod, canary) with provider aliases (aws.prod, aws.canary). 1) terraform workspace new canary; 2) terraform init; 3) plan -out canary.plan -var env=canary; 4) apply canary.plan; 5) terraform plan -detailed-exitcode to verify no drift; 6) terraform state mv -state-out=prod.tfstate module.vpc.canary module.vpc.prod; 7) terraform workspace select prod; 8) terraform plan to validate final state.","explanation":"## Why This Is Asked\n\nTests the ability to design production-grade deployments that avoid downtime while updating core networking components across multiple environments. It requires understanding of blue/green patterns, state management, and targeted applies across provider aliases.\n\n## Key Concepts\n- Blue/green deployment\n- Terraform workspaces and provider aliases\n- Targeted applies and state mv\n- Drift verification across environments\n\n## Code Example\n```text\n# Commands shown in the answer above (concise summary)\n```\n\n## Follow-up Questions\n- How would you automate the promotion flow with CI/CD pipelines?\n- What rollback strategies would you implement if the canary deployment fails?\n- How would you handle data migration between VPCs during the transition?","diagram":null,"difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Bloomberg","Netflix"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T05:31:59.070Z","createdAt":"2026-01-14T23:31:32.109Z"},{"id":"q-2127","question":"You manage a Terraform repo with a Google Cloud IAM bindings module using for_each over projects. A drift occurred when a member was removed in prod outside Terraform. Describe exact steps to detect the drift and fix only prod binding using Terraform CLI with init/plan/apply and a -target run, then re-run a full plan to confirm no drift. Include the exact resource address to target?","answer":"Init and refresh providers, run plan to locate the drift, then apply only the prod binding via -target and verify with a full plan. Example: terraform init -upgrade; terraform plan -out=tfplan; terraf","explanation":"## Why This Is Asked\nTests practical drift handling for IAM bindings across multi-project setups, a common beginner challenge.\n\n## Key Concepts\n- Drift detection via terraform plan\n- Correct resource address for -target\n- Isolating changes to minimize impact\n\n## Code Example\n```javascript\nterraform init -upgrade\nterraform plan -out=tfplan\nterraform apply -target=module.bindings[\"prod\"].google_project_iam_member[\"my-project-prod\",\"roles/storage.objectAdmin\"] tfplan\nterraform plan\n```\n```\n","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Adobe","Google","Slack"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T04:10:59.879Z","createdAt":"2026-01-15T04:10:59.879Z"},{"id":"q-2168","question":"You find an AWS IAM role that was created outside Terraform and you want to bring it under Terraform control without changing its attached policies—what exact steps and commands would you use to import it, reconcile the state, and apply only the intended configuration?","answer":"Create a matching aws_iam_role in Terraform, then run `terraform import aws_iam_role.example <role-name>` to link the existing role to state. Use `terraform state show aws_iam_role.example` to inspect","explanation":"## Why This Is Asked\nTests practical import and drift reconciliation, a common real-world task when adopting existing resources.\n\n## Key Concepts\n- Terraform import to bring unmanaged resources under state\n- State inspection with `state show` to avoid unintended changes\n- Plan vs apply to reconcile config with existing resources\n- Handling policies carefully to avoid accidental privilege changes\n\n## Code Example\n```hcl\nresource \"aws_iam_role\" \"example\" {\n  name = \"example-role\"\n  assume_role_policy = data.aws_iam_policy_document.example.json\n}\n```\n\n## Follow-up Questions\n- How would you handle inline policies vs attached policies during import?\n- How can you verify the role's permissions post-import without applying unintended changes?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Adobe","Cloudflare","Coinbase"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T05:44:16.868Z","createdAt":"2026-01-15T05:44:16.868Z"},{"id":"q-2212","question":"Scenario: You manage a single Terraform module that provisions a Google Cloud DNS managed zone with multiple A records across environments (dev, staging, prod) using a map variable and a for_each on google_dns_record_set. A drift occurred in prod: the IP of prod A record was manually changed outside Terraform. Describe exact steps to detect drift and fix only prod's A record using Terraform CLI with init/plan/apply and a -target run, then re-run a full plan to confirm drift-free state. Include the exact resource address to target?","answer":"Init, run plan to detect drift, inspect prod with terraform state show google_dns_record_set.record[\\\"prod\\\"], update the prod IP in the config, then apply only prod: terraform apply -target=google_dn","explanation":"## Why This Is Asked\nTests drift detection and precise remediation using Terraform targets.\n\n## Key Concepts\n- drift detection with terraform plan\n- targeting with -target for minimal changes\n- google_dns_record_set and DNS records\n- state vs config reconciliation\n\n## Code Example\n```hcl\nresource \"google_dns_record_set\" \"record\" {\n  for_each = var.dns_records\n  name       = each.value.name\n  type       = 'A'\n  ttl        = 300\n  rrdatas    = [each.value.ip]\n  managed_zone = var.managed_zone\n}\n```\n\n## Follow-up Questions\n- How would you automate drift checks in CI/CD?\n- How would you handle multiple envs drift simultaneously?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Databricks","Meta","NVIDIA"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T07:41:15.205Z","createdAt":"2026-01-15T07:41:15.205Z"},{"id":"q-2238","question":"Scenario: A Terraform module manages an AWS VPC with subnets created outside Terraform. The module uses an aws_vpc.main and a for_each map aws_subnet.subnets keyed by environment (prod, staging). Provide exact commands to import the existing VPC and each subnet without recreation, including their addresses, then run terraform plan to confirm no drift and describe handling if drift is detected?","answer":"Import the VPC: terraform import aws_vpc.main vpc-0a1b2c3d. For subnets, import by for_each key: terraform import 'aws_subnet.subnets[\\\"prod\\\"]' subnet-0d1e2f3a and terraform import 'aws_subnet.subnet","explanation":"## Why This Is Asked\nTests import accuracy and state alignment when resources are managed via modules and for_each.\n\n## Key Concepts\n- terraform import, for_each keys, state alignment, drift\n\n## Code Example\n```bash\nterraform import aws_vpc.main vpc-0a1b2c3d\nterraform import 'aws_subnet.subnets[\"prod\"]' subnet-0d1e2f3a\nterraform import 'aws_subnet.subnets[\"staging\"]' subnet-0a9b8c7d\n```\n\n## Follow-up Questions\n- How would you handle a new environment added later (dev)?\n- What pitfalls exist when resources are renamed or moved in modules?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Hashicorp","Snowflake"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T08:56:17.020Z","createdAt":"2026-01-15T08:56:17.020Z"},{"id":"q-2337","question":"You maintain a Terraform repo that builds a multi-account AWS network using a root module with per-account submodules. In prod, a single security group rule was manually changed outside Terraform. Describe exact steps to detect drift, fix only prod with a targeted apply, and then re-run a full plan. Include the exact resource address to target and how to ensure prod drift is isolated from other accounts?","answer":"Init the repo, run a targeted plan for prod: terraform plan -target=module.network[\"prod\"].aws_security_group.sg_prod -out prod.tfplan. If drift is detected, apply only that plan: terraform apply prod","explanation":"## Why This Is Asked\nThis tests drift detection and safe, minimal-change remediation in a multi-environment Terraform setup, plus state isolation concepts.\n\n## Key Concepts\n- Terraform plan with -target for surgical fixes\n- State isolation across accounts/workspaces\n- Idempotent apply and drift verification\n- Resource addressing in for_each/module contexts\n\n## Code Example\n```bash\nterraform init\nterraform plan -target=module.network[\"prod\"].aws_security_group.sg_prod -out prod.tfplan\n# review drift via plan output\nterraform apply prod.tfplan\nterraform plan\n```\n\n## Follow-up Questions\n- How would you automate drift detection across all prod resources without -target?\n- What are risks of repeated targeted applies in a CI pipeline?","diagram":"flowchart TD\n  A[Drift Detected in prod SG] --> B[Run targeted plan for prod SG]\n  B --> C{Drift present?}\n  C -->|Yes| D[Apply prod plan]\n  C -->|No| E[Run full plan to verify]\n  D --> F[Run full plan for drift-free state]","difficulty":"advanced","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Meta","Zoom"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T13:12:22.149Z","createdAt":"2026-01-15T13:12:22.149Z"},{"id":"q-2345","question":"A Terraform repo provisions a VPC, subnets, and an EC2 instance. A central tagging policy is required via a local default_tags map and an optional input var.tags, applied to all resources without duplicating tags. Describe exact steps to implement this, including how to merge tags in each resource, how to handle resources that cannot be tagged, and how to validate with a full plan before apply. Include a minimal code snippet showing how to declare the variables and apply tags to the VPC and EC2 instance?","answer":"Add an optional map variable and a local default_tags merge; apply tags via merge(local.default_tags, var.tags) in every resource. Steps: declare variable \"tags\" type = map(string) default = {}; local","explanation":"## Why This Is Asked\nTests ability to implement a centralized tagging policy across resources, a common real-world pattern to ensure consistency and compliance in Terraform configurations.\n\n## Key Concepts\n- Centralized tagging via local merges\n- Handling resources that may not support tags\n- Safe extension with optional input maps and environment variables\n- Validation through full plan/apply cycles\n\n## Code Example\n```javascript\nvariable \"environment\" { type = string }\nvariable \"tags\" { type = map(string), default = {} }\n\nlocals {\n  default_tags = merge({ Environment = var.environment, Project = \"infra\" }, var.tags)\n}\n\nresource \"aws_vpc\" \"main\" {\n  cidr_block = \"10.0.0.0/16\"\n  tags       = local.default_tags\n}\n\nresource \"aws_subnet\" \"public\" {\n  vpc_id     = aws_vpc.main.id\n  cidr_block = \"10.0.1.0/24\"\n  tags       = local.default_tags\n}\n\n```\n\n## Follow-up Questions\n- How would you propagate default_tags to modules that declare their own resources?\n- What strategies exist if some resources cannot be tagged due to provider limitations?","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Hashicorp","LinkedIn"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T14:34:54.576Z","createdAt":"2026-01-15T14:34:54.576Z"},{"id":"q-2470","question":"You find an existing Google Compute Engine instance named \\\"web-1\\\" that wasn't created by Terraform but should be managed by the Terraform module at path modules/infra with a for_each over a map of instances. Describe exact steps to import that instance into state, including the resource address you would use for the import, what to add to the code to match the real-world instance, and how you verify drift with a full terraform plan after the import (no recreation)?","answer":"Use terraform import to bind the existing resource to its Terraform address, e.g., module.infra.google_compute_instance.web[\"web-1\"]. Before importing, define a matching resource block in code (name, ","explanation":"## Why This Is Asked\nTests the ability to bring existing, unmanaged resources under Terraform control and align state with configuration, a common real-world task.\n\n## Key Concepts\n- terraform import and resource addresses inside modules/for_each\n- state management and aligning code with existing resources\n- validating drift with full plan after import\n\n## Code Example\n```terraform\nresource \"google_compute_instance\" \"web\" {\n  for_each = var.instances\n  name = each.value.name\n  zone = each.value.zone\n  # other required fields must match the real instance\n}\n```\n\n## Follow-up Questions\n- What if the import reveals attributes not present in code? How would you fix?\n- How do you handle importing multiple instances efficiently with for_each?\n- How does import affect existing state locking or backend configuration?","diagram":"flowchart TD\n  A[Identify unmanaged resource] --> B[Define matching Terraform block]\n  B --> C[Run import with address]\n  C --> D[Plan and align] \n  D --> E[Plan confirms drift-free state]","difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Google","MongoDB"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-15T19:34:19.220Z","createdAt":"2026-01-15T19:34:19.220Z"},{"id":"q-2563","question":"You manage a Terraform repo deploying a shared AWS network module across three accounts with for_each over accounts to create security groups. In account \"acct-b\" a security group rule’s CIDR was manually changed outside Terraform. Describe exact steps to detect drift and fix only that resource with zero-drift impact, using Terraform CLI init/plan -detailed-exitcode, then a -target run, and finally a full plan. Include the exact resource address to target?","answer":"Execute `terraform init` followed by `terraform plan -detailed-exitcode` to detect drift across all accounts. Use `terraform state list` to identify the specific security group resource address for acct-b, typically formatted as `module.network[\"acct-b\"].aws_security_group.sg[\"web-internal\"]`. Then run a targeted plan and apply using `-target` to remediate only that drifted resource: `terraform plan -target=module.network[\"acct-b\"].aws_security_group.sg[\"web-internal\"]` and `terraform apply -target=module.network[\"acct-b\"].aws_security_group.sg[\"web-internal\"]`. Finally, run `terraform plan` again to confirm zero drift across all resources.","explanation":"## Why This Is Asked\nTests drift detection and surgical targeting capabilities in multi-account Terraform environments where manual changes require precise remediation without disrupting other resources.\n\n## Key Concepts\n- Drift detection using `plan -detailed-exitcode`\n- Targeted resource remediation with `-target`\n- Managing state across multiple module instances\n- Zero-diff verification after targeted fixes\n\n## Code Example\n```bash\n# Initialize and detect drift\nterraform init\nterraform plan -detailed-exitcode\n\n# Identify drifted resource\nterraform state list | grep acct-b\n\n# Targeted remediation\nterraform plan -target=module.network[\"acct-b\"].aws_security_group.sg[\"web-internal\"]\nterraform apply -target=module.network[\"acct-b\"].aws_security_group.sg[\"web-internal\"]\n\n# Verify zero drift\nterraform plan\n```\n\n## Follow-up Questions\n- How would you handle multiple drifted resources in the same account?\n- What precautions should you take before running targeted applies?\n- How can you prevent manual changes to Terraform-managed resources?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Amazon","Meta","Twitter"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-16T05:22:52.052Z","createdAt":"2026-01-15T22:52:47.090Z"},{"id":"q-2610","question":"In a Terraform repo with two modules, networking (producing vpc_id and public_subnet_ids as outputs) and app (consuming them), configure and use a remote state data source to read networking's outputs from a remote backend and reference them in app. Provide exact code for data 'terraform_remote_state' and show how to use outputs.vpc_id and outputs.public_subnet_ids in the app module. Assume AWS S3 backend?","answer":"Configure a remote state data source in the app module to read networking outputs from S3. In app/main.tf, declare:\n\n```hcl\ndata \"terraform_remote_state\" \"networking\" {\n  backend = \"s3\"\n  config = {\n    bucket = \"infra-state\"\n    key    = \"networking/terraform.tfstate\"\n    region = \"us-east-1\"\n  }\n}\n\nresource \"aws_instance\" \"web\" {\n  subnet_id = data.terraform_remote_state.networking.outputs.public_subnet_ids[0]\n  vpc_id    = data.terraform_remote_state.networking.outputs.vpc_id\n  # ... additional configuration\n}\n```","explanation":"## Why This Is Asked\nTests knowledge of cross-module references via remote state in multi-module Terraform repositories.\n\n## Key Concepts\n- Remote state data source for inter-module communication\n- S3 backend configuration\n- Output consumption across separate Terraform configurations\n\n## Implementation Notes\nThe `terraform_remote_state` data source enables the app module to access outputs from the networking module's state file stored in S3, facilitating loose coupling between modules while maintaining infrastructure dependencies.","diagram":null,"difficulty":"beginner","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Apple","Databricks","Slack"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-16T05:01:42.064Z","createdAt":"2026-01-16T02:41:10.310Z"},{"id":"q-864","question":"In Terraform, you need to manage two AWS accounts in a single repo: prod (provider aws.prod) and audit (provider aws.audit). Create an S3 bucket in prod and a cross-account IAM policy in audit that grants read access to that bucket. How do you configure aliased providers, reference the prod bucket ARN from the audit module, and enforce deterministic apply order (e.g., data fetch before policy) with minimal risk? Include a minimal config outline?","answer":"Define two providers with aliases (aws.prod and aws.audit). Create the bucket using aws.prod, then fetch its ARN from prod via data.aws_s3_bucket in the audit config and craft an audit IAM policy that","explanation":"## Why This Is Asked\n\nThis question tests multi-account Terraform patterns: provider aliases, cross-account data sources, and deterministic apply order.\n\n## Key Concepts\n\n- Aliased providers\n- Cross-account data sources\n- Data referencing across providers\n- depends_on for ordering\n- Credentials management via profiles and assume_role\n\n## Code Example\n\n```hcl\nprovider \"aws\" {\n  alias   = \"prod\"\n  region  = \"us-east-1\"\n  profile = \"prod\"\n}\nprovider \"aws\" {\n  alias   = \"audit\"\n  region  = \"us-east-1\"\n  profile = \"audit\"\n}\n\ndata \"aws_caller_identity\" \"prod\" {\n  provider = aws.prod\n}\n\ndata \"aws_s3_bucket\" \"prod_bucket\" {\n  provider = aws.prod\n  bucket   = \"my-prod-bucket\"\n}\n\ndata \"aws_iam_policy_document\" \"audit\" {\n  provider = aws.audit\n  statement {\n    actions   = [\"s3:GetObject\"]\n    resources = [\"${data.aws_s3_bucket.prod_bucket.arn}/*\"]\n    principals {\n      type        = \"AWS\"\n      identifiers = [\"arn:aws:iam::${data.aws_caller_identity.prod.account_id}:root\"]\n    }\n  }\n}\n\nresource \"aws_s3_bucket\" \"audit_bucket\" {\n  provider = aws.audit\n  bucket   = \"audit-bucket\"\n}\n\nresource \"aws_iam_policy\" \"audit_policy\" {\n  provider = aws.audit\n  name     = \"CrossAccountGetObject\"\n  policy   = data.aws_iam_policy_document.audit.json\n}\n```\n\n## Follow-up Questions\n\n- How would you rotate credentials for the aliased providers safely?\n- How would you test this cross-account permission in a CI workflow?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Snap","Snowflake","Square"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-12T13:45:51.426Z","createdAt":"2026-01-12T13:45:51.426Z"},{"id":"q-960","question":"In a single Terraform repo that provisions prod, staging, and dev AWS environments, how would you configure a single S3 backend to isolate state for each environment without using separate Terraform workspaces? Provide the exact backend config (bucket, region, dynamodb_lock_table, key per env) and explain how you would promote changes from dev to prod, including drift handling and CI plan/apply steps?","answer":"Use one S3 bucket with environment-scoped keys and per-env locking: dev/terraform.tfstate with tf-lock-dev, staging/terraform.tfstate with tf-lock-staging, prod/terraform.tfstate with tf-lock-prod. Do","explanation":"## Why This Is Asked\n\nTests practical backend configuration and multi-environment isolation without relying on workspaces, which can obscure state provenance. It also covers promotion workflows and drift handling in CI.\n\n## Key Concepts\n\n- Terraform backends and per-environment state isolation\n- State locking with DynamoDB per environment\n- Promotion pipelines and drift considerations in CI/CD\n\n## Code Example\n\n```hcl\nterraform {\n  backend \"s3\" {\n    bucket         = \"tf-state-bucket\"\n    key            = \"dev/terraform.tfstate\"\n    region         = \"us-east-1\"\n    dynamodb_table = \"tf-lock-dev\"\n    encrypt        = true\n  }\n}\n```\n\n```hcl\nterraform {\n  backend \"s3\" {\n    bucket         = \"tf-state-bucket\"\n    key            = \"prod/terraform.tfstate\"\n    region         = \"us-east-1\"\n    dynamodb_table = \"tf-lock-prod\"\n    encrypt        = true\n  }\n}\n```\n\n## Follow-up Questions\n\n- How would you handle a state drift detected in prod after a manual change?\n- What are the trade-offs of using a single bucket with per-env keys vs separate buckets per env?","diagram":null,"difficulty":"intermediate","tags":["terraform-associate"],"channel":"terraform-associate","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Bloomberg","Google","Hashicorp"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":true,"lastUpdated":"2026-01-12T17:21:52.897Z","createdAt":"2026-01-12T17:21:52.897Z"}],"subChannels":["general"],"companies":["Adobe","Amazon","Apple","Bloomberg","Citadel","Cloudflare","Coinbase","Databricks","Goldman Sachs","Google","Hashicorp","Hugging Face","IBM","Instacart","LinkedIn","Lyft","Meta","Microsoft","MongoDB","NVIDIA","Netflix","Oracle","PayPal","Plaid","Robinhood","Salesforce","Scale Ai","Slack","Snap","Snowflake","Square","Tesla","Twitter","Zoom"],"stats":{"total":29,"beginner":11,"intermediate":9,"advanced":9,"newThisWeek":29}}