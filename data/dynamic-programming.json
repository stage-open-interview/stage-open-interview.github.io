{"questions":[{"id":"q-679","question":"In a warehouse grid of size n x m, each cell has a traversal cost. You can move only right or down from (0,0) to (n-1,m-1). You have a one-time token to halve the cost of exactly one visited cell. Design an O(nm) DP to compute the minimum path cost after optimally using the discount, and describe the recurrences and a space-optimized implementation?","answer":"Maintain two DP arrays: best without using the discount (dp0) and best with the discount already used (dp1). For grid costs c[i][j], set:\ndp0[i][j] = c[i][j] + min(dp0[i-1][j], dp0[i][j-1]);\ndp1[i][j]","explanation":"## Why This Is Asked\nTests real DP design with an extra state (discount used) and careful recurrence.\n\n## Key Concepts\n- 2D DP with a binary state (discount used or not)\n- Transitions combine taking cost with/without discount\n- Space optimization using rolling arrays\n\n## Code Example\n```javascript\nfunction minCostWithDiscount(grid){\n  const n = grid.length, m = grid[0].length;\n  const INF = 1e15;\n  let dp0 = new Array(m).fill(INF);\n  let dp1 = new Array(m).fill(INF);\n  dp0[0] = grid[0][0];\n  dp1[0] = Math.floor(grid[0][0] / 2);\n  for (let j = 1; j < m; j++) {\n    dp0[j] = grid[0][j] + dp0[j-1];\n    dp1[j] = Math.min(grid[0][j] + dp1[j-1], Math.floor(grid[0][j]/2) + dp0[j-1]);\n  }\n  for (let i = 1; i < n; i++) {\n    dp0[0] += grid[i][0];\n    dp1[0] = Math.min(grid[i][0] + dp1[0], Math.floor(grid[i][0]/2) + dp0[0-1]);\n    for (let j = 1; j < m; j++) {\n      const v = grid[i][j];\n      dp1[j] = Math.min(v + Math.min(dp1[j], dp1[j-1]), Math.floor(v/2) + Math.min(dp0[j], dp0[j-1]));\n      dp0[j] = v + Math.min(dp0[j], dp0[j-1]);\n    }\n  }\n  return dp1[m-1];\n}\n```\n\n## Follow-up Questions\n- How would you support multiple discounts or varying discount values?\n- How does this adapt if diagonal moves are allowed or costs can be negative?","diagram":null,"difficulty":"advanced","tags":["dynamic-programming"],"channel":"dynamic-programming","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Anthropic","Snap","Twitter"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":false,"lastUpdated":"2026-01-11T15:57:04.021Z","createdAt":"2026-01-11T15:57:04.021Z"}],"subChannels":["general"],"companies":["Anthropic","Snap","Twitter"],"stats":{"total":1,"beginner":0,"intermediate":0,"advanced":1,"newThisWeek":1}}