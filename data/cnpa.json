{"questions":[{"id":"q-845","question":"In a MongoDB-backed service, read latency tails spike during peak hours. Provide a concrete, practical debugging plan to determine whether the bottleneck is network, driver, query plan, or index design. Include exact steps, metrics to collect, and concrete changes (indexes, readConcern, pooling) you would apply, plus how you would verify impact?","answer":"Collect end-to-end latency, queue depth, and replica lag; enable slow query logs and run explain on top slow queries; verify index coverage with compound indexes; apply index hints or add a composite ","explanation":"## Why This Is Asked\nThis question probes practical debugging of latency in a MongoDB-backed service with real-world constraints.\n\n## Key Concepts\n- Tail latency diagnosis: slow queries, network, driver pool\n- Explain plans and index design: compound indexes, prefix rules\n- Replica lag and read concerns\n- Driver tuning and observability\n\n## Code Example\n```js\ndb.collection(`orders`).find({ userId: id }).explain(`executionStats`);\n```\n\n## Follow-up Questions\n- How would you validate the impact of an index change in production?\n- What metrics would you alert on for sustained tail latency?","diagram":null,"difficulty":"intermediate","tags":["cnpa"],"channel":"cnpa","subChannel":"general","sourceUrl":null,"videos":{"shortVideo":null,"longVideo":null},"companies":["Anthropic","Lyft","MongoDB"],"eli5":null,"relevanceScore":null,"voiceKeywords":null,"voiceSuitable":false,"isNew":false,"lastUpdated":"2026-01-12T13:28:43.195Z","createdAt":"2026-01-12T13:28:43.195Z"}],"subChannels":["general"],"companies":["Anthropic","Lyft","MongoDB"],"stats":{"total":1,"beginner":0,"intermediate":1,"advanced":0,"newThisWeek":1}}