<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>On a Unix host, logs for services live under /var/log/services/** with mixed rotation: some files are daily rotated by logrotate (copytruncate) and others are hourly into .gz archives. Write a robust one-liner (no external deps beyond standard UNIX tools) that outputs a per-service, per-minute event rate for the last 15 minutes, counting each unique line only once even if it appears in multiple rotated copies, and tolerating unreadable files. The log lines come in either plain text like [YYYY-MM-DD HH:MM:SS] service: msg or JSON like {\&quot;ts\&quot;:\&quot;YYYY-MM-DDTHH:MM:SSZ\&quot;,\&quot;svc\&quot;:\&quot;name\&quot;,\&quot;lvl\&quot;:\&quot;ERROR\&quot;,\&quot;msg\&quot;:\&quot;...\&quot;}?</title>
  <meta name="description" content="">
</head>
<body>
  <article data-pagefind-body>
    <h1 data-pagefind-meta="title">On a Unix host, logs for services live under /var/log/services/** with mixed rotation: some files are daily rotated by logrotate (copytruncate) and others are hourly into .gz archives. Write a robust one-liner (no external deps beyond standard UNIX tools) that outputs a per-service, per-minute event rate for the last 15 minutes, counting each unique line only once even if it appears in multiple rotated copies, and tolerating unreadable files. The log lines come in either plain text like [YYYY-MM-DD HH:MM:SS] service: msg or JSON like {\&quot;ts\&quot;:\&quot;YYYY-MM-DDTHH:MM:SSZ\&quot;,\&quot;svc\&quot;:\&quot;name\&quot;,\&quot;lvl\&quot;:\&quot;ERROR\&quot;,\&quot;msg\&quot;:\&quot;...\&quot;}?</h1>
    
    <div data-pagefind-filter="channel">unix</div>
    <div data-pagefind-filter="difficulty">advanced</div>
    <div data-pagefind-filter="topic">General</div>
    
    <div data-pagefind-meta="channel" data-pagefind-meta-value="unix"></div>
    <div data-pagefind-meta="difficulty" data-pagefind-meta-value="advanced"></div>
    <div data-pagefind-meta="id" data-pagefind-meta-value="q-5199"></div>
    
    <main>
      <section class="answer">
        
      </section>
      
      
      <section class="tags">
        <span>unix</span>
      </section>
      
      
      
      <section class="companies" data-pagefind-filter="company">
        <span>Hashicorp</span> <span>Tesla</span> <span>Two Sigma</span>
      </section>
      
    </main>
  </article>
</body>
</html>