<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CNPA stack with HTTP API, PostgreSQL, Kafka, Redis, and Elasticsearch. During a feature flag rollout that adjusts per-tenant pricing, peak traffic causes Elasticsearch latency and Redis cache misses to spike while DB latency stays steady. Design a concrete debugging plan to isolate whether the bottleneck is the cache invalidation, the indexing pipeline, or the flag rollout logic. Include exact steps, metrics, and concrete fixes (outbox pattern, idempotent index upserts, per-tenant TTL caches) and how you would verify impact?</title>
  <meta name="description" content="">
</head>
<body>
  <article data-pagefind-body>
    <h1 data-pagefind-meta="title">CNPA stack with HTTP API, PostgreSQL, Kafka, Redis, and Elasticsearch. During a feature flag rollout that adjusts per-tenant pricing, peak traffic causes Elasticsearch latency and Redis cache misses to spike while DB latency stays steady. Design a concrete debugging plan to isolate whether the bottleneck is the cache invalidation, the indexing pipeline, or the flag rollout logic. Include exact steps, metrics, and concrete fixes (outbox pattern, idempotent index upserts, per-tenant TTL caches) and how you would verify impact?</h1>
    
    <div data-pagefind-filter="channel">cnpa</div>
    <div data-pagefind-filter="difficulty">advanced</div>
    <div data-pagefind-filter="topic">General</div>
    
    <div data-pagefind-meta="channel" data-pagefind-meta-value="cnpa"></div>
    <div data-pagefind-meta="difficulty" data-pagefind-meta-value="advanced"></div>
    <div data-pagefind-meta="id" data-pagefind-meta-value="q-6568"></div>
    
    <main>
      <section class="answer">
        
      </section>
      
      
      <section class="tags">
        <span>cnpa</span>
      </section>
      
      
      
      <section class="companies" data-pagefind-filter="company">
        <span>Airbnb</span> <span>Netflix</span> <span>Uber</span>
      </section>
      
    </main>
  </article>
</body>
</html>