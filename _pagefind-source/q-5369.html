<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>You have a PostgreSQL-like distributed database with a fact_sales table partitioned by region (hash) and date (range). A query runs: select p.category, sum(s.amount) from fact_sales s join dim_product p on s.product_id=p.id join dim_store st on s.store_id=st.id where st.country=&#039;US&#039; and st.region=&#039;West&#039; and s.sale_date &gt;= &#039;2026-01-01&#039; and s.sale_date &lt; &#039;2026-01-08&#039; group by p.category; The data volume is ~10B rows; partitions are daily for each region. Explain how you would evaluate and optimize its query plan using explain analyze, focusing on partition pruning, index strategy, and any materialization vs streaming decisions. Propose changes and justify performance trade-offs?</title>
  <meta name="description" content="">
</head>
<body>
  <article data-pagefind-body>
    <h1 data-pagefind-meta="title">You have a PostgreSQL-like distributed database with a fact_sales table partitioned by region (hash) and date (range). A query runs: select p.category, sum(s.amount) from fact_sales s join dim_product p on s.product_id=p.id join dim_store st on s.store_id=st.id where st.country=&#039;US&#039; and st.region=&#039;West&#039; and s.sale_date &gt;= &#039;2026-01-01&#039; and s.sale_date &lt; &#039;2026-01-08&#039; group by p.category; The data volume is ~10B rows; partitions are daily for each region. Explain how you would evaluate and optimize its query plan using explain analyze, focusing on partition pruning, index strategy, and any materialization vs streaming decisions. Propose changes and justify performance trade-offs?</h1>
    
    <div data-pagefind-filter="channel">database</div>
    <div data-pagefind-filter="difficulty">advanced</div>
    <div data-pagefind-filter="topic">Query Optimization</div>
    
    <div data-pagefind-meta="channel" data-pagefind-meta-value="database"></div>
    <div data-pagefind-meta="difficulty" data-pagefind-meta-value="advanced"></div>
    <div data-pagefind-meta="id" data-pagefind-meta-value="q-5369"></div>
    
    <main>
      <section class="answer">
        
      </section>
      
      
      <section class="tags">
        <span>explain</span> <span>query-plan</span> <span>partitioning</span>
      </section>
      
      
      
      <section class="companies" data-pagefind-filter="company">
        <span>Amazon</span> <span>Apple</span> <span>Two Sigma</span>
      </section>
      
    </main>
  </article>
</body>
</html>