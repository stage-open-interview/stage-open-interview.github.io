<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>You&#039;re running a backend that caches user profile data across Redis (primary) and Memcached (secondary), with writes landing in a relational DB via a write-behind worker. Design a concrete, per-tenant cache invalidation strategy that (a) uses tenant:{tid}:user:{uid} keys, (b) invalidates on writes via a pub/sub or keyspace events, (c) minimizes stale reads yet avoids cache stampede with hot keys, (d) propagates related invalidations (e.g., profile picture changes) across services, and (e) discusses TTL choices and failure modes. Provide a data structure outline and a small code snippet in your preferred language showing the invalidation path?</title>
  <meta name="description" content="">
</head>
<body>
  <article data-pagefind-body>
    <h1 data-pagefind-meta="title">You&#039;re running a backend that caches user profile data across Redis (primary) and Memcached (secondary), with writes landing in a relational DB via a write-behind worker. Design a concrete, per-tenant cache invalidation strategy that (a) uses tenant:{tid}:user:{uid} keys, (b) invalidates on writes via a pub/sub or keyspace events, (c) minimizes stale reads yet avoids cache stampede with hot keys, (d) propagates related invalidations (e.g., profile picture changes) across services, and (e) discusses TTL choices and failure modes. Provide a data structure outline and a small code snippet in your preferred language showing the invalidation path?</h1>
    
    <div data-pagefind-filter="channel">backend</div>
    <div data-pagefind-filter="difficulty">intermediate</div>
    <div data-pagefind-filter="topic">Caching</div>
    
    <div data-pagefind-meta="channel" data-pagefind-meta-value="backend"></div>
    <div data-pagefind-meta="difficulty" data-pagefind-meta-value="intermediate"></div>
    <div data-pagefind-meta="id" data-pagefind-meta-value="q-6506"></div>
    
    <main>
      <section class="answer">
        
      </section>
      
      
      <section class="tags">
        <span>redis</span> <span>memcached</span> <span>cache-invalidation</span>
      </section>
      
      
      
      <section class="companies" data-pagefind-filter="company">
        <span>Airbnb</span> <span>Amazon</span> <span>LinkedIn</span>
      </section>
      
    </main>
  </article>
</body>
</html>