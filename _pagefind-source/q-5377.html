<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>In a CNPA stack with an HTTP API, PostgreSQL, Kafka, and Redis, a new global feature toggle routes 10% of user requests through an asynchronous analytics path that writes to Postgres and then publishes to Kafka. After rollout, end-to-end latency tails double for those requests. Design a concrete debugging plan to determine whether latency is caused by HTTP handling, DB writes, Kafka publish, or the analytics sink, including exact steps, metrics to collect, sampling strategies, and concrete fixes (pool sizing, transactional outbox, idempotent sinks, reduced retries, backpressure) and how you would verify impact?</title>
  <meta name="description" content="">
</head>
<body>
  <article data-pagefind-body>
    <h1 data-pagefind-meta="title">In a CNPA stack with an HTTP API, PostgreSQL, Kafka, and Redis, a new global feature toggle routes 10% of user requests through an asynchronous analytics path that writes to Postgres and then publishes to Kafka. After rollout, end-to-end latency tails double for those requests. Design a concrete debugging plan to determine whether latency is caused by HTTP handling, DB writes, Kafka publish, or the analytics sink, including exact steps, metrics to collect, sampling strategies, and concrete fixes (pool sizing, transactional outbox, idempotent sinks, reduced retries, backpressure) and how you would verify impact?</h1>
    
    <div data-pagefind-filter="channel">cnpa</div>
    <div data-pagefind-filter="difficulty">intermediate</div>
    <div data-pagefind-filter="topic">General</div>
    
    <div data-pagefind-meta="channel" data-pagefind-meta-value="cnpa"></div>
    <div data-pagefind-meta="difficulty" data-pagefind-meta-value="intermediate"></div>
    <div data-pagefind-meta="id" data-pagefind-meta-value="q-5377"></div>
    
    <main>
      <section class="answer">
        
      </section>
      
      
      <section class="tags">
        <span>cnpa</span>
      </section>
      
      
      
      <section class="companies" data-pagefind-filter="company">
        <span>IBM</span> <span>Netflix</span> <span>Zoom</span>
      </section>
      
    </main>
  </article>
</body>
</html>