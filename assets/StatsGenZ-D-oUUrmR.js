import{u as C,a as L,b as P,r as u,g as T,d as A,j as e,m as a,Z as D,T as b}from"./index-Bb5bc9Dq.js";import{A as I}from"./AppLayout-C9F30LIA.js";import{c as M}from"./data-D9ONYv5s.js";import{S as $}from"./SEOHead-CApfqhSl.js";import"./haptics-U-QSL8hh.js";import{P as Q,S as E}from"./PullToRefresh-cy0flHWD.js";import{F}from"./use-focus-trap-B3UEM0WV.js";import{T as O}from"./use-unified-toast-BEJqNzYt.js";import{C as R}from"./calendar-qCyP5SKn.js";import"./sparkles-5qaI5_ia.js";import"./UnifiedSearch-BXjkTzZC.js";import"./UnifiedNav-D87q8tut.js";import"./chart-column-Bdvx6E9H.js";import"./user-B0PZynB9.js";import"./use-reduced-motion-CRN5Jr0K.js";import"./index-CvbyFNTD.js";import"./use-transform-BkprDROv.js";import"./index-ZyxZLn2f.js";function ie(){const[,g]=C(),{stats:n}=L(),{balance:c}=P(),[f,j]=u.useState(!1),{totalCompleted:y,totalQuestions:H,streak:v,moduleProgress:N}=u.useMemo(()=>{const t=T(),r=new Set,l=M.map(s=>{const i=A(s.id),d=localStorage.getItem(`progress-${s.id}`),p=d?new Set(JSON.parse(d)):new Set;Array.from(p).forEach(S=>r.add(S));const h=Math.min(p.size,i.length),k=i.length>0?Math.min(100,Math.round(h/i.length*100)):0;return{id:s.id,name:s.name,completed:h,total:i.length,pct:k}}).filter(s=>s.total>0).sort((s,i)=>i.pct-s.pct);let o=0;for(let s=0;s<365;s++){const i=new Date;if(i.setDate(i.getDate()-s),n.find(d=>d.date===i.toISOString().split("T")[0]))o++;else break}return{totalCompleted:r.size,totalQuestions:t.length,streak:o,moduleProgress:l}},[n]),m=Math.floor(c/100),x=c%100,w=async()=>{j(!0),await new Promise(t=>setTimeout(t,500)),window.location.reload()};return e.jsxs(e.Fragment,{children:[e.jsx($,{title:"Your Stats - Track Your Progress ðŸ“Š",description:"See your learning progress, streaks, and achievements",canonical:"https://open-interview.github.io/stats"}),e.jsx(I,{children:e.jsx(Q,{onRefresh:w,children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-black text-black dark:text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 mb-12",children:[e.jsxs("h1",{className:"text-6xl md:text-7xl font-black",children:["Your",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-primary to-cyan-500 bg-clip-text text-transparent",children:"progress"})]}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Keep crushing it ðŸ’ª"})]}),f?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[...Array(4)].map((t,r)=>e.jsx(E,{},r))}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"p-8 bg-gradient-to-br from-orange-500/20 to-red-500/20 backdrop-blur-xl rounded-[24px] border border-orange-500/30",children:[e.jsx(F,{className:"w-12 h-12 text-orange-500 mb-4"}),e.jsx("div",{className:"text-5xl font-black mb-2",children:v}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"day streak"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"p-8 bg-gradient-to-br from-primary/20 to-cyan-500/20 backdrop-blur-xl rounded-[24px] border border-primary/30",children:[e.jsx(D,{className:"w-12 h-12 text-primary mb-4"}),e.jsx("div",{className:"text-5xl font-black mb-2",children:c}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"total XP"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"p-8 bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-xl rounded-[24px] border border-purple-500/30",children:[e.jsx(b,{className:"w-12 h-12 text-purple-400 mb-4"}),e.jsx("div",{className:"text-5xl font-black mb-2",children:m}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"level"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"p-8 bg-gradient-to-br from-[#ffd700]/20 to-[#ff8c00]/20 backdrop-blur-xl rounded-[24px] border border-[#ffd700]/30",children:[e.jsx(O,{className:"w-12 h-12 text-[#ffd700] mb-4"}),e.jsx("div",{className:"text-5xl font-black mb-2",children:y}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"completed"})]})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"p-8 bg-muted/50 backdrop-blur-xl rounded-[24px] border border-border mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Level ",m]}),e.jsxs("span",{className:"text-muted-foreground",children:[x,"/100 XP"]})]}),e.jsx("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:1,delay:.6},className:"h-full bg-gradient-to-r from-primary to-cyan-500"})})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-black",children:"Channel Progress"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.slice(0,10).map((t,r)=>e.jsxs(a.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+r*.05},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>g(`/channel/${t.id}`),className:"p-6 bg-muted/50 backdrop-blur-xl rounded-[20px] border border-border hover:border-border transition-all text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:t.name}),t.pct===100&&e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#ffd700] to-[#ff8c00] rounded-full flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-black"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[t.completed,"/",t.total]}),e.jsxs("span",{className:"font-bold",children:[t.pct,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${t.pct}%`},transition:{duration:1,delay:.8+r*.1},className:"h-full bg-gradient-to-r from-primary to-cyan-500"})})]})]},t.id))})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-12 p-8 bg-muted/50 backdrop-blur-xl rounded-[24px] border border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(R,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Activity Heatmap"}),e.jsx("span",{className:"text-sm text-muted-foreground ml-auto",children:"Last 13 weeks"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-muted-foreground justify-around py-1",children:[e.jsx("div",{children:"Mon"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{children:"Fri"})]}),e.jsx("div",{className:"grid grid-cols-13 gap-1",children:Array.from({length:91}).map((t,r)=>{const l=new Date;l.setDate(l.getDate()-(90-r));const o=n.find(s=>s.date===l.toISOString().split("T")[0]);return l.getDay(),e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1+r*.002},className:`aspect-square rounded-md transition-all hover:scale-110 ${o?"bg-gradient-to-br from-primary to-cyan-500 shadow-lg shadow-[#00ff88]/20":"bg-muted/50 hover:bg-muted"}`,title:`${l.toLocaleDateString()}${o?" - Active":""}`},r)})})]}),e.jsxs("div",{className:"flex items-center gap-4 justify-end pt-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:"Less"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-muted/50 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/30 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/60 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-primary to-cyan-500 rounded-sm"})]}),e.jsx("span",{children:"More"})]})]})]})]})})})})]})}export{ie as default};
