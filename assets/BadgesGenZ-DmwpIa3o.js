import{r as o,D as N,E as k,F as p,G as w,j as e,m,T as j}from"./index-DOYVIj8F.js";import{A as y}from"./AppLayout-DNSIdfbr.js";import{S as A}from"./SEOHead-DotXq0Bw.js";import{L as S}from"./lock-uj3sbR5v.js";import{S as U}from"./sparkles-D8ZWFGtq.js";import"./tag-DX-SISCc.js";import"./use-unified-toast-XNmZYGPi.js";import"./UnifiedSearch-97FBXn4U.js";import"./UnifiedNav-CzXdSTi6.js";import"./chart-column-C1CqMQaX.js";import"./user-DzrWyxRh.js";function $(){const[r,l]=o.useState([]),[x,u]=o.useState([]),[c,h]=o.useState(!0);o.useEffect(()=>{(()=>{try{const s=p();l(s)}catch(s){console.error("Failed to load achievement progress:",s)}finally{h(!1)}})()},[]),o.useEffect(()=>N(s=>{u(s),l(p()),setTimeout(()=>u([]),5e3)}),[]);const b=o.useCallback(a=>{const s=k(a);s.length>0&&u(s),l(p())},[]),f=o.useMemo(()=>r.filter(a=>a.isUnlocked),[r]),t=o.useMemo(()=>r.filter(a=>!a.isUnlocked),[r]),d=o.useCallback(a=>r.filter(s=>s.achievement.category===a),[r]),i=o.useMemo(()=>w(5),[r]),n=o.useMemo(()=>{const a=r.length,s=f.length,v=Math.round(s/a*100);return{total:a,unlocked:s,locked:t.length,percentage:v}},[r,f,t]);return{progress:r,unlocked:f,locked:t,nextUp:i,stats:n,newlyUnlocked:x,trackEvent:b,byCategory:d,isLoading:c}}const g={bronze:"from-[#cd7f32] to-[#8b4513]",silver:"from-[#c0c0c0] to-[#808080]",gold:"from-[#ffd700] to-[#ff8c00]",platinum:"from-[#e5e4e2] to-[#b0b0b0]",diamond:"from-[#b9f2ff] to-cyan-500"};function Y(){const{progress:r,nextUp:l,stats:x,isLoading:u}=$(),[c,h]=o.useState(null),b=Array.from(new Set(r.map(t=>t.achievement.category))),f=c?r.filter(t=>t.achievement.category===c):r;return u?e.jsx(y,{children:e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Loading achievements..."})]})})}):!r||r.length===0?e.jsx(y,{children:e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No badges yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Start completing challenges to earn badges!"})]})})}):e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Achievements - Your Badges ðŸ†",description:"View your earned badges and achievements",canonical:"https://open-interview.github.io/badges"}),e.jsx(y,{children:e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 mb-12",children:[e.jsxs("h1",{className:"text-6xl md:text-7xl font-black",children:["Your",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] bg-clip-text text-transparent",children:"achievements"})]}),e.jsxs("p",{className:"text-xl text-muted-foreground",children:[x.unlocked,"/",x.total," unlocked"]})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto mb-12",children:e.jsx("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${x.percentage}%`},transition:{duration:1,delay:.2},className:"h-full bg-gradient-to-r from-[#ffd700] to-[#ff8c00]"})})}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap gap-3 justify-center mb-12",children:[e.jsx("button",{onClick:()=>h(null),className:`px-6 py-3 rounded-full font-semibold transition-all ${c?"bg-muted/50 border border-border hover:bg-muted":"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black"}`,children:"All"}),b.map(t=>e.jsx("button",{onClick:()=>h(t),className:`px-6 py-3 rounded-full font-semibold transition-all capitalize ${c===t?"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black":"bg-muted/50 border border-border hover:bg-muted"}`,children:t},t))]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map((t,d)=>{const i=t.achievement,n=t.isUnlocked,a=t.progress,s=t.target;return e.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Math.min(d*.05,.5)},whileHover:{scale:n?1.05:1},className:`relative p-6 backdrop-blur-xl rounded-[24px] border transition-all ${n?"bg-muted/50 border-border":"bg-muted/20 border-border/50 opacity-50"}`,children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${n?`bg-gradient-to-br ${g[i.tier]||g.bronze}`:"bg-muted"}`,children:n?e.jsx(j,{className:"w-10 h-10 text-foreground",strokeWidth:2.5}):e.jsx(S,{className:"w-10 h-10 text-muted-foreground"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-bold",children:i.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description}),n&&t.unlockedAt&&e.jsxs("div",{className:"text-xs text-primary",children:["Unlocked ",new Date(t.unlockedAt).toLocaleDateString()]}),!n&&a!==void 0&&s!==void 0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a,"/",s]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-cyan-500",style:{width:`${Math.min(a/s*100,100)}%`}})})]}),e.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold capitalize ${n?`bg-gradient-to-r ${g[i.tier]||g.bronze} text-foreground`:"bg-muted text-muted-foreground"}`,children:i.tier})]})]},i.id)})}),l.length>0&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12 p-8 bg-gradient-to-br from-primary/20 to-cyan-500/20 backdrop-blur-xl rounded-[24px] border border-primary/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Almost There!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.slice(0,4).map(t=>{const d=t.achievement,i=t.current,n=t.target;return e.jsx("div",{className:"p-4 bg-muted/50 rounded-[16px] border border-border",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1",children:d.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[i,"/",n]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-cyan-500",style:{width:`${Math.min(i/n*100,100)}%`}})})]})]})},d.id)})})]})]})})})]})}export{Y as default};
