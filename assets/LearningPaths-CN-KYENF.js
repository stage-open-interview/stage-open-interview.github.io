import{u as E,r as s,j as e,m as u,S as T,X as U,T as F,Z as H}from"./index-Bd4OfHjt.js";import{A as Q}from"./AppLayout-CXFl3Z5f.js";import{S as X}from"./SEOHead-DMy2H_zX.js";import{B as P}from"./book-open-C2d09uNf.js";import{F as Z}from"./UnifiedSearch-ClhsMaBY.js";import{T as z}from"./terminal-CcsEM8Xu.js";import{C as M}from"./clock-DxtfVdFZ.js";import{B as A,F as G,C as K}from"./tag-Dn0a4MoH.js";import{B as L}from"./briefcase-CZF0k-_Y.js";import{A as V}from"./arrow-right-CW9QK2F-.js";import{T as k}from"./target-DhIvVmUJ.js";import"./UnifiedNav-BhtY2tpG.js";import"./mic-CdTPNIKc.js";import"./use-unified-toast-CTLjDvXk.js";import"./chart-column-8tMXumHP.js";import"./bookmark-BGMfdiyv.js";import"./user-CyQS8Ggn.js";import"./loader-circle-BLr-gu0E.js";const W=a=>{switch(a){case"beginner":return{icon:e.jsx(H,{className:"w-4 h-4"}),color:"text-green-500",bg:"bg-green-500/10",label:"Beginner"};case"intermediate":return{icon:e.jsx(k,{className:"w-4 h-4"}),color:"text-yellow-500",bg:"bg-yellow-500/10",label:"Intermediate"};case"advanced":return{icon:e.jsx(G,{className:"w-4 h-4"}),color:"text-red-500",bg:"bg-red-500/10",label:"Advanced"};default:return{icon:e.jsx(k,{className:"w-4 h-4"}),color:"text-muted-foreground",bg:"bg-muted",label:"Unknown"}}},Y=a=>{switch(a){case"company":return e.jsx(A,{className:"w-6 h-6"});case"job-title":return e.jsx(L,{className:"w-6 h-6"});case"skill":return e.jsx(K,{className:"w-6 h-6"});case"certification":return e.jsx(F,{className:"w-6 h-6"});default:return e.jsx(P,{className:"w-6 h-6"})}},_=a=>{switch(a){case"company":return"from-blue-500 to-cyan-500";case"job-title":return"from-purple-500 to-pink-500";case"skill":return"from-green-500 to-emerald-500";case"certification":return"from-orange-500 to-red-500";default:return"from-gray-500 to-gray-600"}};function be(){const[,a]=E(),[n,h]=s.useState([]),[p,g]=s.useState(!0),[i,f]=s.useState(""),[o,b]=s.useState("all"),[c,j]=s.useState("all"),[d,y]=s.useState("all"),[m,v]=s.useState("all"),[B,q]=s.useState([]),[$,I]=s.useState([]),[N,J]=s.useState(!1);s.useEffect(()=>{O(),R()},[o,c,d,m,i]);const O=async()=>{try{g(!0);const t=new URLSearchParams;o!=="all"&&t.append("difficulty",o),c!=="all"&&t.append("pathType",c),d!=="all"&&t.append("company",d),m!=="all"&&t.append("jobTitle",m),i&&t.append("search",i);const l=await(await fetch(`/api/learning-paths?${t.toString()}`)).json();h(l)}catch(t){console.error("Failed to fetch learning paths:",t),h([])}finally{g(!1)}},R=async()=>{try{const[t,r]=await Promise.all([fetch("/api/learning-paths/filters/companies"),fetch("/api/learning-paths/filters/job-titles")]);q(await t.json()),I(await r.json())}catch(t){console.error("Failed to fetch filter options:",t)}},D=async t=>{try{await fetch(`/api/learning-paths/${t.id}/start`,{method:"POST"})}catch(r){console.error("Failed to update popularity:",r)}t.questionIds.length>0?a(`/extreme/question/${t.questionIds[0]}`):t.channels.length>0&&a(`/extreme/channel/${t.channels[0]}`)},w=()=>{b("all"),j("all"),y("all"),v("all"),f("")},x=o!=="all"||c!=="all"||d!=="all"||m!=="all"||i!=="";return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Learning Paths | Structured Interview Prep",description:"Follow curated learning paths to master frontend, backend, system design, DevOps, and more. Structured roadmaps for technical interview preparation.",canonical:"https://open-interview.github.io/learning-paths"}),e.jsx(Q,{title:"Learning Paths",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:e.jsx(P,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl font-black text-foreground mb-4",children:"Learning Paths"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-6",children:"Follow structured roadmaps tailored to companies, job titles, and skills. Each path includes curated questions."}),e.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[e.jsx(T,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search learning paths...",value:i,onChange:t=>f(t.target.value),className:"w-full pl-12 pr-4 py-3 bg-card border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("button",{onClick:()=>J(!N),className:"flex items-center gap-2 px-4 py-2 bg-card border border-border rounded-lg text-foreground hover:bg-muted transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Filters"}),x&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-primary text-primary-foreground text-xs rounded-full",children:"Active"})]}),x&&e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(U,{className:"w-4 h-4"}),"Clear all"]})]}),N&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-card border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Path Type"}),e.jsxs("select",{value:c,onChange:t=>j(t.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"company",children:"Company-Specific"}),e.jsx("option",{value:"job-title",children:"Job Title"}),e.jsx("option",{value:"skill",children:"Skill-Based"}),e.jsx("option",{value:"certification",children:"Certification"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),e.jsxs("select",{value:o,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Company"}),e.jsxs("select",{value:d,onChange:t=>y(t.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"All Companies"}),B.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Job Title"}),e.jsxs("select",{value:m,onChange:t=>v(t.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"All Roles"}),$.map(t=>e.jsx("option",{value:t,children:t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")},t))]})]})]})]}),!p&&e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Found ",n.length," learning path",n.length!==1?"s":""]}),p&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading learning paths..."})]}),!p&&n.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,r)=>{const l=W(t.difficulty),S=_(t.pathType);return e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"group relative",children:e.jsxs("div",{className:"relative h-full bg-card border border-border rounded-xl overflow-hidden transition-all hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10",children:[e.jsx("div",{className:`h-2 bg-gradient-to-r ${S}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${S} text-white`,children:Y(t.pathType)}),e.jsx("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted rounded-full",children:e.jsx("span",{className:"text-xs text-muted-foreground font-medium capitalize",children:t.pathType.replace("-"," ")})})]}),e.jsx("h3",{className:"text-xl font-bold text-foreground mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.questionIds.length," questions"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.estimatedHours,"h"]})]})]}),t.targetCompany&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-500/10 text-blue-500 text-xs rounded-full",children:[e.jsx(A,{className:"w-3 h-3"}),t.targetCompany]})}),t.targetJobTitle&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-500/10 text-purple-500 text-xs rounded-full",children:[e.jsx(L,{className:"w-3 h-3"}),t.targetJobTitle.split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" ")]})}),e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${l.bg} mb-4`,children:[e.jsx("span",{className:l.color,children:l.icon}),e.jsx("span",{className:`text-xs font-bold ${l.color}`,children:l.label})]}),t.popularity>0&&e.jsxs("div",{className:"mb-4 text-xs text-muted-foreground",children:["ðŸ”¥ ",t.popularity," learners started this path"]}),e.jsxs("button",{onClick:()=>D(t),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-semibold transition-all bg-primary text-primary-foreground hover:bg-primary/90 cursor-pointer",children:["Start Learning",e.jsx(V,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})},t.id)})}),!p&&n.length===0&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:e.jsx(T,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"No learning paths found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters or search query"}),x&&e.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors",children:"Clear Filters"})]}),e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/30 rounded-full",children:[e.jsx(F,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm text-primary font-medium",children:"Learning paths are updated daily based on new questions and trends"})]})})]})})]})}export{be as default};
