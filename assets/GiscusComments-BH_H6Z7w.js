import{r,V as x,j as t}from"./index-Cn9kNtm6.js";import{M as b}from"./message-circle-BnchWNQR.js";import{C as j}from"./chevron-down-BfeY-uKX.js";import{L as C}from"./loader-circle-DHgpCF8c.js";const v="open-interview/open-interview.github.io",w="R_kgDOQuSz7g",A="General",N="DIC_kwDOQuSz7s4C0NCw",g=[];function L({questionId:i}){const[a,c]=r.useState(!1),[h,n]=r.useState(!1),[d,o]=r.useState(!1),s=r.useRef(null),{theme:u}=x(),l=g.includes(u)?"light":"transparent_dark";return r.useEffect(()=>{if(!a||!s.current||d)return;for(n(!0);s.current.firstChild;)s.current.removeChild(s.current.firstChild);const e=document.createElement("script");e.src="https://giscus.app/client.js",e.setAttribute("data-repo",v),e.setAttribute("data-repo-id",w),e.setAttribute("data-category",A),e.setAttribute("data-category-id",N),e.setAttribute("data-mapping","specific"),e.setAttribute("data-term",i),e.setAttribute("data-strict","0"),e.setAttribute("data-reactions-enabled","0"),e.setAttribute("data-emit-metadata","0"),e.setAttribute("data-input-position","top"),e.setAttribute("data-theme",l),e.setAttribute("data-lang","en"),e.crossOrigin="anonymous",e.async=!0,s.current.appendChild(e);const m=setTimeout(()=>{n(!1),o(!0)},3e3),p=f=>{f.origin==="https://giscus.app"&&f.data?.giscus&&(n(!1),o(!0),clearTimeout(m))};return window.addEventListener("message",p),()=>{window.removeEventListener("message",p),clearTimeout(m)}},[a,i,l,d]),r.useEffect(()=>{o(!1),c(!1)},[i]),t.jsxs("div",{className:"w-full mt-2 pb-16",children:[t.jsxs("button",{onClick:()=>c(!a),className:"w-full flex items-center justify-between gap-2 px-2.5 py-2 bg-gradient-to-r from-muted/40 to-muted/20 hover:from-muted/60 hover:to-muted/40 rounded-lg border border-border/50 transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-1 rounded-md bg-primary/10 group-hover:bg-primary/20 transition-colors",children:t.jsx(b,{className:"w-3.5 h-3.5 text-primary"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-xs font-medium text-foreground",children:"Discussion"}),t.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Ask questions or share insights"})]})]}),t.jsx(j,{className:`w-4 h-4 text-muted-foreground transition-transform duration-300 ${a?"rotate-180":""}`})]}),a&&t.jsx("div",{className:"mt-2",children:t.jsxs(t.Fragment,{children:[h&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-4 gap-1.5",children:[t.jsx(C,{className:"w-4 h-4 text-primary animate-spin"}),t.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Loading discussion..."})]}),t.jsx("div",{ref:s,className:"giscus min-h-[80px]",style:{colorScheme:g.includes(u)?"light":"dark"}})]})})]})}export{L as G};
