import{c as U,r as c,j as e,a9 as N,ab as i,W as w,m,Z as M,D as T,l as G,h as J,k as K}from"./index-qzpS0G-G.js";import{S as X}from"./SEOHead-BjfoPu0v.js";import{A as Y}from"./AppLayout-CkdyaJm3.js";import{B as C}from"./bot-DOxRpcsI.js";import{E as k}from"./eye-CKYhSpjh.js";import{T as L}from"./trash-2-DRqeqj7d.js";import{H as A,C as ee}from"./history-CV7iu0ru.js";import{C as te}from"./clock-BkvZktgk.js";import{F as R}from"./file-text-D-on4OKK.js";import{E as se}from"./external-link-B4-Cfzch.js";import{M as re}from"./mic-Ct0EqBR-.js";import{C as ae}from"./code-DpjVBSQ7.js";import"./UnifiedSearch-B0DMKzIv.js";import"./coding-challenges-9BqYdAoM.js";import"./tag-C-25pUFW.js";import"./target-BPIkv7V8.js";import"./arrow-right-CflNPMBT.js";import"./loader-circle-CB20RbQV.js";import"./chevron-left-B9pznzUB.js";import"./chart-column-Dq6UjNJ4.js";import"./user-D5FTXvoR.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],v=U("list-todo",ie);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],$=U("wrench",ne),E={creator:{name:"Creator Bot",icon:w,color:"text-cyan-500 bg-cyan-500/10 border-cyan-500/30",gradient:"from-cyan-500 to-blue-500",description:"Creates questions, challenges, voice keywords"},verifier:{name:"Verifier Bot",icon:k,color:"text-amber-500 bg-amber-500/10 border-amber-500/30",gradient:"from-amber-500 to-orange-500",description:"Quality checks, detects issues, flags content"},processor:{name:"Processor Bot",icon:$,color:"text-purple-500 bg-purple-500/10 border-purple-500/30",gradient:"from-purple-500 to-pink-500",description:"Improves or deletes flagged content"}};function q(r){return E[r]||{name:r,icon:C,color:"text-gray-500 bg-gray-500/10 border-gray-500/30",gradient:"from-gray-500 to-gray-600",description:"Unknown bot"}}function g(r){if(!r)return"never";const a=new Date(r),o=new Date().getTime()-a.getTime(),d=Math.floor(o/6e4),p=Math.floor(o/36e5),u=Math.floor(o/864e5);return d<1?"just now":d<60?`${d}m ago`:p<24?`${p}h ago`:u<7?`${u}d ago`:a.toLocaleDateString()}function oe(r,a){if(!a)return null;switch(r){case"question":return`/?search=${encodeURIComponent(a)}`;case"challenge":return`/coding/${a}`;case"test":return"/tests";case"voice_keyword":return"/voice-interview";default:return null}}function ce(r){switch(r){case"question":return e.jsx(ee,{className:"w-3 h-3"});case"challenge":return e.jsx(ae,{className:"w-3 h-3"});case"test":return e.jsx(R,{className:"w-3 h-3"});case"voice_keyword":return e.jsx(re,{className:"w-3 h-3"});default:return e.jsx(R,{className:"w-3 h-3"})}}function P({itemType:r,itemId:a,className:n}){const[,o]=K(),d=oe(r,a);return d?e.jsxs("button",{onClick:()=>o(d),className:i("inline-flex items-center gap-1 px-1.5 py-0.5 bg-primary/10 hover:bg-primary/20 text-primary rounded text-xs font-mono transition-colors",n),title:`View ${r}: ${a}`,children:[ce(r),e.jsx("span",{className:"truncate max-w-[120px]",children:a}),e.jsx(se,{className:"w-2.5 h-2.5 opacity-60"})]}):e.jsx("span",{className:n,children:a})}function y({active:r,onClick:a,children:n,icon:o}){return e.jsxs("button",{onClick:a,className:i("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[e.jsx(o,{className:"w-4 h-4"}),n]})}function Ie(){const[r,a]=c.useState("overview"),[n,o]=c.useState([]),[d,p]=c.useState([]),[u,O]=c.useState([]),[S,Q]=c.useState([]),[F,_]=c.useState(!0),[h,B]=c.useState(!1),[f,V]=c.useState("all"),b=c.useCallback(async()=>{try{const t=await fetch("/data/bot-monitor.json");if(t.ok){const s=await t.json();o(s.stats||[]),p(s.runs||[]),O(s.queue||[]),Q(s.ledger||[])}}catch(t){console.error("Failed to fetch bot data:",t),o([{botName:"creator",totalRuns:45,successfulRuns:42,totalCreated:156,totalUpdated:0,totalDeleted:0,lastRun:new Date().toISOString()},{botName:"verifier",totalRuns:38,successfulRuns:38,totalCreated:0,totalUpdated:0,totalDeleted:0,lastRun:new Date().toISOString()},{botName:"processor",totalRuns:22,successfulRuns:20,totalCreated:0,totalUpdated:45,totalDeleted:12,lastRun:new Date().toISOString()}])}finally{_(!1),B(!1)}},[]);c.useEffect(()=>{b()},[b]);const D=()=>{B(!0),b()},W=n.reduce((t,s)=>t+(s.totalCreated||0),0),H=n.reduce((t,s)=>t+(s.totalUpdated||0),0),z=n.reduce((t,s)=>t+(s.totalDeleted||0),0),I=u.filter(t=>t.status==="pending").length;return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Bot Monitor - AI Content Pipeline | Interview Prep",description:"Monitor the 3-bot AI pipeline: Creator, Verifier, and Processor bots working together to maintain high-quality interview content.",canonical:"https://open-interview.github.io/bot-activity"}),e.jsx(Y,{title:"Bot Monitor",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("header",{className:"hidden lg:flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-primary"}),"Bot Monitor"]}),e.jsx("button",{onClick:D,disabled:h,className:"p-2 hover:bg-muted rounded-lg disabled:opacity-50 transition-colors",children:e.jsx(N,{className:i("w-4 h-4",h&&"animate-spin")})})]}),e.jsx("div",{className:"lg:hidden flex justify-end mb-4",children:e.jsx("button",{onClick:D,disabled:h,className:"p-2 hover:bg-muted rounded-lg disabled:opacity-50 transition-colors",children:e.jsx(N,{className:i("w-4 h-4",h&&"animate-spin")})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries(E).map(([t,s],l)=>{const x=n.find(j=>j.botName===t),Z=s.icon;return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:i("relative overflow-hidden rounded-xl border p-4",s.color),children:[e.jsx("div",{className:i("absolute top-0 right-0 w-32 h-32 opacity-10 blur-2xl rounded-full bg-gradient-to-br",s.gradient)}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:i("w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br",s.gradient),children:e.jsx(Z,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:x?.totalRuns||0}),e.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"Runs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-500",children:x?.successfulRuns||0}),e.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:"Success"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:t==="creator"?x?.totalCreated||0:t==="verifier"?u.filter(j=>j.createdBy==="verifier").length:x?.totalUpdated||0}),e.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:t==="creator"?"Created":t==="verifier"?"Flagged":"Fixed"})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-current/10 text-xs text-muted-foreground",children:["Last run: ",g(x?.lastRun||"")]})]})]},t)})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-6",children:[e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-card border border-border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(w,{className:"w-4 h-4 text-cyan-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Created"})]}),e.jsx("div",{className:"text-2xl font-bold text-cyan-500",children:W})]}),e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.05},className:"bg-card border border-border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(M,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Updated"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-500",children:H})]}),e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-card border border-border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(L,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Deleted"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-500",children:z})]}),e.jsxs(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.15},className:"bg-card border border-border rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(v,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Pending"})]}),e.jsx("div",{className:"text-2xl font-bold text-amber-500",children:I})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[e.jsx(y,{active:r==="overview",onClick:()=>a("overview"),icon:T,children:"Recent Runs"}),e.jsxs(y,{active:r==="queue",onClick:()=>a("queue"),icon:v,children:["Work Queue (",I,")"]}),e.jsx(y,{active:r==="ledger",onClick:()=>a("ledger"),icon:A,children:"Audit Ledger"})]}),e.jsxs(G,{mode:"wait",children:[r==="overview"&&e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-card border border-border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-primary"}),"Recent Bot Runs"]})}),F?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(N,{className:"w-6 h-6 animate-spin mx-auto text-primary mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):d.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(C,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent runs"})]}):e.jsx("div",{className:"divide-y divide-border",children:d.slice(0,10).map((t,s)=>{const l=q(t.botName),x=l.icon;return e.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:i("w-8 h-8 rounded-lg flex items-center justify-center",l.color),children:e.jsx(x,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:l.name}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",t.status==="completed"?"bg-green-500/20 text-green-500":t.status==="running"?"bg-blue-500/20 text-blue-500":"bg-red-500/20 text-red-500"),children:t.status})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Processed: ",t.itemsProcessed," | Created: ",t.itemsCreated," | Updated: ",t.itemsUpdated," | Deleted: ",t.itemsDeleted]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:g(t.startedAt)})]})},t.id||s)})})]},"overview"),r==="queue"&&e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-card border border-border rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-primary"}),"Work Queue"]}),e.jsx("div",{className:"flex gap-2",children:["all","pending","processing","completed"].map(t=>e.jsx("button",{onClick:()=>V(t),className:i("text-xs px-2 py-1 rounded-full transition-colors",f===t?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:t},t))})]}),u.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(J,{className:"w-8 h-8 mx-auto text-green-500 mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Queue is empty"})]}):e.jsx("div",{className:"divide-y divide-border",children:u.filter(t=>f==="all"||t.status===f).slice(0,20).map((t,s)=>e.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:i("w-8 h-8 rounded-lg flex items-center justify-center",t.action==="delete"?"bg-red-500/10 text-red-500":t.action==="improve"?"bg-purple-500/10 text-purple-500":"bg-amber-500/10 text-amber-500"),children:t.action==="delete"?e.jsx(L,{className:"w-4 h-4"}):t.action==="improve"?e.jsx(M,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-sm",children:t.action}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.itemType}),e.jsx(P,{itemType:t.itemType,itemId:t.itemId}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",t.status==="pending"?"bg-amber-500/20 text-amber-500":t.status==="processing"?"bg-blue-500/20 text-blue-500":t.status==="completed"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"),children:t.status})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1 truncate",children:t.reason||"No reason specified"})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:"text-xs font-medium",children:["P",t.priority]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:g(t.createdAt)})]})]})},t.id||s))})]},"queue"),r==="ledger"&&e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-card border border-border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-primary"}),"Audit Ledger"]})}),S.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(R,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No ledger entries yet"})]}):e.jsx("div",{className:"divide-y divide-border",children:S.slice(0,30).map((t,s)=>{const l=q(t.botName),x=l.icon;return e.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:i("w-8 h-8 rounded-lg flex items-center justify-center",l.color),children:e.jsx(x,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-sm",children:l.name}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",t.action==="create"?"bg-cyan-500/20 text-cyan-500":t.action==="update"?"bg-purple-500/20 text-purple-500":t.action==="delete"?"bg-red-500/20 text-red-500":t.action==="verify"?"bg-green-500/20 text-green-500":"bg-amber-500/20 text-amber-500"),children:t.action}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.itemType}),e.jsx(P,{itemType:t.itemType,itemId:t.itemId})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1 truncate",children:t.reason||`${t.action} ${t.itemId}`})]}),e.jsx("div",{className:"text-xs text-muted-foreground flex-shrink-0",children:g(t.createdAt)})]})},t.id||s)})})]},"ledger")]}),e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 border border-border rounded-xl bg-muted/20",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-primary"}),"3-Bot Pipeline"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3 text-cyan-500"})," Creator"]}),e.jsx("span",{children:"→"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3 text-amber-500"})," Verifier"]}),e.jsx("span",{children:"→"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3 text-purple-500"})," Processor"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Creator generates content → Verifier checks quality and flags issues → Processor improves or removes flagged content"})]})]})})]})}export{Ie as default};
