import{u as $,c as D,x as F,d as z,r as h,j as e,m as x,T as H,h as B,y as Q,B as W,w as G,Z}from"./index-Bj61abp1.js";import{A as _}from"./AppLayout-sDv7XJ5z.js";import{u as q}from"./use-stats-CDTJ_xks.js";import{u as X,G as K}from"./use-level-Cs_to1Dl.js";import{S as J}from"./SEOHead-DFVqIliQ.js";import"./Button-V8_mT9q7.js";import{M as S}from"./MetricCard-Bdjrq5sU.js";import{i as Y,g as ee,a as se,b as te,s as ae,c as re,d as ie,e as ne}from"./text-to-speech-JKTbiyjG.js";import{F as M}from"./tag-BJ6I63dM.js";import{C as le}from"./UnifiedNav-tNhZXauo.js";import{T as A}from"./target-BVgqOxW0.js";import{C as oe}from"./calendar-Dq14Kvtr.js";import{T as U}from"./trending-up-DtIFNNOU.js";import{S as ce}from"./shuffle-COfzERch.js";import{E as de}from"./eye-enVVRk3U.js";import{C as me}from"./trending-down-LaKkhTW-.js";import{M as xe}from"./mic-DIcrAnXt.js";import{H as ue}from"./history-ZTyvWrMr.js";import{B as he}from"./bookmark-Lv-x1QA7.js";import{B as pe}from"./book-open-DciULv9a.js";import{V as be}from"./volume-2-BUoQ7uG0.js";import{P as fe}from"./play-Ge2j41GY.js";import"./UnifiedSearch-BKkVJZ1F.js";import"./use-unified-toast-DJYkd1HW.js";import"./arrow-right-BUNcarm8.js";import"./loader-circle-BggaWnCa.js";import"./chart-column-BCfGxmJl.js";import"./user-cHHXGGNQ.js";function _e(){const[,r]=$(),{stats:l}=q(),{getSubscribedChannels:c,preferences:i,toggleShuffleQuestions:p,togglePrioritizeUnvisited:N,toggleHideCertifications:b}=D(),{stats:d}=F(),{balance:C,state:v,history:y,onRedeemCoupon:w,formatCredits:f,config:s}=z(),{levelProgress:t,currentStreak:o}=X(),n=c(),[g,T]=h.useState(""),[k,I]=h.useState(null),O=l.reduce((a,m)=>a+m.total,0),E=n.reduce((a,m)=>{const j=JSON.parse(localStorage.getItem(`progress-${m.id}`)||"[]");return a+j.length},0),R=(()=>{let a=0;for(let m=0;m<365;m++){const j=new Date;if(j.setDate(j.getDate()-m),d.find(L=>L.date===j.toISOString().split("T")[0]))a++;else break}return a})(),P=d.length;return e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Profile - Code Reels",description:"View your learning progress and achievements"}),e.jsx(_,{title:"Profile",showBackOnMobile:!0,children:e.jsx("div",{className:"max-w-6xl mx-auto pb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-700 p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-white/70 text-sm",children:"Experience"}),e.jsxs("span",{className:"text-white text-2xl font-bold",children:[t.currentXP.toLocaleString()," XP"]})]}),e.jsx("div",{className:"w-full max-w-[200px] bg-white/20 rounded-full h-2.5 mb-1.5",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-400 h-2.5 rounded-full transition-all duration-700",style:{width:`${t.progress}%`}})}),e.jsxs("div",{className:"text-white/60 text-xs",children:[t.xpForNext," XP to next level"]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2.5 text-center border border-white/20",children:[e.jsxs("div",{className:"text-amber-300 text-xs font-semibold uppercase tracking-wider",children:["Level ",t.currentLevel.level]}),e.jsx("div",{className:"text-white text-lg font-bold",children:t.currentLevel.title})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-xl font-bold",children:"Interview Prep"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Mastering technical interviews"})]}),o>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-amber-500/20 px-3 py-1.5 rounded-full border border-amber-400/30",children:[e.jsx(M,{className:"w-4 h-4 text-amber-400"}),e.jsxs("span",{className:"text-amber-300 text-sm font-medium",children:[o," day streak"]})]})]})]}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(le,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:E}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:n.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Topics"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:P}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Days Active"})]})]})]})})]}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3",children:[e.jsx(S,{icon:e.jsx(M,{className:"w-5 h-5"}),value:R.toString(),label:"Day Streak",variant:"warning",size:"md"}),e.jsx(S,{icon:e.jsx(A,{className:"w-5 h-5"}),value:`${Math.round(E/O*100)||0}%`,label:"Progress",variant:"success",size:"md"}),e.jsx(S,{icon:e.jsx(oe,{className:"w-5 h-5"}),value:P.toString(),label:"Days Active",variant:"info",size:"md"}),e.jsx(S,{icon:e.jsx(U,{className:"w-5 h-5"}),value:E.toString(),label:"Questions Done",variant:"default",size:"md"})]}),e.jsx(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:e.jsxs("button",{onClick:()=>r("/badges"),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-yellow-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold",children:"Achievements"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View your badges"})]})]}),e.jsx(B,{className:"w-5 h-5 text-muted-foreground"})]})}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Settings"})}),e.jsxs("div",{className:"divide-y divide-border/50",children:[e.jsx(V,{icon:e.jsx(ce,{className:"w-5 h-5"}),label:"Shuffle Questions",sublabel:"Randomize question order",enabled:i.shuffleQuestions!==!1,onToggle:p}),e.jsx(V,{icon:e.jsx(de,{className:"w-5 h-5"}),label:"Unvisited First",sublabel:"Show new questions first",enabled:i.prioritizeUnvisited!==!1,onToggle:N}),e.jsx(V,{icon:e.jsx(Q,{className:"w-5 h-5"}),label:"Hide Certifications",sublabel:"Remove certifications from navigation",enabled:i.hideCertifications===!0,onToggle:b}),e.jsx(u,{icon:e.jsx(W,{className:"w-5 h-5"}),label:"Notifications",sublabel:"View all alerts",onClick:()=>r("/notifications")}),e.jsx(u,{icon:e.jsx(me,{className:"w-5 h-5"}),label:"About",sublabel:"App information",onClick:()=>r("/about")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 rounded-2xl border border-amber-500/20 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6 text-amber-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[f(C)," Credits"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earned: ",f(v.totalEarned)," Â· Spent: ",f(v.totalSpent)]})]})]})}),e.jsxs("div",{className:"bg-black/10 rounded-lg p-3 mb-4",children:[e.jsxs("h4",{className:"text-xs font-semibold text-amber-400 mb-2 flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"})," Earn Credits"]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Voice interview attempt"}),e.jsxs("span",{className:"text-amber-400",children:["+",s.VOICE_ATTEMPT]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successful interview (hire)"}),e.jsxs("span",{className:"text-amber-400",children:["+",s.VOICE_SUCCESS_BONUS," bonus"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"View question"}),e.jsxs("span",{className:"text-red-400",children:["-",s.QUESTION_VIEW_COST]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"})," Redeem Coupon"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:a=>T(a.target.value.toUpperCase()),placeholder:"Enter code",className:"flex-1 px-3 py-2 bg-black/20 border border-border rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-amber-500"}),e.jsx("button",{onClick:()=>{if(!g.trim())return;const a=w(g);I({type:a.success?"success":"error",text:a.message}),a.success&&T(""),setTimeout(()=>I(null),3e3)},className:"px-4 py-2 bg-amber-500 text-white text-sm font-bold rounded-lg hover:bg-amber-600 transition-colors",children:"Apply"})]}),k&&e.jsx("p",{className:`text-xs mt-2 ${k.type==="success"?"text-green-400":"text-red-400"}`,children:k.text})]}),y.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-500/20",children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(ue,{className:"w-3 h-3"})," Recent Activity"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:y.slice(0,5).map(a=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.description}),e.jsxs("span",{className:a.amount>0?"text-green-400":"text-red-400",children:[a.amount>0?"+":"",a.amount]})]},a.id))})]})]}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx(u,{icon:e.jsx(he,{className:"w-5 h-5"}),label:"Bookmarks",sublabel:"Saved questions",onClick:()=>r("/bookmarks")}),e.jsx(u,{icon:e.jsx(pe,{className:"w-5 h-5"}),label:"My Channels",sublabel:`${n.length} subscribed`,onClick:()=>r("/channels")}),e.jsx(u,{icon:e.jsx(Z,{className:"w-5 h-5"}),label:"Coding Challenges",sublabel:"Practice coding",onClick:()=>r("/coding")}),e.jsx(u,{icon:e.jsx(A,{className:"w-5 h-5"}),label:"Mock Tests",sublabel:"Test your knowledge",onClick:()=>r("/tests")}),e.jsx(u,{icon:e.jsx(U,{className:"w-5 h-5"}),label:"Statistics",sublabel:"View detailed stats",onClick:()=>r("/stats")})]}),Y()&&e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border/50 flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Voice Settings"})]}),e.jsx(ge,{})]})]})]})})})]})}function u({icon:r,label:l,sublabel:c,onClick:i}){return e.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]}),e.jsx(B,{className:"w-5 h-5 text-muted-foreground pointer-events-none"})]})}function V({icon:r,label:l,sublabel:c,enabled:i,onToggle:p}){return e.jsxs("button",{type:"button",onClick:p,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:i?"text-primary":"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-colors relative ${i?"bg-primary":"bg-muted"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]})}function ge(){const[r,l]=h.useState([]),[c,i]=h.useState(""),[p,N]=h.useState(.9),[b,d]=h.useState(!1);h.useEffect(()=>{const s=()=>{const t=se();l(t);const o=te();if(o&&t.find(n=>n.name===o))i(o);else if(t.length>0){const n=t.find(g=>g.lang.startsWith("en"));i(n?.name||t[0].name)}};s(),N(ee()),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=s)},[]);const C=s=>{i(s),ae(s)},v=s=>{N(s),re(s)},y=()=>{if(b){ie(),d(!1);return}d(!0),ne("Hello! This is how I will read the answers for you. You can adjust the speed using the slider below.",{onEnd:()=>d(!1),onError:()=>d(!1)})},w=r.reduce((s,t)=>{const o=t.lang,n=je(o);return s[n]||(s[n]=[]),s[n].push(t),s},{}),f=Object.keys(w).sort((s,t)=>s.startsWith("English")&&!t.startsWith("English")?-1:!s.startsWith("English")&&t.startsWith("English")?1:s.localeCompare(t));return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Voice"}),e.jsx("select",{value:c,onChange:s=>C(s.target.value),className:"w-full px-3 py-2.5 bg-muted/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:f.map(s=>e.jsx("optgroup",{label:s,children:w[s].map(t=>e.jsx("option",{value:t.name,children:t.name},t.name))},s))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Speed"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:p,onChange:s=>v(parseFloat(s.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-1",children:[e.jsx("span",{children:"Slower"}),e.jsx("span",{children:"Faster"})]})]}),e.jsxs("button",{onClick:y,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-colors ${b?"bg-primary text-primary-foreground":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:[e.jsx(fe,{className:`w-4 h-4 ${b?"animate-pulse":""}`}),b?"Playing...":"Test Voice"]})]})}function je(r){return{"en-US":"English (US)","en-GB":"English (UK)","en-AU":"English (Australia)","en-IN":"English (India)","en-ZA":"English (South Africa)","en-IE":"English (Ireland)","en-NZ":"English (New Zealand)",en:"English","hi-IN":"Hindi","ta-IN":"Tamil","te-IN":"Telugu","mr-IN":"Marathi","bn-IN":"Bengali","gu-IN":"Gujarati","kn-IN":"Kannada","ml-IN":"Malayalam","pa-IN":"Punjabi"}[r]||r}export{_e as default};
