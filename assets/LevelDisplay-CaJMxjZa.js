import{c as y,r as d,ab as g,ac as w,ad as P,ae as X,af as k,ag as S,ah as M,j as e,m as b,F as f,T as N,Z as v,w as R}from"./index-faLIglmY.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],T=y("gift",q);function U(){const[s,t]=d.useState(()=>g()),[i,n]=d.useState(!1),[x,r]=d.useState(null);d.useEffect(()=>{const c=setInterval(()=>{const u=g();u.level>s.level&&(r(s.level),n(!0),setTimeout(()=>n(!1),5e3)),t(u)},1e3);return()=>clearInterval(c)},[s.level]);const a=d.useMemo(()=>w(s.totalXP),[s.totalXP]),l=d.useMemo(()=>P(a.level),[a.level]),o=d.useMemo(()=>{const c=l?X(s.totalXP,a.level):0,u=l?k(s.totalXP,a.level):100;return{currentLevel:a,nextLevel:l,currentXP:s.totalXP,xpForNext:c,progress:u}},[s.totalXP,a,l]),m=d.useMemo(()=>S(s.currentStreak),[s.currentStreak]),p=d.useCallback(c=>{M(c),t(g())},[]),h=d.useCallback(()=>{n(!1),r(null)},[]);return{currentLevel:a,nextLevel:l,levelProgress:o,totalXP:s.totalXP,xpForNext:o.xpForNext,progress:o.progress,currentStreak:s.currentStreak,longestStreak:s.longestStreak,streakMultiplier:m,showLevelUp:i,previousLevel:x,dismissLevelUp:h,addXP:p,metrics:s}}const $={xs:"h-1",sm:"h-1.5",md:"h-2",lg:"h-2.5"},C={default:"bg-primary",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500",info:"bg-blue-500"};function j({current:s,max:t,size:i="md",variant:n="default",showPercentage:x=!1,animated:r=!0,className:a="",label:l,rounded:o=!0}){const m=t>0?Math.min(s/t*100,100):0,p=$[i],h=C[n],c=o?"rounded-full":"";return e.jsxs("div",{className:a,children:[(l||x)&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[l&&e.jsx("span",{children:l}),x&&e.jsxs("span",{children:[Math.round(m),"%"]})]}),e.jsx("div",{className:`bg-muted ${c} overflow-hidden ${p}`,children:r?e.jsx(b.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${h} ${c}`}):e.jsx("div",{className:`h-full ${h} ${c} transition-all duration-300`,style:{width:`${m}%`}})})]})}function z({currentLevel:s,nextLevel:t,currentXP:i,xpForNext:n,progress:x,currentStreak:r=0,streakMultiplier:a=1,variant:l="full"}){return l==="compact"?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-lg font-bold text-primary-foreground",children:s.level})}),r>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-orange-500 flex items-center justify-center",children:e.jsx(f,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-bold",children:s.title}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.toLocaleString()," XP"]})]}),e.jsx(j,{current:i-s.xpRequired,max:t?t.xpRequired-s.xpRequired:1,size:"xs",variant:"default",animated:!0}),t&&e.jsxs("div",{className:"text-[9px] text-muted-foreground mt-0.5",children:[n.toLocaleString()," XP to Level ",t.level]})]})]}):l==="card"?e.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl p-4 border border-primary/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:["Level ",s.level]})]}),e.jsx("h3",{className:"text-xl font-bold",children:s.title})]}),e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:s.level})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Experience"}),e.jsxs("span",{className:"font-bold",children:[i.toLocaleString()," XP"]})]}),e.jsx(j,{current:i-s.xpRequired,max:t?t.xpRequired-s.xpRequired:1,size:"md",variant:"default",animated:!0,showPercentage:!0}),t&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.toLocaleString()," XP to next level"]}),e.jsxs("span",{children:["Level ",t.level,": ",t.title]})]})]}),r>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-sm font-medium",children:[r," Day Streak"]})]}),a>1&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-500/10 rounded-full",children:[e.jsx(v,{className:"w-3 h-3 text-orange-500"}),e.jsxs("span",{className:"text-xs font-bold text-orange-500",children:[a,"x XP"]})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:s.level})}),r>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-orange-500 flex items-center justify-center shadow-md",children:e.jsx(f,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:["Level ",s.level]})]}),e.jsx("h2",{className:"text-2xl font-bold",children:s.title})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total XP"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress to next level"}),e.jsxs("span",{className:"font-bold",children:[x,"%"]})]}),e.jsx(j,{current:i-s.xpRequired,max:t?t.xpRequired-s.xpRequired:1,size:"lg",variant:"default",animated:!0}),t&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[n.toLocaleString()," XP needed"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),"Next: Level ",t.level," - ",t.title]})]})]}),r>0&&e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-orange-500/10 rounded-lg border border-orange-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-orange-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold",children:[r," Day Streak"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Keep it going!"})]})]}),a>1&&e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-orange-500/20 rounded-full",children:[e.jsx(v,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:"text-sm font-bold text-orange-500",children:[a,"x XP Bonus"]})]})]}),s.perks.length>0&&e.jsxs("div",{className:"pt-3 border-t border-border",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Unlocked Features"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.perks.map(o=>e.jsx("div",{className:"px-2 py-1 bg-muted/50 rounded text-xs font-medium",children:o.replace(/_/g," ")},o))})]})]})}export{T as G,z as L,U as u};
