import{u as Ye,a as We,r,c as Xe,M as Ze,t as Ge,j as e,x as es,p as ss,v as be,I as ts,Z as ge,g as je,C as rs,N as ns,m as q,n as as,l as Ne,X as is,R as os}from"./index-Cn9kNtm6.js";import{g as ls,a as cs,b as ds}from"./progressive-quiz-CpEGaqrt.js";import{S as ms}from"./SEOHead-DItNB6-0.js";import{Q as we,A as ye}from"./AnswerPanel-D_m2ll5E.js";import{u as xs,C as us}from"./use-swipe-D13Q75ms.js";import{u as hs,C as ps}from"./use-unified-toast-ath2zPeP.js";import{a as fs,l as bs}from"./tests-CRs_cQC6.js";import{L as ve}from"./lock-RYOTcnrq.js";import{L as Ce}from"./lock-open-CAv6kKmf.js";import{C as gs}from"./circle-x-DQQplYX7.js";import{C as js}from"./chevron-up-CSI-9FMr.js";import{C as Ns}from"./chevron-down-BfeY-uKX.js";import{L as ke}from"./lightbulb-B46-EML1.js";import{S as Se}from"./skip-forward-DDWlkYU7.js";import{T as ws}from"./triangle-alert-t8INq6-J.js";import"./QuestionHistory-CcbZewbl.js";import"./history-BcXB0qHc.js";import"./trash-2-DTkTa6rs.js";import"./square-pen-CuEutDyN.js";import"./plus-BH8jUl7C.js";import"./user-DyCTHPmF.js";import"./bot-CVFwOzsV.js";import"./clock-5sf0K1n0.js";import"./index-8H2BZ9Cc.js";import"./hash-Fl6CEjnJ.js";import"./bookmark-RaxySMG1.js";import"./tag-BRl1ewrE.js";import"./target-DZui4CLk.js";import"./EnhancedMermaid-DwQOyETc.js";import"./zoom-out-4Dzlc8uE.js";import"./GiscusComments-BH_H6Z7w.js";import"./message-circle-BnchWNQR.js";import"./loader-circle-DHgpCF8c.js";import"./QuestionFeedback-DMdtCLLY.js";import"./flag-C-jWsy16.js";import"./external-link-DJtpf4ph.js";import"./ban-C7deroT0.js";import"./book-open-B8zbvylo.js";import"./file-text-ldP4aXjH.js";import"./copy-C-94UfBn.js";import"./play-DWJQyc2Q.js";import"./youtube-BVfKYq-0.js";import"./coffee-B7U82frS.js";const b=50,J=5,ys=3,vs=800;function ft(){const[Cs,V]=Ye(),[,Te]=We("/certification/:id/:questionIndex?"),c=Te?.id,o=c?ls(c):null;o&&cs(o.id);const[C,Ee]=r.useState([]),[k,ie]=r.useState(!0),[P,oe]=r.useState(null),[a,S]=r.useState(0),[T,le]=r.useState("all"),[Y,E]=r.useState("question"),[ce,Ie]=r.useState(!1),[Ae,$e]=r.useState(new Set),[ks,Qe]=r.useState(!1),[O,Me]=r.useState([]),[g,W]=r.useState(!1),[x,de]=r.useState([]),[y,X]=r.useState(0),[I,Z]=r.useState([]),[v,D]=r.useState(!1),[G,F]=r.useState(null),[j,ee]=r.useState(!1),[Re,A]=r.useState(!1),[$,_]=r.useState(new Set),[Le,se]=r.useState(new Set),{toast:f}=hs(),{onQuestionSwipe:me,onQuestionView:qe,balance:te,formatCredits:xe,refreshBalance:ue}=Xe(),re=`cert-progress-${c}`,z=`cert-checkpoints-${c}`,[Q,Pe]=r.useState(()=>{try{const s=localStorage.getItem(re);return new Set(s?JSON.parse(s):[])}catch{return new Set}});r.useEffect(()=>{try{const s=localStorage.getItem(z);s&&_(new Set(JSON.parse(s)))}catch{}},[z]),r.useEffect(()=>{c&&localStorage.setItem(re,JSON.stringify(Array.from(Q)))},[Q,c,re]),r.useEffect(()=>{c&&localStorage.setItem(z,JSON.stringify(Array.from($)))},[$,c,z]),r.useEffect(()=>{if(!o)return;(async()=>{ie(!0),oe(null);try{const t=[],n=[];for(const m of o.channelMappings)try{let U=(await ns.getData(m.channelId)).questions;n.push(m.channelId),m.subChannels&&m.subChannels.length>0&&(U=U.filter(Ve=>m.subChannels.includes(Ve.subChannel)));const Je=Math.ceil(U.length*(m.weight/100));t.push(...U.slice(0,Je))}catch{}const l=await bs();Me(l.filter(m=>n.includes(m.channelId)));const h=Array.from(new Map(t.map(m=>[m.id,m])).values()),p=sessionStorage.getItem(`cert-seed-${c}`)||Date.now().toString();sessionStorage.setItem(`cert-seed-${c}`,p);const L=ds(h,h.length);Ee(L)}catch{oe("Failed to load certification questions")}finally{ie(!1)}})()},[o,c]);const he=r.useMemo(()=>T==="all"?C:C.filter(s=>s.difficulty===T),[C,T]),i=he[a],d=he.length,M=r.useCallback(s=>s>0&&s%J===0,[]),R=r.useCallback(s=>$.has(s),[$]),B=r.useCallback(()=>{if(O.length===0)return[];const s=O[Math.floor(Math.random()*O.length)];return fs(s,ys)},[O]),H=r.useCallback(()=>{const s=B();s.length>0?(de(s),X(0),Z([]),D(!1),F(null),ee(!1),se(new Set),W(!0)):(_(t=>new Set(Array.from(t).concat(a))),f({title:"Checkpoint passed!"}))},[B,a,f]),Oe=r.useCallback(s=>{if(v)return;const t=x[y],n=t.options.find(p=>p.isCorrect),l=s===n?.id,h={questionId:t.id,selectedOptionId:s,isCorrect:l,correctOptionId:n?.id||""};Z(p=>[...p,h]),F(h),D(!0),setTimeout(()=>{D(!1),F(null),y<x.length-1?X(p=>p+1):ee(!0)},vs)},[v,x,y]),u=r.useMemo(()=>{const s=I.filter(t=>t.isCorrect).length;return{correct:s,total:x.length,passed:s===x.length}},[I,x.length]),De=r.useCallback(()=>{const s=B();de(s),X(0),Z([]),D(!1),F(null),ee(!1),se(new Set)},[B]),Fe=r.useCallback(()=>{Ze(b,"Skipped checkpoint test").success?(_(t=>new Set(Array.from(t).concat(a))),W(!1),A(!1),ue(),f({title:"Test Skipped",description:`-${b} credits`})):f({title:"Insufficient Credits",description:`Need ${b} credits`})},[a,ue,f]),_e=r.useCallback(()=>{u.passed&&_(s=>new Set(Array.from(s).concat(a))),W(!1)},[u.passed,a]),ze=s=>{se(t=>{const n=new Set(t);return n.has(s)?n.delete(s):n.add(s),n})},K=r.useCallback(()=>{if(a<d-1){const s=a+1;if(M(s)&&!R(s)){S(s),H();return}S(s),E("question"),me?.()}},[a,d,M,R,H,me]),ne=()=>{a>0&&(S(a-1),E("question"))},Be=()=>{i&&(Pe(s=>new Set(Array.from(s).concat(i.id))),qe?.())},pe=()=>{i&&$e(s=>{const t=new Set(s);return t.has(i.id)?t.delete(i.id):t.add(i.id),t})},ae=xs({onSwipeLeft:K,onSwipeRight:ne});if(r.useEffect(()=>{const s=t=>{g||((t.key==="ArrowRight"||t.key==="j")&&K(),(t.key==="ArrowLeft"||t.key==="k")&&ne())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[g,K]),r.useEffect(()=>{i&&!g&&Ge(i.id,i.channel,i.difficulty)},[i,g]),r.useEffect(()=>{M(a)&&!R(a)&&!g&&!k&&H()},[a,M,R,g,k,H]),r.useEffect(()=>{!k&&o&&C.length===0&&!P&&(f({title:"Content coming soon!",description:`We're preparing questions for "${o.name}". Check back soon!`,variant:"warning"}),Qe(!0))},[k,o,C.length,P]),r.useEffect(()=>{if(!o&&c){f({title:"Certification not found",description:"Redirecting to home page...",variant:"warning"});const s=setTimeout(()=>{V("/")},1500);return()=>clearTimeout(s)}},[o,c,f,V]),!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(es,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground/30"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Certification not found"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Redirecting to home..."})]})});const He=d>0?Math.round(Q.size/d*100):0,N=i?Q.has(i.id):!1,fe=i?Ae.has(i.id):!1,w=x[y],Ke=()=>g?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:e.jsxs(q.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-card border border-border rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-border bg-gradient-to-r from-amber-500/10 via-primary/10 to-amber-500/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${j?u.passed?"bg-green-500/20":"bg-red-500/20":"bg-amber-500/20"}`,children:j?u.passed?e.jsx(Ce,{className:"w-5 h-5 text-green-500"}):e.jsx(ve,{className:"w-5 h-5 text-red-500"}):e.jsx(ge,{className:"w-5 h-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:j?u.passed?"ðŸŽ‰ Passed!":"âŒ Failed":"Checkpoint Test"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j?`${u.correct}/${u.total} correct`:`Q${y+1}/${x.length} â€¢ Tap answer to submit`})]})]}),!j&&e.jsx("div",{className:"flex items-center gap-1",children:x.map((s,t)=>e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${t<I.length?I[t]?.isCorrect?"bg-green-500":"bg-red-500":t===y?"bg-primary":"bg-muted"}`},t))})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:j?e.jsxs("div",{className:"space-y-3",children:[!u.passed&&e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-sm",children:[e.jsx("span",{className:"font-medium text-red-500",children:"Need 100% to proceed."}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"Review below, then retry or skip."})]}),x.map((s,t)=>{const n=I[t],l=Le.has(t),h=s.options.find(L=>L.isCorrect),p=s.options.find(L=>L.id===n?.selectedOptionId);return e.jsxs("div",{className:`border rounded-xl overflow-hidden ${n?.isCorrect?"border-green-500/30":"border-red-500/30"}`,children:[e.jsxs("button",{onClick:()=>ze(t),className:"w-full p-3 flex items-center gap-3 text-left hover:bg-muted/30",children:[n?.isCorrect?e.jsx(as,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):e.jsx(gs,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-sm line-clamp-1",children:s.question}),l?e.jsx(js,{className:"w-4 h-4"}):e.jsx(Ns,{className:"w-4 h-4"})]}),e.jsx(Ne,{children:l&&e.jsx(q.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-border/50",children:e.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[e.jsxs("div",{className:`p-2 rounded ${n?.isCorrect?"bg-green-500/10":"bg-red-500/10"}`,children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Your answer: "}),e.jsx("span",{className:n?.isCorrect?"text-green-500":"text-red-500",children:p?.text})]}),!n?.isCorrect&&e.jsxs("div",{className:"p-2 rounded bg-green-500/10",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Correct: "}),e.jsx("span",{className:"text-green-500",children:h?.text})]}),s.explanation&&e.jsxs("div",{className:"p-2 rounded bg-blue-500/10 flex gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-muted-foreground",children:s.explanation})]})]})})})]},s.id)})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${w?.difficulty==="beginner"?"bg-green-500/10 text-green-500":w?.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:w?.difficulty})}),e.jsx("h4",{className:"font-medium mb-5",children:w?.question}),e.jsx("div",{className:"space-y-2",children:w?.options.map(s=>{const t=G?.selectedOptionId===s.id,n=s.isCorrect,l=v&&(t||n);return e.jsx("button",{onClick:()=>Oe(s.id),disabled:v,className:`w-full p-4 text-left border-2 rounded-xl transition-all ${l?n?"border-green-500 bg-green-500/10":t?"border-red-500 bg-red-500/10":"border-border":"border-border hover:border-primary/50 hover:bg-muted/30"} ${v?"cursor-default":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${l&&n?"border-green-500 bg-green-500":l&&t&&!n?"border-red-500 bg-red-500":"border-muted-foreground/30"}`,children:[l&&n&&e.jsx(je,{className:"w-3 h-3 text-white"}),l&&t&&!n&&e.jsx(is,{className:"w-3 h-3 text-white"})]}),e.jsx("span",{className:"text-sm",children:s.text})]})},s.id)})}),v&&G&&!G.isCorrect&&w?.explanation&&e.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl text-sm flex gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-muted-foreground",children:w.explanation})]})]})}),e.jsx("div",{className:"p-4 border-t border-border bg-muted/30",children:j?e.jsx("div",{className:"flex gap-3",children:u.passed?e.jsxs("button",{onClick:_e,className:"flex-1 py-3 bg-green-500 text-white rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"})," Continue"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:De,className:"flex-1 py-3 bg-primary text-primary-foreground rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(os,{className:"w-4 h-4"})," Retry"]}),e.jsxs("button",{onClick:()=>A(!0),className:"flex-1 py-3 bg-muted rounded-xl font-medium flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(Se,{className:"w-4 h-4"})," Skip (-",b,")"]})]})}):e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-1 hover:text-foreground",children:[e.jsx(Se,{className:"w-4 h-4"})," Skip (-",b,")"]}),e.jsx("span",{children:"Tap an answer to submit"})]})})]})}):null,Ue=()=>e.jsx(Ne,{children:Re&&e.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4",onClick:()=>A(!1),children:e.jsx(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-card border border-border rounded-2xl w-full max-w-sm p-5",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"text-center",children:[e.jsx(ws,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),e.jsx("h3",{className:"font-bold mb-2",children:"Skip Test?"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Cost: ",e.jsxs("span",{className:"text-red-500 font-bold",children:[b," credits"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 p-2 bg-muted/50 rounded-lg text-sm",children:[e.jsx(be,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{children:["Balance: ",e.jsx("b",{children:xe(te)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2.5 bg-muted rounded-xl font-medium",children:"Cancel"}),e.jsx("button",{onClick:Fe,disabled:te<b,className:"flex-1 py-2.5 bg-red-500 text-white rounded-xl font-medium disabled:opacity-50",children:"Skip"})]})]})})})});return e.jsxs(e.Fragment,{children:[e.jsx(ms,{title:`${o.name} Practice`,description:o.description}),e.jsx(Ke,{}),e.jsx(Ue,{}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur border-b border-border",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>V("/certifications"),className:"p-1.5 hover:bg-muted rounded-md shrink-0",children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"font-semibold text-sm leading-tight",children:o.name}),e.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:o.provider})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-muted-foreground tabular-nums",children:["Q",a+1,"/",d]}),e.jsxs("div",{className:"relative flex-1 h-1.5 bg-muted rounded-full overflow-hidden max-w-[200px]",children:[e.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${(a+1)/d*100}%`}}),Array.from({length:Math.floor(d/J)}).map((s,t)=>{const n=(t+1)*J,l=n/d*100,h=$.has(n);return e.jsx("div",{className:`absolute top-1/2 w-1.5 h-1.5 rounded-full ${h?"bg-green-500":"bg-amber-500"}`,style:{left:`${l}%`,transform:"translate(-50%, -50%)"}},t)})]}),e.jsxs("span",{className:"text-[10px] text-primary font-medium tabular-nums",children:[He,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[["all","beginner","intermediate","advanced"].map(s=>e.jsx("button",{onClick:()=>{le(s),S(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize hidden sm:block ${T===s?s==="beginner"?"bg-green-500/20 text-green-500":s==="intermediate"?"bg-yellow-500/20 text-yellow-500":s==="advanced"?"bg-red-500/20 text-red-500":"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:s==="all"?"All":s==="beginner"?"Easy":s==="intermediate"?"Med":"Hard"},s)),e.jsxs("div",{className:"flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-500/10 border border-amber-500/20 rounded-md ml-1",children:[e.jsx(be,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-[10px] font-bold text-amber-500 tabular-nums",children:xe(te)})]}),e.jsx("button",{onClick:()=>Ie(!ce),className:"p-1 hover:bg-muted rounded-md",children:e.jsx(ts,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"flex items-center gap-1 mt-1.5 sm:hidden overflow-x-auto no-scrollbar",children:["all","beginner","intermediate","advanced"].map(s=>e.jsx("button",{onClick:()=>{le(s),S(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize shrink-0 ${T===s?s==="beginner"?"bg-green-500/20 text-green-500":s==="intermediate"?"bg-yellow-500/20 text-yellow-500":s==="advanced"?"bg-red-500/20 text-red-500":"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground"}`,children:s==="all"?"All":s==="beginner"?"Easy":s==="intermediate"?"Medium":"Hard"},s))})]})}),ce&&e.jsx("div",{className:"bg-muted/30 border-b border-border px-3 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-[10px]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.jsx("span",{className:"font-medium capitalize",children:o.difficulty})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Time:"})," ",e.jsxs("span",{className:"font-medium",children:[o.estimatedHours,"h"]})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Done:"})," ",e.jsxs("span",{className:"font-medium",children:[Q.size,"/",d]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(ge,{className:"w-3 h-3 text-amber-500"}),e.jsxs("span",{children:["Test every ",J,"Q â€¢ Skip: ",b,"cr"]})]})]})}),k?e.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):P?e.jsx("div",{className:"flex items-center justify-center h-[60vh] text-center",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-red-500 mb-2",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary",children:"Retry"})]})}):d===0?e.jsx(us,{type:"certification",name:o.name,redirectTo:"/certifications",redirectDelay:5e3}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:flex h-[calc(100vh-100px)]",children:[e.jsx("div",{className:"w-[40%] border-r border-border overflow-y-auto",children:i&&e.jsx(we,{question:i,questionNumber:a+1,totalQuestions:d,isMarked:fe,isCompleted:N,onToggleMark:pe,timerEnabled:!1,timeLeft:0})}),e.jsx("div",{className:"w-[60%] overflow-y-auto",children:i&&e.jsx(ye,{question:i,isCompleted:N})})]}),e.jsxs("div",{className:"lg:hidden flex flex-col h-[calc(100vh-140px)]",children:[e.jsxs("div",{className:"flex border-b border-border",children:[e.jsx("button",{onClick:()=>E("question"),className:`flex-1 py-2 text-sm font-medium ${Y==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),e.jsx("button",{onClick:()=>E("answer"),className:`flex-1 py-2 text-sm font-medium ${Y==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pb-14",onTouchStart:ae.onTouchStart,onTouchMove:ae.onTouchMove,onTouchEnd:ae.onTouchEnd,children:Y==="question"?i&&e.jsx(we,{question:i,questionNumber:a+1,totalQuestions:d,isMarked:fe,isCompleted:N,onToggleMark:pe,onTapQuestion:()=>E("answer"),timerEnabled:!1,timeLeft:0}):i&&e.jsx(ye,{question:i,isCompleted:N})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur border-t border-border py-1.5 px-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[e.jsxs("button",{onClick:ne,disabled:a===0,className:"flex items-center gap-1 px-2.5 py-1.5 bg-muted rounded-md disabled:opacity-40 text-xs",children:[e.jsx(ps,{className:"w-4 h-4"}),"Prev"]}),e.jsxs("button",{onClick:Be,disabled:N,className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium ${N?"bg-green-500/10 text-green-500":"bg-primary text-primary-foreground"}`,children:[e.jsx(je,{className:"w-3.5 h-3.5"}),N?"Done":"Mark Done"]}),e.jsxs("button",{onClick:K,disabled:a===d-1,className:"flex items-center gap-1 px-2.5 py-1.5 bg-muted rounded-md disabled:opacity-40 text-xs",children:["Next",e.jsx(rs,{className:"w-4 h-4"}),M(a+1)&&!R(a+1)&&e.jsx(ve,{className:"w-3 h-3 text-amber-500"})]})]})})]})]})]})}export{ft as default};
