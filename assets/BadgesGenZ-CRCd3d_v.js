import{r as l,z as N,D as w,E as p,F as k,j as e,m,T as v}from"./index-D0xwtbAr.js";import{A as j}from"./AppLayout-BNgEkDZI.js";import{S as A}from"./SEOHead-ntbT5BRP.js";import{L as S}from"./lock-D8YTZ75c.js";import{S as U}from"./sparkles-CvddbY9g.js";import"./tag-CnKEepch.js";import"./use-unified-toast-5BD6N9MA.js";import"./UnifiedSearch-D9XA5TIn.js";import"./UnifiedNav-B6YtB1Or.js";import"./chart-column-7wXXrjUn.js";import"./user-C6DleTxx.js";function $(){const[a,c]=l.useState([]),[x,h]=l.useState([]),[o,u]=l.useState(!0);l.useEffect(()=>{(()=>{try{const s=p();c(s)}catch(s){console.error("Failed to load achievement progress:",s)}finally{u(!1)}})()},[]),l.useEffect(()=>N(s=>{h(s),c(p()),setTimeout(()=>h([]),5e3)}),[]);const g=l.useCallback(i=>{const s=w(i);s.length>0&&h(s),c(p())},[]),f=l.useMemo(()=>a.filter(i=>i.isUnlocked),[a]),t=l.useMemo(()=>a.filter(i=>!i.isUnlocked),[a]),d=l.useCallback(i=>a.filter(s=>s.achievement.category===i),[a]),n=l.useMemo(()=>k(5),[a]),r=l.useMemo(()=>{const i=a.length,s=f.length,y=Math.round(s/i*100);return{total:i,unlocked:s,locked:t.length,percentage:y}},[a,f,t]);return{progress:a,unlocked:f,locked:t,nextUp:n,stats:r,newlyUnlocked:x,trackEvent:g,byCategory:d,isLoading:o}}const b={bronze:"from-[#cd7f32] to-[#8b4513]",silver:"from-[#c0c0c0] to-[#808080]",gold:"from-[#ffd700] to-[#ff8c00]",platinum:"from-[#e5e4e2] to-[#b0b0b0]",diamond:"from-[#b9f2ff] to-[#00d4ff]"};function G(){const{progress:a,nextUp:c,stats:x,isLoading:h}=$(),[o,u]=l.useState(null),g=Array.from(new Set(a.map(t=>t.achievement.category))),f=o?a.filter(t=>t.achievement.category===o):a;return h?e.jsx(j,{children:e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Loading achievements..."})]})})}):!a||a.length===0?e.jsx(j,{children:e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No badges yet"}),e.jsx("p",{className:"text-[#a0a0a0]",children:"Start completing challenges to earn badges!"})]})})}):e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Achievements - Your Badges ðŸ†",description:"View your earned badges and achievements",canonical:"https://open-interview.github.io/badges"}),e.jsx(j,{children:e.jsx("div",{className:"min-h-screen bg-black text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 mb-12",children:[e.jsxs("h1",{className:"text-6xl md:text-7xl font-black",children:["Your",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] bg-clip-text text-transparent",children:"achievements"})]}),e.jsxs("p",{className:"text-xl text-[#a0a0a0]",children:[x.unlocked,"/",x.total," unlocked"]})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto mb-12",children:e.jsx("div",{className:"h-4 bg-white/10 rounded-full overflow-hidden",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${x.percentage}%`},transition:{duration:1,delay:.2},className:"h-full bg-gradient-to-r from-[#ffd700] to-[#ff8c00]"})})}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap gap-3 justify-center mb-12",children:[e.jsx("button",{onClick:()=>u(null),className:`px-6 py-3 rounded-full font-semibold transition-all ${o?"bg-white/5 border border-white/10 hover:bg-white/10":"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black"}`,children:"All"}),g.map(t=>e.jsx("button",{onClick:()=>u(t),className:`px-6 py-3 rounded-full font-semibold transition-all capitalize ${o===t?"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:t},t))]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map((t,d)=>{const n=t.achievement,r=t.isUnlocked,i=t.progress,s=t.target;return e.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Math.min(d*.05,.5)},whileHover:{scale:r?1.05:1},className:`relative p-6 backdrop-blur-xl rounded-[24px] border transition-all ${r?"bg-white/5 border-white/20":"bg-white/[0.02] border-white/5 opacity-50"}`,children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${r?`bg-gradient-to-br ${b[n.tier]||b.bronze}`:"bg-white/10"}`,children:r?e.jsx(v,{className:"w-10 h-10 text-white",strokeWidth:2.5}):e.jsx(S,{className:"w-10 h-10 text-[#666]"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-bold",children:n.name}),e.jsx("p",{className:"text-sm text-[#a0a0a0] line-clamp-2",children:n.description}),r&&t.unlockedAt&&e.jsxs("div",{className:"text-xs text-[#00ff88]",children:["Unlocked ",new Date(t.unlockedAt).toLocaleDateString()]}),!r&&i!==void 0&&s!==void 0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-[#a0a0a0]",children:[i,"/",s]}),e.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#00ff88] to-[#00d4ff]",style:{width:`${Math.min(i/s*100,100)}%`}})})]}),e.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold capitalize ${r?`bg-gradient-to-r ${b[n.tier]||b.bronze} text-white`:"bg-white/10 text-[#666]"}`,children:n.tier})]})]},n.id)})}),c.length>0&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12 p-8 bg-gradient-to-br from-[#00ff88]/20 to-[#00d4ff]/20 backdrop-blur-xl rounded-[24px] border border-[#00ff88]/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-[#00ff88]"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Almost There!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.slice(0,4).map(t=>{const d=t.achievement,n=t.current,r=t.target;return e.jsx("div",{className:"p-4 bg-white/5 rounded-[16px] border border-white/10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-[#00ff88]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold mb-1",children:d.name}),e.jsxs("div",{className:"text-sm text-[#a0a0a0]",children:[n,"/",r]}),e.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#00ff88] to-[#00d4ff]",style:{width:`${Math.min(n/r*100,100)}%`}})})]})]})},d.id)})})]})]})})})]})}export{G as default};
