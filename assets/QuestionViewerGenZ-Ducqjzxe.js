import{r as u,B as Te,j as e,m,s as $e,A as V,u as Ie,t as Le,k as Re,b as Ae,v as De,w as Ee,x as He,y as Be,S as Qe,X as Me,Z as Fe}from"./index-Bvf4w4sM.js";import{g as Pe}from"./data-BwcLLCPd.js";import{u as _e,a as Ve,b as Oe,S as Ue,V as Ge}from"./VoiceReminder-DcUxY-jJ.js";import{S as We}from"./SEOHead-BrgzgNZ0.js";import{U as ze,F as Ke}from"./UnifiedSearch-D0H19CSD.js";import{bF as ie}from"./EnhancedMermaid-DSog9yNY.js";import{S as qe,G as Ze,Y as Je,B as Xe,g as Ye,a as et,r as tt,b as de,c as st,Q as rt}from"./spaced-repetition-BSLbGiFF.js";import{M as at,r as nt,h as lt,v as ot}from"./index-DR21m5ZK.js";import{B as it,u as dt,a as ce,C as ct}from"./use-unified-toast-nK62QkqF.js";import{T as mt,C as xt,G as ut,a as me,B as te}from"./tag-BsHiKPeT.js";import{E as pt}from"./external-link-BKGt0RNU.js";import{F as ft}from"./file-text-DBMxBqlV.js";import{C as _}from"./check-rc6uC6rF.js";import{C as ht}from"./copy-PmUN8pB_.js";import{L as se}from"./lightbulb-bui4E6Jn.js";import{C as bt}from"./chevron-down-BTN4UdtE.js";import{P as gt}from"./play-BlKYhMP1.js";import{R as jt}from"./rotate-ccw-CFQZxx_V.js";import"./clock-BKkvyad9.js";import"./message-circle-0uh7PZUQ.js";import"./sparkles-DEmWbIXu.js";import"./flag-BdkukakD.js";function yt(t){if(!t)return"";let s=t;const f=[];s=s.replace(/```[\s\S]*?```/g,i=>(f.push(i),`__CODE_BLOCK_${f.length-1}__`)),s=s.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),s=s.replace(/^[â€¢Â·]\s*/gm,"- ");const r=s.split(`
`),x=[];let p=!1;for(let i=0;i<r.length;i++){let o=r[i];const d=o.trim();if(/^-\s+\*\*[^*]+:\*\*\s*$/.test(d)||/^\*\*[^*]+:\*\*\s*$/.test(d)){p=!0,x.push(o);continue}if(p&&/^-\s+/.test(d)){x.push("  "+d);continue}p&&(!d||!/^-\s+/.test(d))&&(p=!1);const g=(o.match(/\*\*/g)||[]).length;g%2===1&&(d.startsWith("**")&&g===1?o=o.replace(/^\s*\*\*\s*/,""):d.endsWith("**")&&g===1&&(o=o.replace(/\s*\*\*\s*$/,""))),x.push(o)}return s=x.join(`
`),s=s.replace(/\n{3,}/g,`

`),s=s.replace(/^\n+/,""),f.forEach((i,o)=>{s=s.replace(`__CODE_BLOCK_${o}__`,i)}),s}function re(t){if(!t||typeof t!="string")return!1;const s=t.trim();if(!s||s.length<10)return!1;const f=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],r=s.split(`
`)[0].toLowerCase().trim();if(!f.some(o=>r.startsWith(o.toLowerCase())))return!1;const p=s.split(`
`).filter(o=>{const d=o.trim().toLowerCase();return d&&!d.startsWith("%%")&&!f.some(n=>d.startsWith(n.toLowerCase()))});if(p.length<3)return!1;const i=s.toLowerCase();return!(i.includes("start")&&i.includes("end")&&p.length<=3||i.match(/\bstart\b/g)?.length===1&&i.match(/\bend\b/g)?.length===1&&p.length<=2)}function ae(t){return t?t.split(/`([^`]+)`/g).map((f,r)=>r%2===1?e.jsx("code",{className:"px-2 py-1 mx-1 bg-[#00ff88]/20 text-[#00ff88] rounded-lg text-[0.9em] font-mono border border-primary/30",children:f},r):f):null}function vt({code:t,language:s}){const[f,r]=u.useState(!1),x=async()=>{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden border border-border bg-muted/50 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-muted border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xt,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm uppercase tracking-wider text-primary font-bold",children:s||"code"})]}),e.jsx(m.button,{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:f?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(lt,{language:s||"text",style:ot,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.875rem",lineHeight:"1.6"},wrapLines:!0,wrapLongLines:!0,children:t})]})}function wt({question:t,hasTldr:s,hasDiagram:f,hasEli5:r,hasVideo:x}){const[p,i]=u.useState(null),o=f&&p!==!1,d=[];s&&d.push("tldr"),o&&d.push("diagram"),r&&d.push("eli5"),x&&d.push("video");const[n,g]=u.useState(()=>s?"tldr":r?"eli5":x?"video":"diagram");u.useEffect(()=>{p===!1&&n==="diagram"&&(s?g("tldr"):r?g("eli5"):x&&g("video"))},[p,n,s,r,x]);const N=u.useCallback(j=>{i(j)},[]);if(d.length===0&&p===!1)return null;if(d.length===0&&!s&&!r&&!x&&p===null)return e.jsx("div",{className:"rounded-2xl border border-border bg-muted/50 p-6 text-center text-muted-foreground text-sm backdrop-blur-xl",children:"Loading media..."});if(d.length===0)return null;const k={tldr:{label:"Quick Answer",icon:e.jsx(se,{className:"w-4 h-4"})},diagram:{label:"Visual",icon:e.jsx(ut,{className:"w-4 h-4"})},eli5:{label:"Simple",icon:e.jsx(Xe,{className:"w-4 h-4"})},video:{label:"Video",icon:e.jsx(gt,{className:"w-4 h-4"})}};return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card backdrop-blur-xl overflow-hidden shadow-xl",children:[e.jsx("div",{className:"flex border-b border-border bg-muted/30",children:d.map(j=>e.jsxs(m.button,{onClick:()=>g(j),className:`flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-bold transition-all relative ${n===j?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[k[j].icon,e.jsx("span",{className:"hidden sm:inline",children:k[j].label}),n===j&&e.jsx(m.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]},j))}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs(V,{mode:"wait",children:[n==="tldr"&&s&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx(se,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:ae(t.answer)})]},"tldr"),n==="diagram"&&f&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(ie,{chart:t.diagram,onRenderResult:N})},"diagram"),n==="eli5"&&r&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:ae(t.eli5||"")})]},"eli5"),n==="video"&&x&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(Je,{shortVideo:t.videos?.shortVideo,longVideo:t.videos?.longVideo})},"video")]})})]})}function Nt({title:t,icon:s,children:f,defaultExpanded:r=!0,variant:x="default",badge:p}){const[i,o]=u.useState(r),d={default:"bg-card border-border",highlight:"bg-primary/10 border-primary/30",success:"bg-green-500/10 border-green-500/30",purple:"bg-purple-500/10 border-purple-500/30"},n={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border overflow-hidden backdrop-blur-xl ${d[x]}`,children:[e.jsxs(m.button,{onClick:()=>o(!i),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-muted/30 transition-colors",whileHover:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:n[x],children:s}),e.jsx("span",{className:"font-bold text-base text-foreground",children:t}),p&&e.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary text-xs font-bold rounded-full border border-primary/30",children:p})]}),e.jsx(m.div,{animate:{rotate:i?0:-90},transition:{duration:.2},children:e.jsx(bt,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx(V,{initial:!1,children:i&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:f})})})]})}function ne({question:t,isCompleted:s}){const f=u.useRef(null),r=typeof window<"u"&&window.innerWidth<640,[x,p]=u.useState(null);u.useEffect(()=>{Te.getByQuestionId(t.id).then(p)},[t.id]);const i=!!t.answer,o=!r&&re(t.diagram),d=!!t.eli5,n=!!(t.videos?.shortVideo||t.videos?.longVideo),g=i||o||d||n,N=u.useCallback(k=>{const j=yt(k);return e.jsx(at,{remarkPlugins:[nt],components:{code({className:c,children:y}){const C=/language-(\w+)/.exec(c||""),h=C?C[1]:"",w=String(y).replace(/\n$/,"");return!C&&!String(y).includes(`
`)?e.jsx("code",{className:"px-2 py-1 bg-[#00ff88]/20 text-[#00ff88] rounded-lg text-[0.9em] font-mono border border-primary/30",children:y}):h==="mermaid"?re(w)?e.jsx("div",{className:"my-4",children:e.jsx(ie,{chart:w})}):null:e.jsx("div",{className:"my-4",children:e.jsx(vt,{code:w,language:h})})},p({children:c}){return e.jsx("p",{className:"mb-3 leading-relaxed text-foreground text-sm sm:text-base",children:c})},h1({children:c}){return e.jsx("h1",{className:"text-lg sm:text-xl font-black mb-3 mt-6 text-foreground border-b border-border pb-2",children:c})},h2({children:c}){return e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3 mt-5 text-foreground",children:c})},h3({children:c}){return e.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 mt-4 text-foreground",children:c})},strong({children:c}){return e.jsx("strong",{className:"font-bold text-foreground",children:c})},ul({children:c,node:y}){const h=y?.parent?.tagName==="li";return e.jsx("ul",{className:`space-y-2 mb-3 ${h?"ml-6 mt-2":"ml-2"}`,children:c})},ol({children:c,node:y}){const h=y?.parent?.tagName==="li";return e.jsx("ol",{className:`space-y-2 mb-3 [counter-reset:list-counter] ${h?"ml-6 mt-2":"ml-2"}`,children:c})},li({children:c,node:y}){const h=y?.parent?.tagName==="ol",w=Array.isArray(c)&&c.some(S=>S?.type?.name==="ul"||S?.type?.name==="ol");return e.jsxs("li",{className:`flex gap-3 text-foreground text-sm sm:text-base [counter-increment:list-counter] ${w?"flex-col":""}`,children:[e.jsx("span",{className:"shrink-0 text-primary mt-1 font-bold",children:h?e.jsx("span",{className:"text-sm before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:w?"flex-1 -mt-7 ml-6":"flex-1",children:c})]})},a({href:c,children:y}){return e.jsx("a",{href:c,className:"text-primary hover:text-primary/80 underline",target:"_blank",rel:"noopener noreferrer",children:y})},blockquote({children:c}){return e.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-3 bg-primary/5 text-muted-foreground italic text-sm sm:text-base",children:c})},table({children:c}){return e.jsx("div",{className:"my-4 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-xs sm:text-sm",children:c})})},th({children:c}){return e.jsx("th",{className:"px-3 py-2 text-left font-bold bg-muted border border-border text-xs sm:text-sm text-foreground",children:c})},td({children:c}){return e.jsx("td",{className:"px-3 py-2 border border-border text-xs sm:text-sm text-foreground",children:c})}},children:j})},[]);return e.jsx(m.div,{ref:f,initial:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-muted/10 to-background",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-6 pb-32 space-y-6",children:[g&&e.jsx(wt,{question:t,hasTldr:i,hasDiagram:o,hasEli5:d,hasVideo:n}),e.jsx(Nt,{title:"Deep Dive Explanation",icon:e.jsx(it,{className:"w-5 h-5"}),defaultExpanded:!0,badge:t.explanation?`${Math.ceil(t.explanation.split(" ").length/200)} min read`:void 0,children:e.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:N(t.explanation)})}),e.jsx("div",{className:"flex items-start gap-3 pt-2",children:t.tags&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-4 h-4 text-primary mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(k=>e.jsx(m.span,{className:"px-3 py-1 bg-muted text-muted-foreground text-xs font-mono rounded-lg border border-border backdrop-blur-xl",whileHover:{scale:1.05,borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)"},children:$e(k)},k))})]})}),(t.sourceUrl||x)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.sourceUrl&&e.jsxs(m.a,{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-muted hover:bg-muted/80 border border-border rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(pt,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-foreground font-medium",children:"Source"})]}),x&&e.jsxs(m.a,{href:`https://openstackdaily.github.io${x.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/30 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(ft,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-primary font-medium",children:"Read Blog"})]})]}),e.jsx(qe,{questionId:t.id,currentChannel:t.channel}),e.jsx(Ze,{questionId:t.id})]})})}function zt(){const[t,s]=Ie(),[,f]=Le("/channel/:id/:questionId?"),r=f?.id,x=f?.questionId,i=new URLSearchParams(t.split("?")[1]||"").get("q"),o=i||x,d=Pe(r||""),{subChannels:n}=_e(r||""),g=d?{...d,subChannels:[{id:"all",name:"All Topics"},...n.map(l=>({id:l,name:l.split("-").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" ")}))]}:null,[N,k]=u.useState("all"),[j,c]=u.useState("all"),[y,C]=u.useState("all"),[h,w]=u.useState(0),[S,L]=u.useState(!1),[O,U]=u.useState(!1),[E,R]=u.useState("question"),[xe,ue]=u.useState(()=>{const l=localStorage.getItem(`marked-${r}`);return l?JSON.parse(l):[]}),[H,B]=u.useState(null),[G,Q]=u.useState(!1),[W,z]=u.useState(!1),{companiesWithCounts:pe}=Ve(r||"",N,j),{preferences:K,isSubscribed:fe,subscribeChannel:he}=Re(),be=K.shuffleQuestions!==!1,ge=K.prioritizeUnvisited!==!1,{onQuestionSwipe:je,onQuestionView:ye}=Ae(),{trackEvent:q}=De(),{completed:ve,markCompleted:we,saveLastVisitedIndex:Ne}=Ee(r||""),{toast:I}=dt(),{question:a,questions:T,totalQuestions:v,loading:$,error:ke}=Oe(r||"",h,N,j,y,be,ge),[M,Z]=u.useState(!1);u.useEffect(()=>{if(!a)return;const l=Ye(a.id,a.channel,a.difficulty);B(l),Q(!1),z(!1)},[a]),u.useEffect(()=>{if(!($||T.length===0))if(o){const l=T.findIndex(b=>b.id===o);l>=0&&l!==h&&w(l),i&&s(`/channel/${r}/${o}`,{replace:!0}),Z(!0)}else T[0]&&!M&&(s(`/channel/${r}/${T[0].id}`,{replace:!0}),Z(!0))},[o,T.length,r,$,i]),u.useEffect(()=>{r&&g&&!fe(r)&&!$&&v>0&&T.length>0&&(he(r),I({title:"Channel added",description:`${g.name} added to your channels`}))},[r,g,$,v,T.length]),u.useEffect(()=>{v>0&&h>=v&&w(0)},[v,h]),u.useEffect(()=>{!M||$||!r||!a||(a.id!==o&&s(`/channel/${r}/${a.id}`,{replace:!0}),Ne(h))},[h,M]),u.useEffect(()=>{a&&(He(a.id,a.channel,a.difficulty),we(a.id),Be(),q({type:"question_completed",timestamp:new Date().toISOString(),data:{questionId:a.id,difficulty:a.difficulty,channel:a.channel}}))},[a?.id]),u.useEffect(()=>{const l=b=>{if((b.metaKey||b.ctrlKey)&&b.key==="k"){b.preventDefault(),L(!0);return}S||(b.key==="ArrowRight"||b.key==="ArrowDown"?(b.preventDefault(),J()):b.key==="ArrowLeft"||b.key==="ArrowUp"?(b.preventDefault(),X()):b.key==="Escape"&&s("/channels"))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[h,v,S]);const J=()=>{h<v-1&&(w(l=>l+1),R("question"),je(),ye())},X=()=>{h>0&&(w(l=>l-1),R("question"))},F=()=>{a&&ue(l=>{const b=l.includes(a.id)?l.filter(Se=>Se!==a.id):[...l,a.id];return localStorage.setItem(`marked-${r}`,JSON.stringify(b)),b})},Ce=async()=>{try{await navigator.clipboard.writeText(window.location.href),I({title:"Link copied!",description:"Question link copied to clipboard"})}catch{I({title:"Share",description:window.location.href})}},Y=()=>{if(!a)return;const l=et(a.id,a.channel,a.difficulty);B(l),Q(!0),I({title:"Added to SRS",description:"Question added to spaced repetition system"})},ee=l=>{if(!H||!a)return;const b=tt(a.id,a.channel,a.difficulty,l);B(b),z(!0),Q(!1),q({type:"srs_review",timestamp:new Date().toISOString(),data:{rating:l}}),I({title:"Review recorded",description:`Mastery: ${de(b.masteryLevel)}`})};if($&&!a)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading questions..."})]})});if(ke||!g)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Channel not found"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:['The channel "',r,`" doesn't exist.`]}),e.jsx("button",{onClick:()=>s("/channels"),className:"px-6 py-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground font-bold rounded-full",children:"Go to Channels"})]})});if(!$&&(!a||v===0)){const l=N!=="all"||j!=="all"||y!=="all";return e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(le,{channel:g,onBack:()=>s("/channels"),onSearch:()=>L(!0),currentIndex:h,totalQuestions:v}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No questions found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Try adjusting your filters.":"Check back soon for new content!"}),l&&e.jsx("button",{onClick:()=>{k("all"),c("all"),C("all")},className:"px-6 py-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground font-bold rounded-full",children:"Reset Filters"})]})})]})}if(!a)return null;const A=xe.includes(a.id),D=ve.includes(a.id),P=Math.round((h+1)/v*100);return e.jsxs(e.Fragment,{children:[e.jsx(We,{title:`${g.name} - ${a.question.substring(0,60)}...`,description:a.question,canonical:`https://open-interview.github.io/channel/${r}/${a.id}`}),e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(le,{channel:g,onBack:()=>s("/channels"),onSearch:()=>L(!0),currentIndex:h,totalQuestions:v,progress:P,onToggleFilters:()=>U(!O),hasFilters:N!=="all"||j!=="all"||y!=="all"}),e.jsx(V,{children:O&&e.jsx(kt,{channel:g,selectedSubChannel:N,selectedDifficulty:j,selectedCompany:y,companiesWithCounts:pe,onSubChannelChange:l=>{k(l),w(0)},onDifficultyChange:l=>{c(l),w(0)},onCompanyChange:l=>{C(l),w(0)},onClose:()=>U(!1)})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"hidden lg:flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-1/2 border-r border-border overflow-y-auto p-8",children:e.jsx(oe,{question:a,questionNumber:h+1,totalQuestions:v,isMarked:A,isCompleted:D,srsCard:H,showRatingButtons:G,hasRated:W,onAddToSRS:Y,onSRSRating:ee,onToggleMark:F})}),e.jsx("div",{className:"w-1/2 overflow-y-auto p-8 bg-background",children:e.jsx(ne,{question:a,isCompleted:D})})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:hidden overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-border bg-background",children:[e.jsx("button",{onClick:()=>R("question"),className:`flex-1 py-4 text-sm font-bold transition-colors ${E==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),e.jsx("button",{onClick:()=>R("answer"),className:`flex-1 py-4 text-sm font-bold transition-colors ${E==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:E==="question"?e.jsx(oe,{question:a,questionNumber:h+1,totalQuestions:v,isMarked:A,isCompleted:D,srsCard:H,showRatingButtons:G,hasRated:W,onAddToSRS:Y,onSRSRating:ee,onToggleMark:F}):e.jsx(ne,{question:a,isCompleted:D})})]})]}),e.jsx("div",{className:"border-t border-border bg-background/95 backdrop-blur-xl p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsx(m.button,{onClick:X,disabled:h===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-muted/50 rounded-full disabled:opacity-30 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:e.jsx(ce,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-bold text-primary",children:[h+1," / ",v]}),e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(m.div,{className:"h-full bg-gradient-to-r from-primary to-cyan-500",initial:{width:0},animate:{width:`${P}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-bold",children:[P,"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m.button,{onClick:F,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-3 rounded-full transition-colors ${A?"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black":"bg-muted/50 hover:bg-muted"}`,children:e.jsx(me,{className:"w-5 h-5",fill:A?"currentColor":"none"})}),e.jsx(m.button,{onClick:Ce,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-muted/50 rounded-full hover:bg-muted transition-colors",children:e.jsx(Ue,{className:"w-5 h-5"})})]}),e.jsx(m.button,{onClick:J,disabled:h===v-1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground rounded-full disabled:opacity-30 disabled:cursor-not-allowed font-bold",children:e.jsx(ct,{className:"w-5 h-5"})})]})})]}),e.jsx(ze,{isOpen:S,onClose:()=>L(!1)}),e.jsx(Ge,{})]})}function le({channel:t,onBack:s,onSearch:f,currentIndex:r,totalQuestions:x,progress:p,onToggleFilters:i,hasFilters:o}){return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(ce,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg",children:t.name}),x>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Question ",r+1," of ",x]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx(m.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 rounded-lg transition-colors ${o?"bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground":"hover:bg-muted"}`,children:e.jsx(Ke,{className:"w-5 h-5"})}),e.jsx(m.button,{onClick:f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]})})})}function kt({channel:t,selectedSubChannel:s,selectedDifficulty:f,selectedCompany:r,companiesWithCounts:x,onSubChannelChange:p,onDifficultyChange:i,onCompanyChange:o,onClose:d}){return e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-b border-border bg-muted/50 backdrop-blur-xl overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Filters"}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(Me,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.subChannels&&t.subChannels.length>1&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Topic"}),e.jsx("select",{value:s,onChange:n=>p(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:t.subChannels.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Difficulty"}),e.jsxs("select",{value:f,onChange:n=>i(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),x.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Company"}),e.jsxs("select",{value:r,onChange:n=>o(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Companies"}),x.map(n=>e.jsxs("option",{value:n.company,children:[n.company," (",n.count,")"]},n.company))]})]})]})]})})}function oe({question:t,questionNumber:s,totalQuestions:f,isMarked:r,isCompleted:x,srsCard:p,showRatingButtons:i,hasRated:o,onAddToSRS:d,onSRSRating:n,onToggleMark:g}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-primary/20 to-cyan-500/20 border border-primary/30 rounded-full text-xs font-bold text-primary",children:t.difficulty}),t.company&&e.jsx("span",{className:"px-3 py-1 bg-muted/50 border border-border rounded-full text-xs font-bold",children:t.company}),x&&e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-full text-xs font-bold text-green-500",children:"âœ“ Completed"}),p&&!i&&!o&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${st(p.easeFactor)}`,children:de(p.easeFactor)})]}),e.jsx("div",{children:e.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4 leading-tight",children:t.question})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(m.button,{onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2 ${r?"bg-gradient-to-r from-[#ffd700]/20 to-[#ff0080]/20 border border-[#ffd700]/30 text-[#ffd700]":"bg-muted/50 border border-border text-muted-foreground hover:border-[#ffd700]/30 hover:text-[#ffd700]"}`,children:[e.jsx(me,{className:`w-4 h-4 ${r?"fill-current":""}`}),r?"Bookmarked":"Bookmark"]}),o?e.jsxs("span",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-xl text-sm font-bold text-green-400 flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Review Recorded"]}):i&&p?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Rate your confidence:"}),e.jsxs(m.button,{onClick:()=>n("again"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-red-500/20 border border-red-500/30 rounded-lg text-xs font-bold text-red-400 hover:bg-red-500/30 transition-all flex items-center gap-1",children:[e.jsx(jt,{className:"w-3 h-3"}),"Again"]}),e.jsxs(m.button,{onClick:()=>n("hard"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-orange-500/20 border border-orange-500/30 rounded-lg text-xs font-bold text-orange-400 hover:bg-orange-500/30 transition-all flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),"Hard"]}),e.jsxs(m.button,{onClick:()=>n("good"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-green-500/20 border border-green-500/30 rounded-lg text-xs font-bold text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3"}),"Good"]}),e.jsxs(m.button,{onClick:()=>n("easy"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-blue-500/20 border border-blue-500/30 rounded-lg text-xs font-bold text-blue-400 hover:bg-blue-500/30 transition-all flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Easy"]})]}):e.jsxs(m.button,{onClick:d,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-xl text-sm font-bold text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Add to SRS"]}),e.jsx(rt,{questionId:t.id})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(N=>e.jsxs("span",{className:"px-3 py-1 bg-muted/50 rounded-full text-xs text-muted-foreground",children:["#",N]},N))})]})}export{zt as default};
