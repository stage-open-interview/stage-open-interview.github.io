import{u as Ze,b as Ge,r as t,d as es,O as ss,t as ts,j as e,y as rs,q as ns,w as je,I as as,Z as Ne,i as we,h as is,E as os,m as q,C as ls,o as ye,X as cs,R as ds}from"./index-Bd4OfHjt.js";import{g as ms,a as xs,b as us}from"./progressive-quiz-CpEGaqrt.js";import{S as hs}from"./SEOHead-DMy2H_zX.js";import{Q as ve,A as Ce}from"./AnswerPanel-Bn5rAl7c.js";import{u as ps,C as fs}from"./use-swipe-DVHpDby9.js";import{u as bs,C as gs}from"./use-unified-toast-CTLjDvXk.js";import{a as js,l as Ns}from"./tests-CRs_cQC6.js";import{L as ke}from"./lock-IoPLshzd.js";import{L as Se,S as Te}from"./skip-forward-YryGQfe1.js";import{C as ws}from"./circle-x-B7sOzyun.js";import{C as ys}from"./chevron-up-C56DQBUD.js";import{C as vs}from"./chevron-down-DbHHO7xA.js";import{L as Ee}from"./lightbulb-BhybXBuA.js";import{T as Cs}from"./triangle-alert-BAlG1355.js";import"./QuestionHistory-Cr4J0pYT.js";import"./history-DUsbZf-4.js";import"./trash-2-CiRO1oFz.js";import"./square-pen-BF9EjQhR.js";import"./plus-DErikAio.js";import"./user-CyQS8Ggn.js";import"./bot-Djgfy9Gz.js";import"./clock-DxtfVdFZ.js";import"./index-C5YrK7h1.js";import"./hash-B1H449N0.js";import"./bookmark-BGMfdiyv.js";import"./tag-Dn0a4MoH.js";import"./target-DhIvVmUJ.js";import"./EnhancedMermaid-jwNvPvKV.js";import"./zoom-out-bhabUq1C.js";import"./GiscusComments-wQ-kq4Fv.js";import"./message-circle-DuKHD2-B.js";import"./loader-circle-BLr-gu0E.js";import"./QuestionFeedback-7XNX_Ww3.js";import"./flag-DyXLOqyt.js";import"./external-link-BZ51eAeS.js";import"./ban-DFaZhzy2.js";import"./book-open-C2d09uNf.js";import"./file-text-C2oCq2zD.js";import"./copy-C6wadhDd.js";import"./play-BG7X4e5c.js";import"./youtube-3SN_u0UW.js";import"./coffee-VCyAuLgp.js";const N=50,W=5,ks=3,Ss=800;function gt(){const[Ts,O]=Ze(),[,Ie]=Ge("/certification/:id/:questionIndex?"),o=Ie?.id,l=o?ms(o):null;l&&xs(l.id);const[x,Ae]=t.useState([]),[I,le]=t.useState(!0),[D,ce]=t.useState(null),[a,S]=t.useState(0),[w,de]=t.useState("all"),[X,A]=t.useState("question"),[me,$e]=t.useState(!1),[Qe,Me]=t.useState(new Set),[Es,Re]=t.useState(!1),[P,Le]=t.useState([]),[y,Z]=t.useState(!1),[u,xe]=t.useState([]),[T,G]=t.useState(0),[$,ee]=t.useState([]),[E,F]=t.useState(!1),[se,_]=t.useState(null),[v,te]=t.useState(!1),[qe,Q]=t.useState(!1),[b,z]=t.useState(new Set),[Oe,re]=t.useState(new Set),{toast:g}=bs(),{onQuestionSwipe:ue,onQuestionView:De,balance:ne,formatCredits:he,refreshBalance:pe}=es(),ae=`cert-progress-${o}`,J=`cert-checkpoints-${o}`,K=`cert-session-${o}`,[j,Pe]=t.useState(()=>{try{const s=localStorage.getItem(ae);return new Set(s?JSON.parse(s):[])}catch{return new Set}}),B=t.useCallback(()=>{if(!o||x.length===0)return;const s={certificationId:o,certificationName:l?.name,questions:x,currentIndex:a,completedIds:Array.from(j),passedCheckpoints:Array.from(b),selectedDifficulty:w,lastAccessedAt:new Date().toISOString()};localStorage.setItem(K,JSON.stringify(s))},[o,l,x,a,j,b,w,K]);t.useEffect(()=>{if(o)try{const s=localStorage.getItem(K);if(s){const r=JSON.parse(s);r.currentIndex!==void 0&&S(r.currentIndex)}}catch(s){console.error("Failed to load session:",s)}},[o,K]),t.useEffect(()=>{x.length>0&&B()},[a,j,b,B,x.length]);const Fe=t.useCallback(()=>{B(),O(`/certification/${o}`)},[B,o,O]);t.useEffect(()=>{try{const s=localStorage.getItem(J);s&&z(new Set(JSON.parse(s)))}catch{}},[J]),t.useEffect(()=>{o&&localStorage.setItem(ae,JSON.stringify(Array.from(j)))},[j,o,ae]),t.useEffect(()=>{o&&localStorage.setItem(J,JSON.stringify(Array.from(b)))},[b,o,J]),t.useEffect(()=>{if(!l)return;(async()=>{le(!0),ce(null);try{const r=[],n=[];for(const m of l.channelMappings)try{let Y=(await os.getData(m.channelId)).questions;n.push(m.channelId),m.subChannels&&m.subChannels.length>0&&(Y=Y.filter(Xe=>m.subChannels.includes(Xe.subChannel)));const We=Math.ceil(Y.length*(m.weight/100));r.push(...Y.slice(0,We))}catch{}const c=await Ns();Le(c.filter(m=>n.includes(m.channelId)));const p=Array.from(new Map(r.map(m=>[m.id,m])).values()),f=sessionStorage.getItem(`cert-seed-${o}`)||Date.now().toString();sessionStorage.setItem(`cert-seed-${o}`,f);const L=us(p,p.length);Ae(L)}catch{ce("Failed to load certification questions")}finally{le(!1)}})()},[l,o]);const fe=t.useMemo(()=>w==="all"?x:x.filter(s=>s.difficulty===w),[x,w]),i=fe[a],d=fe.length,M=t.useCallback(s=>s>0&&s%W===0,[]),R=t.useCallback(s=>b.has(s),[b]),H=t.useCallback(()=>{if(P.length===0)return[];const s=P[Math.floor(Math.random()*P.length)];return js(s,ks)},[P]),U=t.useCallback(()=>{const s=H();s.length>0?(xe(s),G(0),ee([]),F(!1),_(null),te(!1),re(new Set),Z(!0)):(z(r=>new Set(Array.from(r).concat(a))),g({title:"Checkpoint passed!"}))},[H,a,g]),_e=t.useCallback(s=>{if(E)return;const r=u[T],n=r.options.find(f=>f.isCorrect),c=s===n?.id,p={questionId:r.id,selectedOptionId:s,isCorrect:c,correctOptionId:n?.id||""};ee(f=>[...f,p]),_(p),F(!0),setTimeout(()=>{F(!1),_(null),T<u.length-1?G(f=>f+1):te(!0)},Ss)},[E,u,T]),h=t.useMemo(()=>{const s=$.filter(r=>r.isCorrect).length;return{correct:s,total:u.length,passed:s===u.length}},[$,u.length]),ze=t.useCallback(()=>{const s=H();xe(s),G(0),ee([]),F(!1),_(null),te(!1),re(new Set)},[H]),Je=t.useCallback(()=>{ss(N,"Skipped checkpoint test").success?(z(r=>new Set(Array.from(r).concat(a))),Z(!1),Q(!1),pe(),g({title:"Test Skipped",description:`-${N} credits`})):g({title:"Insufficient Credits",description:`Need ${N} credits`})},[a,pe,g]),Ke=t.useCallback(()=>{h.passed&&z(s=>new Set(Array.from(s).concat(a))),Z(!1)},[h.passed,a]),Be=s=>{re(r=>{const n=new Set(r);return n.has(s)?n.delete(s):n.add(s),n})},V=t.useCallback(()=>{if(a<d-1){const s=a+1;if(M(s)&&!R(s)){S(s),U();return}S(s),A("question"),ue?.()}},[a,d,M,R,U,ue]),ie=()=>{a>0&&(S(a-1),A("question"))},He=()=>{i&&(Pe(s=>new Set(Array.from(s).concat(i.id))),De?.())},be=()=>{i&&Me(s=>{const r=new Set(s);return r.has(i.id)?r.delete(i.id):r.add(i.id),r})},oe=ps({onSwipeLeft:V,onSwipeRight:ie});if(t.useEffect(()=>{const s=r=>{y||((r.key==="ArrowRight"||r.key==="j")&&V(),(r.key==="ArrowLeft"||r.key==="k")&&ie())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[y,V]),t.useEffect(()=>{i&&!y&&ts(i.id,i.channel,i.difficulty)},[i,y]),t.useEffect(()=>{M(a)&&!R(a)&&!y&&!I&&U()},[a,M,R,y,I,U]),t.useEffect(()=>{!I&&l&&x.length===0&&!D&&(g({title:"Content coming soon!",description:`We're preparing questions for "${l.name}". Check back soon!`,variant:"warning"}),Re(!0))},[I,l,x.length,D]),t.useEffect(()=>{if(!l&&o){g({title:"Certification not found",description:"Redirecting to home page...",variant:"warning"});const s=setTimeout(()=>{O("/")},1500);return()=>clearTimeout(s)}},[l,o,g,O]),!l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(rs,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground/30"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Certification not found"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Redirecting to home..."})]})});const Ue=d>0?Math.round(j.size/d*100):0,C=i?j.has(i.id):!1,ge=i?Qe.has(i.id):!1,k=u[T],Ve=()=>y?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:e.jsxs(q.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-card border border-border rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-border bg-gradient-to-r from-amber-500/10 via-primary/10 to-amber-500/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${v?h.passed?"bg-green-500/20":"bg-red-500/20":"bg-amber-500/20"}`,children:v?h.passed?e.jsx(Se,{className:"w-5 h-5 text-green-500"}):e.jsx(ke,{className:"w-5 h-5 text-red-500"}):e.jsx(Ne,{className:"w-5 h-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:v?h.passed?"ðŸŽ‰ Passed!":"âŒ Failed":"Checkpoint Test"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v?`${h.correct}/${h.total} correct`:`Q${T+1}/${u.length} â€¢ Tap answer to submit`})]})]}),!v&&e.jsx("div",{className:"flex items-center gap-1",children:u.map((s,r)=>e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${r<$.length?$[r]?.isCorrect?"bg-green-500":"bg-red-500":r===T?"bg-primary":"bg-muted"}`},r))})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:v?e.jsxs("div",{className:"space-y-3",children:[!h.passed&&e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-sm",children:[e.jsx("span",{className:"font-medium text-red-500",children:"Need 100% to proceed."}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"Review below, then retry or skip."})]}),u.map((s,r)=>{const n=$[r],c=Oe.has(r),p=s.options.find(L=>L.isCorrect),f=s.options.find(L=>L.id===n?.selectedOptionId);return e.jsxs("div",{className:`border rounded-xl overflow-hidden ${n?.isCorrect?"border-green-500/30":"border-red-500/30"}`,children:[e.jsxs("button",{onClick:()=>Be(r),className:"w-full p-3 flex items-center gap-3 text-left hover:bg-muted/30",children:[n?.isCorrect?e.jsx(ls,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):e.jsx(ws,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-sm line-clamp-1",children:s.question}),c?e.jsx(ys,{className:"w-4 h-4"}):e.jsx(vs,{className:"w-4 h-4"})]}),e.jsx(ye,{children:c&&e.jsx(q.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-border/50",children:e.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[e.jsxs("div",{className:`p-2 rounded ${n?.isCorrect?"bg-green-500/10":"bg-red-500/10"}`,children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Your answer: "}),e.jsx("span",{className:n?.isCorrect?"text-green-500":"text-red-500",children:f?.text})]}),!n?.isCorrect&&e.jsxs("div",{className:"p-2 rounded bg-green-500/10",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Correct: "}),e.jsx("span",{className:"text-green-500",children:p?.text})]}),s.explanation&&e.jsxs("div",{className:"p-2 rounded bg-blue-500/10 flex gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-muted-foreground",children:s.explanation})]})]})})})]},s.id)})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${k?.difficulty==="beginner"?"bg-green-500/10 text-green-500":k?.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:k?.difficulty})}),e.jsx("h4",{className:"font-medium mb-5",children:k?.question}),e.jsx("div",{className:"space-y-2",children:k?.options.map(s=>{const r=se?.selectedOptionId===s.id,n=s.isCorrect,c=E&&(r||n);return e.jsx("button",{onClick:()=>_e(s.id),disabled:E,className:`w-full p-4 text-left border-2 rounded-xl transition-all ${c?n?"border-green-500 bg-green-500/10":r?"border-red-500 bg-red-500/10":"border-border":"border-border hover:border-primary/50 hover:bg-muted/30"} ${E?"cursor-default":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${c&&n?"border-green-500 bg-green-500":c&&r&&!n?"border-red-500 bg-red-500":"border-muted-foreground/30"}`,children:[c&&n&&e.jsx(we,{className:"w-3 h-3 text-white"}),c&&r&&!n&&e.jsx(cs,{className:"w-3 h-3 text-white"})]}),e.jsx("span",{className:"text-sm",children:s.text})]})},s.id)})}),E&&se&&!se.isCorrect&&k?.explanation&&e.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl text-sm flex gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-muted-foreground",children:k.explanation})]})]})}),e.jsx("div",{className:"p-4 border-t border-border bg-muted/30",children:v?e.jsx("div",{className:"flex gap-3",children:h.passed?e.jsxs("button",{onClick:Ke,className:"flex-1 py-3 bg-green-500 text-white rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5"})," Continue"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ze,className:"flex-1 py-3 bg-primary text-primary-foreground rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(ds,{className:"w-4 h-4"})," Retry"]}),e.jsxs("button",{onClick:()=>Q(!0),className:"flex-1 py-3 bg-muted rounded-xl font-medium flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(Te,{className:"w-4 h-4"})," Skip (-",N,")"]})]})}):e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center gap-1 hover:text-foreground",children:[e.jsx(Te,{className:"w-4 h-4"})," Skip (-",N,")"]}),e.jsx("span",{children:"Tap an answer to submit"})]})})]})}):null,Ye=()=>e.jsx(ye,{children:qe&&e.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4",onClick:()=>Q(!1),children:e.jsx(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-card border border-border rounded-2xl w-full max-w-sm p-5",onClick:s=>s.stopPropagation(),children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cs,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),e.jsx("h3",{className:"font-bold mb-2",children:"Skip Test?"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Cost: ",e.jsxs("span",{className:"text-red-500 font-bold",children:[N," credits"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 p-2 bg-muted/50 rounded-lg text-sm",children:[e.jsx(je,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{children:["Balance: ",e.jsx("b",{children:he(ne)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-2.5 bg-muted rounded-xl font-medium",children:"Cancel"}),e.jsx("button",{onClick:Je,disabled:ne<N,className:"flex-1 py-2.5 bg-red-500 text-white rounded-xl font-medium disabled:opacity-50",children:"Skip"})]})]})})})});return e.jsxs(e.Fragment,{children:[e.jsx(hs,{title:`${l.name} Practice`,description:l.description}),e.jsx(Ve,{}),e.jsx(Ye,{}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur border-b border-border",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Fe,className:"p-1.5 hover:bg-muted rounded-md shrink-0",title:"Exit and save progress",children:e.jsx(ns,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"font-semibold text-sm leading-tight",children:l.name}),e.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:l.provider})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-muted-foreground tabular-nums",children:["Q",a+1,"/",d]}),e.jsxs("div",{className:"relative flex-1 h-1.5 bg-muted rounded-full overflow-hidden max-w-[200px]",children:[e.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${(a+1)/d*100}%`}}),Array.from({length:Math.floor(d/W)}).map((s,r)=>{const n=(r+1)*W,c=n/d*100,p=b.has(n);return e.jsx("div",{className:`absolute top-1/2 w-1.5 h-1.5 rounded-full ${p?"bg-green-500":"bg-amber-500"}`,style:{left:`${c}%`,transform:"translate(-50%, -50%)"}},r)})]}),e.jsxs("span",{className:"text-[10px] text-primary font-medium tabular-nums",children:[Ue,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[["all","beginner","intermediate","advanced"].map(s=>e.jsx("button",{onClick:()=>{de(s),S(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize hidden sm:block ${w===s?s==="beginner"?"bg-green-500/20 text-green-500":s==="intermediate"?"bg-yellow-500/20 text-yellow-500":s==="advanced"?"bg-red-500/20 text-red-500":"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,children:s==="all"?"All":s==="beginner"?"Easy":s==="intermediate"?"Med":"Hard"},s)),e.jsxs("div",{className:"flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-500/10 border border-amber-500/20 rounded-md ml-1",children:[e.jsx(je,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-[10px] font-bold text-amber-500 tabular-nums",children:he(ne)})]}),e.jsx("button",{onClick:()=>$e(!me),className:"p-1 hover:bg-muted rounded-md",children:e.jsx(as,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"flex items-center gap-1 mt-1.5 sm:hidden overflow-x-auto no-scrollbar",children:["all","beginner","intermediate","advanced"].map(s=>e.jsx("button",{onClick:()=>{de(s),S(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize shrink-0 ${w===s?s==="beginner"?"bg-green-500/20 text-green-500":s==="intermediate"?"bg-yellow-500/20 text-yellow-500":s==="advanced"?"bg-red-500/20 text-red-500":"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground"}`,children:s==="all"?"All":s==="beginner"?"Easy":s==="intermediate"?"Medium":"Hard"},s))})]})}),me&&e.jsx("div",{className:"bg-muted/30 border-b border-border px-3 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-[10px]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",e.jsx("span",{className:"font-medium capitalize",children:l.difficulty})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Time:"})," ",e.jsxs("span",{className:"font-medium",children:[l.estimatedHours,"h"]})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Done:"})," ",e.jsxs("span",{className:"font-medium",children:[j.size,"/",d]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Ne,{className:"w-3 h-3 text-amber-500"}),e.jsxs("span",{children:["Test every ",W,"Q â€¢ Skip: ",N,"cr"]})]})]})}),I?e.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):D?e.jsx("div",{className:"flex items-center justify-center h-[60vh] text-center",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-red-500 mb-2",children:D}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-primary",children:"Retry"})]})}):d===0?e.jsx(fs,{type:"certification",name:l.name,redirectTo:"/certifications",redirectDelay:5e3}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:flex h-[calc(100vh-100px)]",children:[e.jsx("div",{className:"w-[40%] border-r border-border overflow-y-auto",children:i&&e.jsx(ve,{question:i,questionNumber:a+1,totalQuestions:d,isMarked:ge,isCompleted:C,onToggleMark:be,timerEnabled:!1,timeLeft:0})}),e.jsx("div",{className:"w-[60%] overflow-y-auto",children:i&&e.jsx(Ce,{question:i,isCompleted:C})})]}),e.jsxs("div",{className:"lg:hidden flex flex-col h-[calc(100vh-140px)]",children:[e.jsxs("div",{className:"flex border-b border-border",children:[e.jsx("button",{onClick:()=>A("question"),className:`flex-1 py-2 text-sm font-medium ${X==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),e.jsx("button",{onClick:()=>A("answer"),className:`flex-1 py-2 text-sm font-medium ${X==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pb-14",onTouchStart:oe.onTouchStart,onTouchMove:oe.onTouchMove,onTouchEnd:oe.onTouchEnd,children:X==="question"?i&&e.jsx(ve,{question:i,questionNumber:a+1,totalQuestions:d,isMarked:ge,isCompleted:C,onToggleMark:be,onTapQuestion:()=>A("answer"),timerEnabled:!1,timeLeft:0}):i&&e.jsx(Ce,{question:i,isCompleted:C})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur border-t border-border py-1.5 px-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[e.jsxs("button",{onClick:ie,disabled:a===0,className:"flex items-center gap-1 px-2.5 py-1.5 bg-muted rounded-md disabled:opacity-40 text-xs",children:[e.jsx(gs,{className:"w-4 h-4"}),"Prev"]}),e.jsxs("button",{onClick:He,disabled:C,className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium ${C?"bg-green-500/10 text-green-500":"bg-primary text-primary-foreground"}`,children:[e.jsx(we,{className:"w-3.5 h-3.5"}),C?"Done":"Mark Done"]}),e.jsxs("button",{onClick:V,disabled:a===d-1,className:"flex items-center gap-1 px-2.5 py-1.5 bg-muted rounded-md disabled:opacity-40 text-xs",children:["Next",e.jsx(is,{className:"w-4 h-4"}),M(a+1)&&!R(a+1)&&e.jsx(ke,{className:"w-3 h-3 text-amber-500"})]})]})})]})]})]})}export{gt as default};
