import{c as P,k as fe,r as h,q as ye,j as e,o as be,H as we,ac as ve,m as R,l as D,h as Y,t as je,s as Ne,E as Ce,P as ke,ad as Se}from"./index-ButEu0OJ.js";import{S as Re}from"./SEOHead-C9C83a9s.js";import{u as Me}from"./use-user-preferences-tAYWfCS4.js";import{L as X}from"./ListenButton-y9QAQmkK.js";import{L as J}from"./loader-circle-DbtMJfYT.js";import{C as ee}from"./circle-x-BPOj4nmU.js";import{M as te}from"./mic-C_1YhfA-.js";import{T as F}from"./target-DK9cYn5w.js";import{M as se}from"./message-square-aJdsq5-E.js";import{E as ne}from"./external-link-CUL2tddj.js";import{C as Le}from"./chevron-left-BzQh1zsF.js";import{S as Te}from"./skip-forward-zsCQ6bLj.js";import{S as Ae}from"./shuffle-Fh-GSCXY.js";import{U as ze}from"./user-CbWJImDq.js";import{S as Ee}from"./square-DiyldbzN.js";import{R as re}from"./rotate-ccw-DvRc1ZBR.js";import{C as Ie}from"./chart-column-COTo3quL.js";import{L as qe}from"./lightbulb-B_ocxsuZ.js";import{V as We}from"./volume-2-fISyM_Pf.js";import"./text-to-speech-B4Hlh8Da.js";import"./volume-x-DPZFGleP.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Pe=P("ellipsis",$e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M5 12h14",key:"1ays0h"}]],Oe=P("minus",Ve);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],De=P("thumbs-down",Qe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],_e=P("thumbs-up",Fe),$={scalability:{synonyms:["scale","scaling","scalable","scales"],related:["horizontal scaling","vertical scaling","elastic","growth","capacity"],weight:3},"load balancer":{synonyms:["load balancing","lb","balancer"],related:["nginx","haproxy","round robin","traffic distribution","reverse proxy"],weight:3},caching:{synonyms:["cache","cached","caches"],related:["redis","memcached","cdn","in-memory","ttl","invalidation"],weight:3},database:{synonyms:["db","databases","data store","datastore"],related:["sql","nosql","postgres","mysql","mongodb","dynamodb","storage"],weight:3},microservices:{synonyms:["microservice","micro-services","micro service"],related:["distributed","service-oriented","soa","decoupled","modular"],weight:2},api:{synonyms:["apis","endpoint","endpoints"],related:["rest","graphql","grpc","interface","contract"],weight:2},availability:{synonyms:["available","uptime"],related:["high availability","ha","redundancy","failover","fault tolerance","99.9%","sla"],weight:3},latency:{synonyms:["delay","response time"],related:["milliseconds","ms","fast","slow","performance","speed"],weight:2},throughput:{synonyms:["bandwidth","capacity"],related:["requests per second","rps","qps","tps","volume"],weight:2},consistency:{synonyms:["consistent"],related:["eventual consistency","strong consistency","cap theorem","acid","base"],weight:2},"partition tolerance":{synonyms:["partitioning","network partition"],related:["cap theorem","distributed","split brain"],weight:2},replication:{synonyms:["replicate","replicas","replica"],related:["master-slave","primary-secondary","sync","async","copies"],weight:2},sharding:{synonyms:["shard","shards","partitioning"],related:["horizontal partitioning","distribute data","hash","range"],weight:2},"message queue":{synonyms:["queue","messaging","message broker"],related:["kafka","rabbitmq","sqs","pub/sub","async","decoupling"],weight:2},cdn:{synonyms:["content delivery network","edge"],related:["cloudfront","akamai","cloudflare","static content","caching"],weight:2},kubernetes:{synonyms:["k8s","kube"],related:["container orchestration","pods","deployment","service","ingress"],weight:3},docker:{synonyms:["containers","containerization"],related:["image","dockerfile","compose","registry"],weight:2},"ci/cd":{synonyms:["cicd","ci cd","continuous integration","continuous deployment"],related:["pipeline","jenkins","github actions","automation","build"],weight:2},monitoring:{synonyms:["monitor","observability"],related:["metrics","logging","alerting","prometheus","grafana","datadog"],weight:2},terraform:{synonyms:["infrastructure as code","iac"],related:["provisioning","cloudformation","pulumi","declarative"],weight:2},aws:{synonyms:["amazon web services","amazon"],related:["ec2","s3","lambda","rds","cloud"],weight:2},ansible:{synonyms:["ansible playbook","playbooks"],related:["configuration management","automation","yaml","tasks","roles","inventory","agentless"],weight:3},puppet:{synonyms:["puppet manifest","manifests"],related:["configuration management","catalog","agent","master","declarative","dsl"],weight:3},chef:{synonyms:["chef cookbook","cookbooks"],related:["configuration management","recipes","ruby","knife"],weight:2},idempotency:{synonyms:["idempotent","idempotence"],related:["repeatable","same result","safe to run","convergent","desired state"],weight:3},declarative:{synonyms:["declarative state","desired state"],related:["what not how","state","configuration","manifest","spec"],weight:2},procedural:{synonyms:["imperative","procedural approach"],related:["step by step","how","scripts","sequence"],weight:2},"zero downtime":{synonyms:["zero-downtime","no downtime"],related:["rolling update","blue-green","canary","seamless","continuous"],weight:3},"rolling update":{synonyms:["rolling deployment","rolling upgrade"],related:["gradual","incremental","one at a time","batch"],weight:2},"blue-green deployment":{synonyms:["blue green","blue-green"],related:["switch","cutover","parallel","instant rollback"],weight:2},"canary deployment":{synonyms:["canary release","canary"],related:["gradual rollout","percentage","traffic splitting","testing in production"],weight:2},migration:{synonyms:["migrate","migrating","transition"],related:["move","transfer","upgrade","convert","switch"],weight:2},"check mode":{synonyms:["dry run","dry-run","noop"],related:["preview","test","simulation","what-if","safe"],weight:2},modules:{synonyms:["module","reusable"],related:["components","library","package","abstraction"],weight:2},catalog:{synonyms:["catalog compilation"],related:["puppet","manifest","resources","dependency graph"],weight:2},authentication:{synonyms:["auth","authn","login"],related:["oauth","jwt","token","credentials","identity","sso"],weight:2},authorization:{synonyms:["authz","permissions"],related:["rbac","acl","access control","roles","policies"],weight:2},encryption:{synonyms:["encrypt","encrypted"],related:["ssl","tls","https","at rest","in transit","aes"],weight:2},communication:{synonyms:["communicate","communicating"],related:["discuss","explain","present","share","collaborate","meeting"],weight:3},leadership:{synonyms:["lead","leading","leader"],related:["mentor","guide","influence","decision","responsibility"],weight:3},teamwork:{synonyms:["team","collaboration","collaborate"],related:["together","group","cross-functional","stakeholder"],weight:3},"problem solving":{synonyms:["solve","solving","solution"],related:["analyze","debug","troubleshoot","investigate","root cause"],weight:3},"conflict resolution":{synonyms:["conflict","disagreement","resolve"],related:["mediate","compromise","negotiate","consensus"],weight:2},prioritization:{synonyms:["prioritize","priority","priorities"],related:["urgent","important","deadline","trade-off","focus"],weight:2},feedback:{synonyms:["review","critique"],related:["constructive","improve","learn","growth"],weight:2},algorithm:{synonyms:["algorithms","algo"],related:["complexity","big o","time complexity","space complexity","optimization"],weight:2},"data structure":{synonyms:["data structures"],related:["array","list","tree","graph","hash","stack","queue"],weight:2},complexity:{synonyms:["time complexity","space complexity","big o"],related:["o(n)","o(log n)","o(1)","efficient","performance"],weight:2},testing:{synonyms:["test","tests","tested"],related:["unit test","integration test","e2e","qa","quality"],weight:2},"unit testing":{synonyms:["unit test","unit tests"],related:["jest","pytest","junit","mock","stub","isolated"],weight:2},"integration testing":{synonyms:["integration test","integration tests"],related:["api testing","contract testing","end to end"],weight:2},react:{synonyms:["reactjs","react.js"],related:["component","hooks","state","props","jsx","virtual dom"],weight:2},"state management":{synonyms:["state","global state"],related:["redux","context","zustand","mobx","store"],weight:2},component:{synonyms:["components","ui component"],related:["reusable","props","render","lifecycle"],weight:2},"rest api":{synonyms:["rest","restful","rest apis"],related:["http","endpoint","crud","json","status code"],weight:2},graphql:{synonyms:["graph ql"],related:["query","mutation","schema","resolver","apollo"],weight:2},orm:{synonyms:["object relational mapping"],related:["sequelize","prisma","typeorm","hibernate","active record"],weight:2}},He=["um","uh","like","you know","basically","actually","literally","sort of","kind of","i mean","right","okay","so yeah","anyway","i guess","i think","maybe","probably","stuff","things","whatever"],q={situation:["situation","context","background","scenario","when i was","at my previous","in my role","there was a time"],task:["task","goal","objective","responsible for","needed to","had to","my job was","challenge was"],action:["action","i did","i decided","i implemented","i created","i led","i worked","steps i took","approach"],result:["result","outcome","impact","achieved","improved","reduced","increased","learned","success"]},_={introduction:["first","to start","let me explain","the main","essentially","in summary","overall"],examples:["for example","for instance","such as","like when","in one case","specifically","concrete example"],conclusion:["in conclusion","to summarize","overall","in the end","finally","the key takeaway","most importantly"]};function Ue(t,s,n,r){const i=ie(t),o=ie(s),a=Be(i,o,n),m=Ye(i,r),u=Xe(t),p=Je(a,m,u,i,o),x=et(p,r),d=tt(x,p),w=st(p,a,m,u),l=nt(p,a,m,u),b=rt(p,a,m,u);return{score:x,verdict:d,scores:p,keyPointsCovered:a.covered,keyPointsMissed:a.missed,feedback:w,strengths:l,improvements:b,structureAnalysis:m,fluencyMetrics:u}}function ie(t){return t.toLowerCase().replace(/[^\w\s'-]/g," ").replace(/\s+/g," ").trim()}function Be(t,s,n){let r=n&&n.length>0?n:oe(s);r.length===0&&(r=oe(t));const i=Ge(t),o=[],a=[];let m=0,u=0;for(const l of r){const b=l.toLowerCase(),v=$[b],f=v?.weight||1;if(m+=f,t.includes(b)){o.push({concept:l,matchedAs:l,confidence:"exact"}),u+=f;continue}if(v?.synonyms){const j=v.synonyms.find(L=>t.includes(L));if(j){o.push({concept:l,matchedAs:j,confidence:"synonym"}),u+=f*.9;continue}}if(v?.related){const j=v.related.find(L=>t.includes(L));if(j){o.push({concept:l,matchedAs:j,confidence:"related"}),u+=f*.7;continue}}const S=Ke(t,b);if(S){o.push({concept:l,matchedAs:S,confidence:"partial"}),u+=f*.5;continue}a.push(l)}const p=o.map(l=>l.concept.toLowerCase()),x=i.filter(l=>!p.includes(l.toLowerCase())&&!r.map(b=>b.toLowerCase()).includes(l.toLowerCase()));for(const l of x.slice(0,5)){const v=$[l.toLowerCase()]?.weight||1;o.push({concept:l,matchedAs:l,confidence:"exact"}),u+=v*.5,m+=v*.5}m===0&&o.length>0&&(m=o.length,u=o.length);const d=m>0?u/m*100:0,w=Math.min(100,o.length*15+d*.4);return{covered:o,missed:a,coverageScore:Math.round(d),technicalDepth:Math.round(w)}}function Ge(t){const s=[],n=t.toLowerCase();for(const[r,i]of Object.entries($)){if(n.includes(r)){s.push(r);continue}i.synonyms.some(o=>n.includes(o))&&s.push(r)}return s}function oe(t){const s=[],n=t.toLowerCase();for(const[a,m]of Object.entries($))(n.includes(a)||m.synonyms.some(u=>n.includes(u)))&&s.push(a);const r=/\b[A-Z][a-zA-Z]+(?:\s+[A-Z][a-zA-Z]+)*\b/g,o=(t.match(r)||[]).filter(a=>a.length>3&&!["The","This","That","When","What","How","Why","For","And","But"].includes(a));for(const a of o.slice(0,10))s.includes(a.toLowerCase())||s.push(a.toLowerCase());return s.slice(0,15)}function Ke(t,s){const n=t.split(/\s+/);for(const r of n)if(!(r.length<3)&&(r.startsWith(s.slice(0,Math.min(4,s.length)))&&Math.abs(r.length-s.length)<=3||Ze(r,s)>.7))return r;return null}function Ze(t,s){if(t===s)return 1;if(t.length===0||s.length===0)return 0;const n=t.length>s.length?t:s,r=t.length>s.length?s:t;let i=0;const o=r.split("");for(const a of n){const m=o.indexOf(a);m!==-1&&(i++,o.splice(m,1))}return i/n.length}function Ye(t,s){const n=t.toLowerCase(),r=_.introduction.some(l=>n.includes(l))||n.startsWith("so ")||n.startsWith("well ")||n.startsWith("i would"),i=_.examples.some(l=>n.includes(l)),o=_.conclusion.some(l=>n.includes(l)),a={situation:q.situation.some(l=>n.includes(l)),task:q.task.some(l=>n.includes(l)),action:q.action.some(l=>n.includes(l)),result:q.result.some(l=>n.includes(l))},m=Object.values(a).filter(Boolean).length,u=m>=3;let p=0;r&&(p+=20),i&&(p+=25),o&&(p+=15),s==="behavioral"?p+=m*10:p+=m*5;const x=t.split(/[.!?]+/).filter(l=>l.trim().length>0);x.length>=3&&(p+=10),x.length>=5&&(p+=10);const w=["first","second","then","next","finally","also","additionally","however","therefore"].filter(l=>n.includes(l)).length;return p+=Math.min(w*5,20),{hasIntroduction:r,hasExamples:i,hasConclusion:o,usesSTAR:u,starComponents:a,organizationScore:Math.min(100,p)}}function Xe(t){const s=t.toLowerCase().split(/\s+/).filter(f=>f.length>0),n=s.length,r=new Set(s),i=n>0?r.size/n:0,o=t.toLowerCase(),a=[];let m=0;for(const f of He){const S=new RegExp(`\\b${f}\\b`,"gi"),j=o.match(S);j&&(m+=j.length,a.includes(f)||a.push(f))}const u={},p=s.filter(f=>f.length>3&&!["the","and","that","this","with","from","have","been","were","would","could","should"].includes(f));for(const f of p)u[f]=(u[f]||0)+1;const x=Object.values(u).filter(f=>f>2).length,d=p.length>0?x/p.length*100:0,w=t.split(/[.!?]+/).filter(f=>f.trim().length>0),l=w.length>0?s.length/w.length:s.length,b=new Set(p),v=p.length>0?b.size/p.length*100:0;return{wordCount:n,uniqueWordRatio:Math.round(i*100)/100,fillerWordCount:m,fillerWords:a,repetitionScore:Math.round(d),averageSentenceLength:Math.round(l),vocabularyRichness:Math.round(v)}}function Je(t,s,n,r,i){const o=Math.round(t.coverageScore*.7+t.technicalDepth*.3),a=i.split(/\s+/).length,m=Math.min(n.wordCount/(a*.5),1),u=Math.round(t.coverageScore*.6+m*100*.4),p=s.organizationScore;let x=100;return x-=Math.min(n.fillerWordCount*3,20),x-=Math.min(n.repetitionScore*.5,15),x+=Math.min((n.vocabularyRichness-50)*.3,15),n.wordCount<30?x-=20:n.wordCount<50&&(x-=10),n.averageSentenceLength>=10&&n.averageSentenceLength<=25&&(x+=10),x=Math.max(0,Math.min(100,Math.round(x))),{technical:Math.max(0,Math.min(100,o)),completeness:Math.max(0,Math.min(100,u)),structure:Math.max(0,Math.min(100,p)),communication:x}}function et(t,s){let n={technical:.35,completeness:.3,structure:.15,communication:.2};s==="behavioral"?n={technical:.2,completeness:.25,structure:.3,communication:.25}:s==="system-design"&&(n={technical:.4,completeness:.3,structure:.15,communication:.15});const r=t.technical*n.technical+t.completeness*n.completeness+t.structure*n.structure+t.communication*n.communication;return Math.round(r)}function tt(t,s){const n=Math.min(s.technical,s.completeness);return t>=75&&n>=50?"strong-hire":t>=60&&n>=40?"hire":t>=45&&n>=30?"lean-hire":t>=30?"lean-no-hire":"no-hire"}function st(t,s,n,r){const i=[],o=(t.technical+t.completeness+t.structure+t.communication)/4;o>=70?i.push("Strong answer that demonstrates solid understanding."):o>=55?i.push("Good answer with room for improvement."):o>=40?i.push("Decent attempt that covers some key points."):i.push("Answer needs more depth and coverage of key concepts.");const a=s.coverageScore;return a>=70?i.push(`You covered ${s.covered.length} key concepts effectively.`):a>=40?i.push(`You mentioned ${s.covered.length} concepts but missed some important ones.`):i.push("Try to include more specific technical terms and concepts."),n.usesSTAR?i.push("Great use of structured storytelling!"):n.hasExamples&&i.push("Good job including concrete examples."),r.fillerWordCount>5&&i.push(`Watch out for filler words like "${r.fillerWords.slice(0,2).join(", ")}".`),i.join(" ")}function nt(t,s,n,r){const i=[];if(t.technical>=60&&i.push("Demonstrated solid technical knowledge"),s.covered.length>=3){const o=s.covered.filter(a=>a.confidence==="exact");o.length>0&&i.push(`Used correct terminology: ${o.slice(0,3).map(a=>a.concept).join(", ")}`)}return n.usesSTAR?i.push("Excellent use of STAR method for structured response"):n.hasExamples&&i.push("Included concrete examples to illustrate points"),n.hasIntroduction&&n.hasConclusion&&i.push("Well-organized answer with clear beginning and end"),r.fillerWordCount<=2&&i.push("Clear and confident delivery with minimal filler words"),r.vocabularyRichness>=60&&i.push("Rich vocabulary demonstrating expertise"),r.wordCount>=80&&i.push("Comprehensive answer with good depth"),i.length===0&&(r.wordCount>=30?i.push("Made an effort to provide a complete answer"):i.push("Attempted to address the question")),i.slice(0,4)}function rt(t,s,n,r){const i=[];return t.technical<60&&s.missed.length>0&&i.push(`Consider mentioning: ${s.missed.slice(0,3).join(", ")}`),t.technical<40&&i.push("Study the core technical concepts more thoroughly"),n.hasExamples||i.push("Add specific examples from your experience"),!n.usesSTAR&&t.structure<50&&i.push("Try using the STAR method: Situation, Task, Action, Result"),n.hasConclusion||i.push("End with a clear summary or key takeaway"),r.fillerWordCount>5&&i.push(`Reduce filler words (${r.fillerWords.slice(0,2).join(", ")})`),r.wordCount<50&&i.push("Provide more detailed explanations"),r.repetitionScore>20&&i.push("Vary your vocabulary to avoid repetition"),t.completeness<50&&i.push("Cover more aspects of the question"),i.slice(0,4)}const ae=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);function it(t){return t[Math.floor(Math.random()*t.length)]}function ot(t){return t==="behavioral"||t==="engineering-management"?"behavioral":t==="system-design"?"system-design":"technical"}function zt(){const[,t]=fe(),[s,n]=h.useState("loading"),[r,i]=h.useState([]),[o,a]=h.useState(0),[m,u]=h.useState(""),[p,x]=h.useState(""),[d,w]=h.useState(null),[l,b]=h.useState(0),[v,f]=h.useState(null),[S,j]=h.useState(null),[L,H]=h.useState(null),[T,U]=h.useState(null),[B,I]=h.useState(!1),M=h.useRef(null),A=h.useRef(null),z=h.useRef(null),{onVoiceInterview:G,config:ce}=ye(),{preferences:K}=Me(),y=r[o];h.useEffect(()=>{fetch("/data/interviewer-comments.json").then(c=>c.ok?c.json():null).then(c=>U(c)).catch(()=>U(null))},[]);const k=h.useCallback(c=>{if(!T||!T[c])return;z.current&&clearTimeout(z.current);const g=it(T[c]);H(g),z.current=setTimeout(()=>{H(null)},4e3)},[T]);h.useEffect(()=>{async function c(){try{const g=await Se(),N=K.subscribedChannels,E=g.filter(C=>!N.includes(C.channel)||C.voiceSuitable===!1?!1:C.voiceSuitable===!0&&C.voiceKeywords&&C.voiceKeywords.length>0?!0:["behavioral","system-design","sre","devops"].includes(C.channel)&&C.answer&&C.answer.length>100).sort(()=>Math.random()-.5).slice(0,10);i(E),n("ready")}catch(g){f("Failed to load interview questions"),console.error(g)}}c()},[K.subscribedChannels]),h.useEffect(()=>{if(s==="ready"&&o===0&&r.length>0&&T){const c=setTimeout(()=>{k("first_question")},500);return()=>clearTimeout(c)}},[s,o,r.length,T,k]),h.useEffect(()=>{if(!ae)return;const c=window.SpeechRecognition||window.webkitSpeechRecognition,g=new c;return g.continuous=!0,g.interimResults=!0,g.lang="en-US",g.onresult=N=>{let O="",E="";for(let C=N.resultIndex;C<N.results.length;C++){const Q=N.results[C];Q.isFinal?E+=Q[0].transcript+" ":O+=Q[0].transcript}E&&u(C=>C+E),x(O)},g.onerror=N=>{console.error("Speech recognition error:",N.error),N.error==="not-allowed"&&f("Microphone access denied. Please allow microphone access and try again.")},g.onend=()=>{if(s==="recording")try{g.start()}catch{}},M.current=g,()=>{g.stop()}},[s]),h.useEffect(()=>(s==="recording"?A.current=setInterval(()=>{b(c=>c+1)},1e3):A.current&&clearInterval(A.current),()=>{A.current&&clearInterval(A.current),z.current&&clearTimeout(z.current)}),[s]);const le=h.useCallback(()=>{if(M.current){u(""),x(""),b(0),w(null),f(null);try{M.current.start(),n("recording")}catch{f("Failed to start recording. Please check microphone permissions.")}}},[]),de=h.useCallback(()=>{M.current&&(M.current.stop(),n("editing"))},[]),me=h.useCallback(()=>{if(!y||!m.trim()){f("Please provide an answer before submitting.");return}n("processing"),setTimeout(()=>{const c=ot(y.channel),g=Ue(m,y.answer,y.voiceKeywords,c);w(g);const N=G(g.verdict);j({total:N.totalCredits,bonus:N.bonusCredits}),g.score>=60?k("good_score"):k("bad_score"),n("evaluated")},800)},[m,y,G,k]),ue=h.useCallback(()=>{o<r.length-1&&(a(c=>c+1),u(""),x(""),w(null),j(null),b(0),n("ready"))},[o,r.length]),he=h.useCallback(()=>{o>0&&(a(c=>c-1),u(""),x(""),w(null),j(null),b(0),n("ready"),I(!1))},[o]),pe=h.useCallback(()=>{M.current&&s==="recording"&&M.current.stop(),o<r.length-1&&(k("skip"),a(c=>c+1),u(""),x(""),w(null),j(null),b(0),n("ready"),I(!1))},[o,r.length,s,k]),V=h.useCallback(()=>{y&&t(`/channel/${y.channel}/${y.id}`)},[y,t]),ge=h.useCallback(()=>{k("shuffle");const c=[...r].sort(()=>Math.random()-.5);i(c),a(0),u(""),x(""),w(null),j(null),b(0),n("ready"),I(!1)},[r,k]),Z=h.useCallback(()=>{k("retry"),u(""),x(""),w(null),b(0),n("ready")},[k]),xe=c=>{const g=Math.floor(c/60),N=c%60;return`${g}:${N.toString().padStart(2,"0")}`};return ae?s==="loading"||r.length===0?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(J,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading interview questions..."})]})}):v&&!y?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx(ee,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Error"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:v}),e.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Go Home"})]})}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{title:"Voice Interview Practice | Code Reels",description:"Practice answering interview questions out loud with AI-powered feedback",canonical:"https://open-interview.github.io/voice-interview"}),e.jsxs("div",{className:"min-h-screen bg-background text-foreground font-mono",children:[e.jsxs("header",{className:"border-b border-border p-4",children:[e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-muted/20 rounded-lg transition-colors",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-primary"}),"Voice Interview"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Question ",o+1," of ",r.length]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>t("/voice-session"),className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors flex items-center gap-1",title:"Try focused micro-question sessions",children:[e.jsx(F,{className:"w-3 h-3"}),"Sessions"]}),e.jsx(ve,{compact:!0,onClick:()=>t("/profile")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded ${y?.difficulty==="beginner"?"bg-green-500/20 text-green-400":y?.difficulty==="intermediate"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:y?.difficulty}),e.jsx("button",{onClick:V,className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors",title:`View in ${y?.channel} channel`,children:y?.channel})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mt-3",children:e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx(R.div,{initial:{width:0},animate:{width:`${(o+1)/r.length*100}%`},className:"h-full bg-primary rounded-full"})})})]}),e.jsxs("main",{className:"max-w-4xl mx-auto p-4",children:[e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(se,{className:"w-5 h-5 text-primary flex-shrink-0 mt-1"}),e.jsx("h2",{className:"text-lg font-medium",children:y?.question})]}),e.jsxs("button",{onClick:V,className:"flex items-center gap-1 px-2 py-1 text-xs text-muted-foreground hover:text-primary hover:bg-muted/20 rounded transition-colors flex-shrink-0",title:"View full question details",children:[e.jsx(ne,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Q",o+1,"/",r.length]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>I(!B),className:"flex items-center gap-1 px-2 py-1 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/20 rounded transition-colors",title:"More options",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx(D,{children:B&&e.jsxs(R.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute left-0 top-full mt-1 bg-card border border-border rounded-lg shadow-lg py-1 z-10 min-w-[140px]",children:[e.jsxs("button",{onClick:he,disabled:o===0,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-left hover:bg-muted/20 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"Previous"]}),e.jsxs("button",{onClick:pe,disabled:o>=r.length-1,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-left hover:bg-muted/20 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:[e.jsx(Te,{className:"w-3.5 h-3.5"}),"Skip Question"]}),e.jsxs("button",{onClick:ge,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-left hover:bg-muted/20 transition-colors",children:[e.jsx(Ae,{className:"w-3.5 h-3.5"}),"Shuffle All"]}),e.jsx("div",{className:"border-t border-border my-1"}),e.jsxs("button",{onClick:V,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-left hover:bg-muted/20 transition-colors",children:[e.jsx(ne,{className:"w-3.5 h-3.5"}),"View Full Question"]})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{text:y?.question||"",label:"Listen",size:"sm"}),y?.voiceKeywords&&y.voiceKeywords.length>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.voiceKeywords.length," key terms"]})]})]}),v&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm mt-4",children:v})]}),e.jsx(D,{children:L&&e.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"mb-4 flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:e.jsx(ze,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 p-3 bg-muted/30 border border-border/50 rounded-lg rounded-tl-none",children:[e.jsxs("p",{className:"text-sm italic text-muted-foreground",children:['"',L,'"']}),e.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1",children:"â€” Your Interviewer"})]})]})}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s==="recording"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-mono",children:xe(l)})]})}),s==="editing"&&e.jsx("div",{className:"flex items-center gap-2 text-amber-500",children:e.jsx("span",{className:"text-sm",children:"Edit your answer below, then submit for evaluation"})}),s==="processing"&&e.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[e.jsx(J,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Analyzing your answer..."})]})]}),(s==="recording"||s==="editing"||m)&&s!=="evaluated"&&e.jsxs("div",{className:"mb-6",children:[s==="editing"?e.jsx("textarea",{value:m,onChange:c=>u(c.target.value),className:"w-full p-4 bg-muted/20 border border-amber-500/30 rounded-lg min-h-[150px] max-h-[300px] text-sm resize-y focus:outline-none focus:ring-2 focus:ring-amber-500/50",placeholder:"Edit your transcribed answer here..."}):e.jsx("div",{className:"p-4 bg-muted/20 rounded-lg min-h-[120px] max-h-[200px] overflow-y-auto",children:e.jsxs("p",{className:"text-sm whitespace-pre-wrap",children:[m,e.jsx("span",{className:"text-muted-foreground",children:p}),s==="recording"&&e.jsx("span",{className:"animate-pulse",children:"|"})]})}),s==="editing"&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"ðŸ’¡ Fix any transcription errors before submitting"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s==="ready"&&e.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground font-bold rounded-full hover:bg-primary/90 transition-all hover:scale-105",children:[e.jsx(te,{className:"w-5 h-5"}),"Start Recording"]}),s==="recording"&&e.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-6 py-3 bg-red-500 text-white font-bold rounded-full hover:bg-red-600 transition-all hover:scale-105",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Stop Recording"]}),s==="editing"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted/20 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),"Re-record"]}),e.jsxs("button",{onClick:me,disabled:!m.trim(),className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground font-bold rounded-full hover:bg-primary/90 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Y,{className:"w-5 h-5"}),"Submit Answer"]})]}),s==="evaluated"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted/20 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),"Try Again"]}),o<r.length-1&&e.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground font-bold rounded-lg hover:bg-primary/90 transition-colors",children:["Next Question",e.jsx(je,{className:"w-4 h-4"})]})]})]})]}),e.jsx(D,{children:d&&e.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[S&&e.jsx(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-4 bg-gradient-to-r from-amber-500/20 to-yellow-500/20 border border-amber-500/30 rounded-lg flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/30 flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-amber-400",children:["+",S.total," Credits Earned!"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:S.bonus>0?`${ce.VOICE_ATTEMPT} base + ${S.bonus} success bonus`:"Thanks for practicing!"})]})]})}),e.jsxs("div",{className:`p-6 rounded-lg border ${at(d.verdict)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[ct(d.verdict),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:lt(d.verdict)}),e.jsx("p",{className:"text-sm opacity-80",children:"Interview Assessment"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[d.score,"%"]}),e.jsx("div",{className:"text-xs opacity-70",children:"Overall Score"})]})]}),e.jsx("div",{className:"h-2 bg-black/20 rounded-full overflow-hidden mb-4",children:e.jsx(R.div,{initial:{width:0},animate:{width:`${d.score}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full ${dt(d.score)}`})}),e.jsx("p",{className:"text-sm",children:d.feedback})]}),d.scores&&e.jsxs("div",{className:"p-4 bg-card border border-border rounded-lg",children:[e.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-4",children:[e.jsx(Ie,{className:"w-4 h-4 text-primary"}),"Detailed Analysis"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(W,{label:"Technical",score:d.scores.technical,icon:e.jsx(Ce,{className:"w-4 h-4"}),description:"Accuracy & depth"}),e.jsx(W,{label:"Completeness",score:d.scores.completeness,icon:e.jsx(F,{className:"w-4 h-4"}),description:"Coverage of concepts"}),e.jsx(W,{label:"Structure",score:d.scores.structure,icon:e.jsx(qe,{className:"w-4 h-4"}),description:"Organization"}),e.jsx(W,{label:"Communication",score:d.scores.communication,icon:e.jsx(se,{className:"w-4 h-4"}),description:"Clarity & fluency"})]}),d.structureAnalysis&&e.jsx("div",{className:"mt-4 pt-4 border-t border-border/50",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.structureAnalysis.hasIntroduction&&e.jsx("span",{className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded",children:"âœ“ Introduction"}),d.structureAnalysis.hasExamples&&e.jsx("span",{className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded",children:"âœ“ Examples"}),d.structureAnalysis.hasConclusion&&e.jsx("span",{className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 rounded",children:"âœ“ Conclusion"}),d.structureAnalysis.usesSTAR&&e.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"â­ STAR Method"}),d.fluencyMetrics&&d.fluencyMetrics.fillerWordCount>3&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-orange-500/20 text-orange-400 rounded",children:["âš  ",d.fluencyMetrics.fillerWordCount," filler words"]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[e.jsxs("h4",{className:"font-bold text-green-400 flex items-center gap-2 mb-3",children:[e.jsx(Y,{className:"w-4 h-4"}),"Concepts Covered (",d.keyPointsCovered.length,")"]}),e.jsxs("ul",{className:"space-y-2",children:[d.keyPointsCovered.map((c,g)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400 mt-1",children:"âœ“"}),e.jsx("span",{children:typeof c=="object"&&"concept"in c?`${c.concept}${c.confidence!=="exact"?` (as "${c.matchedAs}")`:""}`:c})]},g)),d.keyPointsCovered.length===0&&e.jsx("li",{className:"text-sm text-muted-foreground",children:"No key concepts identified"})]})]}),e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsxs("h4",{className:"font-bold text-red-400 flex items-center gap-2 mb-3",children:[e.jsx(ee,{className:"w-4 h-4"}),"Concepts to Include (",d.keyPointsMissed.length,")"]}),e.jsxs("ul",{className:"space-y-2",children:[d.keyPointsMissed.map((c,g)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[e.jsx("span",{className:"text-red-400 mt-1",children:"âœ—"}),e.jsx("span",{children:c})]},g)),d.keyPointsMissed.length===0&&e.jsx("li",{className:"text-sm text-muted-foreground",children:"Great job covering all concepts!"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-card border border-border rounded-lg",children:[e.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-3",children:[e.jsx(ke,{className:"w-4 h-4 text-yellow-400"}),"Strengths"]}),e.jsx("ul",{className:"space-y-1",children:d.strengths.map((c,g)=>e.jsxs("li",{className:"text-sm text-muted-foreground",children:["â€¢ ",c]},g))})]}),e.jsxs("div",{className:"p-4 bg-card border border-border rounded-lg",children:[e.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-3",children:[e.jsx(F,{className:"w-4 h-4 text-blue-400"}),"Areas to Improve"]}),e.jsx("ul",{className:"space-y-1",children:d.improvements.map((c,g)=>e.jsxs("li",{className:"text-sm text-muted-foreground",children:["â€¢ ",c]},g))})]})]}),e.jsxs("details",{className:"p-4 bg-muted/20 border border-border rounded-lg",children:[e.jsxs("summary",{className:"cursor-pointer font-bold flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4"}),"View Ideal Answer"]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{text:y?.answer||"",label:"Listen to Answer",size:"sm"})}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:y?.answer})]})]})]})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx(be,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Browser Not Supported"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Voice interview requires the Web Speech API which is not supported in your browser. Please use Chrome, Edge, or Safari for the best experience."}),e.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Go Home"})]})})}function W({label:t,score:s,icon:n,description:r}){const i=a=>a>=70?"text-green-400":a>=50?"text-yellow-400":a>=30?"text-orange-400":"text-red-400",o=a=>a>=70?"bg-green-500":a>=50?"bg-yellow-500":a>=30?"bg-orange-500":"bg-red-500";return e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`flex items-center justify-center gap-1 mb-1 ${i(s)}`,children:[n,e.jsx("span",{className:"text-xs font-medium",children:t})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[s,"%"]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden mt-1",children:e.jsx(R.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:.6,delay:.2},className:`h-full ${o(s)}`})}),e.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:r})]})}function at(t){switch(t){case"strong-hire":return"bg-green-500/20 border-green-500/50 text-green-100";case"hire":return"bg-emerald-500/20 border-emerald-500/50 text-emerald-100";case"lean-hire":return"bg-yellow-500/20 border-yellow-500/50 text-yellow-100";case"lean-no-hire":return"bg-orange-500/20 border-orange-500/50 text-orange-100";case"no-hire":return"bg-red-500/20 border-red-500/50 text-red-100"}}function ct(t){switch(t){case"strong-hire":case"hire":return e.jsx(_e,{className:"w-8 h-8 text-green-400"});case"lean-hire":return e.jsx(Oe,{className:"w-8 h-8 text-yellow-400"});case"lean-no-hire":case"no-hire":return e.jsx(De,{className:"w-8 h-8 text-red-400"})}}function lt(t){switch(t){case"strong-hire":return"Strong Hire";case"hire":return"Hire";case"lean-hire":return"Lean Hire";case"lean-no-hire":return"Lean No Hire";case"no-hire":return"No Hire"}}function dt(t){return t>=70?"bg-green-500":t>=55?"bg-emerald-500":t>=40?"bg-yellow-500":t>=25?"bg-orange-500":"bg-red-500"}export{zt as default};
