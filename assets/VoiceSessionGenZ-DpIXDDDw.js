import{r as h,G as se,q as te,u as ne,b as re,J as ie,j as e,z,H as E,K as oe,m as P,C as H,L as ce}from"./index-droZKZMs.js";import{S as R}from"./SEOHead-CV--YTwk.js";import{A as Q}from"./AppLayout-D06Gzpgh.js";import{G as q,a as M}from"./GenZButton-B0fIDhd2.js";import{G as ae,a as le}from"./GenZMicrophone-BB6dT2G1.js";import{L as de}from"./use-focus-trap-BtEs1tEG.js";import{T as K}from"./use-unified-toast-Bobj0NUv.js";import{P as ue}from"./play-BPTKzj06.js";import{R as me}from"./rotate-ccw-CT9HKyp5.js";import{C as he}from"./circle-x-CWv1uS4q.js";import{A as fe}from"./UnifiedSearch-Hpg4UHxs.js";import"./sparkles-DFVG2D1j.js";import"./UnifiedNav-D2OIJ2yg.js";import"./chart-column-BfVcZjvs.js";import"./user-Bjz6E01e.js";import"./use-reduced-motion-BJcb-Lo4.js";const L="user-preferences",T={role:null,subscribedChannels:[],onboardingComplete:!1,createdAt:new Date().toISOString()};function xe(){const[s,n]=h.useState(()=>{if(typeof window>"u")return T;try{const a=localStorage.getItem(L);if(a)return JSON.parse(a)}catch(a){console.error("Failed to load preferences:",a)}return T});h.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(s))}catch(a){console.error("Failed to save preferences:",a)}},[s]);const t=h.useCallback(a=>{const x=se(a).map(g=>g.id);n(g=>({...g,role:a,subscribedChannels:x,onboardingComplete:!0}))},[]),r=h.useCallback(a=>{n(f=>f.subscribedChannels.includes(a)?f:{...f,subscribedChannels:[...f.subscribedChannels,a]})},[]),c=h.useCallback(a=>{n(f=>({...f,subscribedChannels:f.subscribedChannels.filter(x=>x!==a)}))},[]),o=h.useCallback(a=>{n(f=>f.subscribedChannels.includes(a)?{...f,subscribedChannels:f.subscribedChannels.filter(x=>x!==a)}:{...f,subscribedChannels:[...f.subscribedChannels,a]})},[]),d=h.useCallback(a=>s.subscribedChannels.includes(a),[s.subscribedChannels]),w=h.useCallback(()=>te.filter(a=>s.subscribedChannels.includes(a.id)),[s.subscribedChannels]),i=h.useCallback(()=>{n(T),localStorage.removeItem(L)},[]),b=h.useCallback(()=>{const a=["system-design","algorithms","frontend","backend","database","devops"];n(f=>({...f,subscribedChannels:a,onboardingComplete:!0}))},[]);return{preferences:s,setRole:t,subscribeChannel:r,unsubscribeChannel:c,toggleSubscription:o,isSubscribed:d,getSubscribedChannels:w,resetPreferences:i,skipOnboarding:b,needsOnboarding:!s.onboardingComplete}}let F=[];async function ge(){if(F.length>0)return F;try{const s=await fetch("/data/voice-sessions.json");return s.ok?(F=(await s.json()).sessions||[],F):(console.warn("Voice sessions file not found, will generate from questions"),[])}catch(s){return console.error("Failed to load voice sessions:",s),[]}}function pe(s,n){const t=[];for(let r=0;r<s.questionIds.length;r++){const c=s.questionIds[r],o=n.find(d=>d.id===c);if(o){const d=o.voiceKeywords||[],w=be(d),i=je(o.answer,d);t.push({id:o.id,question:o.question,criticalPoints:w,idealAnswer:i,difficulty:o.difficulty,order:r+1})}}return t}function be(s){const n=[];for(let t=0;t<s.length;t++){const r=s[t],c=t===0?3:t<=2?2:1,o=we(r);n.push({phrase:r,weight:c,alternatives:o})}return n}function we(s){const n=s.toLowerCase(),t=[],r={kubernetes:["k8s","kube","container orchestration"],"load balancer":["lb","load balancing","traffic distribution"],database:["db","data store","datastore"],availability:["uptime","high availability","ha"],latency:["response time","delay","lag"],throughput:["bandwidth","capacity","requests per second"],microservices:["micro services","microservice","service-oriented"],authentication:["auth","authn","login"],authorization:["authz","permissions","access control"],caching:["cache","cached","in-memory"],replication:["replicate","replica","copies"],sharding:["shard","partitioning","horizontal partition"],monitoring:["monitor","observability","metrics"],deployment:["deploy","release","rollout"],scalability:["scale","scaling","scalable"],consistency:["consistent","data consistency"],idempotency:["idempotent","safe to retry"],"ci/cd":["continuous integration","continuous deployment","pipeline"],"eventual consistency":["eventually consistent","async consistency"],"strong consistency":["strongly consistent","immediate consistency"],"horizontal scaling":["scale out","scaling horizontally"],"vertical scaling":["scale up","scaling vertically"],"api gateway":["gateway","api management"],"message queue":["queue","message broker","mq"],"rate limiting":["throttling","rate limit"],"circuit breaker":["circuit breaking","fail fast"],"service mesh":["mesh","sidecar proxy"],container:["docker","containerized"],orchestration:["orchestrator","orchestrating"]};return r[n]&&t.push(...r[n]),n.endsWith("s")&&n.length>3?t.push(n.slice(0,-1)):n.endsWith("s")||t.push(n+"s"),n.includes("-")?t.push(n.replace(/-/g," ")):n.includes(" ")&&t.push(n.replace(/ /g,"-")),t}function je(s,n){if(!s)return"";const t=s.split(/[.!?]+/).filter(d=>d.trim().length>10);if(t.length===0)return s.trim();const r=n.map(d=>d.toLowerCase()),c=t.filter(d=>r.some(w=>d.toLowerCase().includes(w)));return(c.length>0?c.slice(0,2):t.slice(0,2)).map(d=>d.trim()).join(". ")+"."}function ve(s,n){const t=s.toLowerCase().trim(),{criticalPoints:r}=n,c=[],o=[];let d=0,w=0;for(const p of r){const C=p.phrase.toLowerCase();if(w+=p.weight,t.includes(C)){c.push({phrase:p.phrase,weight:p.weight}),d+=p.weight;continue}p.alternatives.some(m=>t.includes(m.toLowerCase()))?(c.push({phrase:p.phrase,weight:p.weight}),d+=p.weight):o.push({phrase:p.phrase,weight:p.weight})}const i=w>0?d/w*100:50,b=ye(t,r.map(p=>p.phrase)),a=Math.min(b.length*3,10),f=t.split(/\s+/).length,x=f<5?15:f<8?5:0,g=Math.min(100,Math.max(0,Math.round(i+a-x))),S=g>=60,N=Ne(g,c,o);return{questionId:n.id,userAnswer:s,score:g,pointsCovered:c,pointsMissed:o,weightedScore:d,maxPossibleScore:w,isCorrect:S,feedback:N}}function ye(s,n){const t=["scalability","availability","reliability","latency","throughput","consistency","partition","replication","sharding","caching","load balancer","microservices","distributed","fault tolerance","monitoring","logging","alerting","sla","slo","sli","kubernetes","docker","ci/cd","deployment","rollback"],r=[],c=n.map(o=>o.toLowerCase());for(const o of t)s.includes(o)&&!c.includes(o)&&r.push(o);return r}function Ne(s,n,t){const c=[...t].sort((o,d)=>d.weight-o.weight).map(o=>o.phrase);return s>=80?"Excellent! You covered the key concepts well.":s>=60?c.length>0?`Good answer! Also consider: ${c.slice(0,2).join(", ")}.`:"Good answer with the main points covered.":s>=40?`Partial answer. Key terms to include: ${c.slice(0,3).join(", ")}.`:`Review this topic. Focus on: ${c.slice(0,3).join(", ")}.`}function Se(s,n){return{session:s,questions:n,currentQuestionIndex:0,answers:[],startedAt:new Date().toISOString(),status:"intro"}}function Ce(s){return{...s,status:"in-progress"}}function ke(s){return s.status==="completed"?null:s.questions[s.currentQuestionIndex]||null}function Ie(s,n){const t=s.questions[s.currentQuestionIndex];if(!t)return s;const r=ve(n,t),c=[...s.answers,r],o=s.currentQuestionIndex>=s.questions.length-1;return{...s,answers:c,status:o?"completed":"in-progress"}}function qe(s){return s.currentQuestionIndex>=s.questions.length-1?{...s,status:"completed"}:{...s,currentQuestionIndex:s.currentQuestionIndex+1}}function Qe(s){const{session:n,answers:t}=s,r=t.reduce((m,k)=>m+k.weightedScore,0),c=t.reduce((m,k)=>m+k.maxPossibleScore,0),o=c>0?Math.round(r/c*100):0;let d;o>=80?d="excellent":o>=60?d="good":o>=40?d="needs-work":d="review-topic";const i=t.flatMap(m=>m.pointsMissed).sort((m,k)=>k.weight-m.weight),b=Array.from(new Set(i.map(m=>m.phrase))),a=t.flatMap(m=>m.pointsCovered),f=Array.from(new Set(a.map(m=>m.phrase))),x=[],g=t.filter(m=>m.isCorrect).length;g===t.length?x.push("Perfect score - all questions answered correctly!"):g>=t.length*.7&&x.push(`Strong performance: ${g}/${t.length} correct`);const S=a.filter(m=>m.weight>=2).length;S>=3&&x.push(`Covered ${S} critical concepts`),f.length>=5&&x.push(`Good coverage: ${f.slice(0,4).join(", ")}`);const N=[],p=i.filter(m=>m.weight>=2);if(p.length>0){const m=p.slice(0,3).map(k=>k.phrase);N.push(`Critical concepts to review: ${m.join(", ")}`)}else b.length>0&&N.push(`Review: ${b.slice(0,5).join(", ")}`);const C=t.filter(m=>m.score<50).length;C>0&&N.push(`${C} question(s) need more practice`);const y=$e(o,g,t.length,n.topic);return{sessionId:n.id,topic:n.topic,answers:t,overallScore:o,verdict:d,summary:y,strengths:x,areasToImprove:N,completedAt:new Date().toISOString()}}function $e(s,n,t,r){return s>=80?`Excellent understanding of ${r}! You answered ${n}/${t} questions correctly.`:s>=60?`Good grasp of ${r}. ${n}/${t} correct. Keep practicing!`:s>=40?`Basic understanding of ${r} (${n}/${t}). Review the missed concepts.`:`${r} needs more study. Score: ${n}/${t}. Review fundamentals.`}function Ae(s){const n=[],t=s.filter(c=>c.voiceSuitable===!0&&c.voiceKeywords&&c.voiceKeywords.length>=3),r={};for(const c of t){const o=`${c.channel}:${c.subChannel}`;r[o]||(r[o]=[]),r[o].push(c)}for(const[c,o]of Object.entries(r)){if(o.length<4)continue;const[d,w]=c.split(":"),b=o.sort((x,g)=>{const S={beginner:0,intermediate:1,advanced:2};return(S[x.difficulty]||1)-(S[g.difficulty]||1)}).slice(0,6),a=b.map(x=>x.difficulty),f=a.includes("advanced")?"advanced":a.includes("intermediate")?"intermediate":"beginner";n.push({id:`gen-${d}-${w}-${Date.now()}`,topic:Re(w),description:`Practice session covering ${w} concepts`,channel:d,difficulty:f,questionIds:b.map(x=>x.id),totalQuestions:b.length,estimatedMinutes:b.length*2})}return n}function Re(s){return s.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}const G="voice-session-state",J="voice-session-history";function O(s){try{const n={...s,lastAccessedAt:new Date().toISOString()};localStorage.setItem(G,JSON.stringify(n))}catch(n){console.error("Failed to save session state:",n)}}function Me(){try{const s=localStorage.getItem(G);return s?JSON.parse(s):null}catch(s){return console.error("Failed to load session state:",s),null}}function B(){try{localStorage.removeItem(G)}catch(s){console.error("Failed to clear session state:",s)}}function Pe(s){try{const n=Fe();n.unshift(s),localStorage.setItem(J,JSON.stringify(n.slice(0,20)))}catch(n){console.error("Failed to save session to history:",n)}}function Fe(){try{const s=localStorage.getItem(J);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load session history:",s),[]}}const D=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);function Ue(){const[,s]=ne(),{preferences:n}=xe(),[t,r]=h.useState("loading"),[c,o]=h.useState([]),[d,w]=h.useState([]),[i,b]=h.useState(null),[a,f]=h.useState(null),[x,g]=h.useState(""),[S,N]=h.useState(""),[p,C]=h.useState(null),y=h.useRef(null),{onVoiceInterview:m}=re(),{trackEvent:k}=ie(),W=i?ke(i):null;h.useEffect(()=>{async function l(){try{const u=await ce();w(u);let j=await ge();j.length===0&&(j=Ae(u));const v=n.subscribedChannels,$=j.filter(A=>v.includes(A.channel));o($);const I=Me();if(I&&I.status!=="completed"){b(I),r("intro");return}r("select")}catch(u){C("Failed to load sessions"),console.error(u)}}l()},[n.subscribedChannels]),h.useEffect(()=>{if(!D)return;const l=window.SpeechRecognition||window.webkitSpeechRecognition,u=new l;return u.continuous=!0,u.interimResults=!0,u.lang="en-US",u.onresult=j=>{let v="",$="";for(let I=j.resultIndex;I<j.results.length;I++){const A=j.results[I];A.isFinal?$+=A[0].transcript+" ":v+=A[0].transcript}$&&g(I=>I+$),N(v)},u.onerror=j=>{console.error("Speech recognition error:",j.error),j.error==="not-allowed"&&(C("Microphone access denied."),r("editing"))},u.onend=()=>{if(t==="recording")try{u.start()}catch{}},y.current=u,()=>{try{u.stop()}catch{}}},[t]);const Y=h.useCallback(l=>{const u=pe(l,d);if(u.length<3){C("Not enough questions available for this session");return}const j=Se(l,u);b(j),O(j),r("intro")},[d]),_=h.useCallback(()=>{if(!i)return;const l=Ce(i);if(b(l),O(l),g(""),N(""),y.current)try{y.current.start(),r("recording")}catch{C("Failed to start recording."),r("editing")}},[i]),Z=h.useCallback(()=>{y.current&&y.current.stop(),r("editing")},[]),U=h.useCallback(()=>{if(!i||!x.trim()){C("Please provide an answer.");return}const l=Ie(i,x.trim());b(l),O(l),r("feedback")},[i,x]),X=h.useCallback(()=>{if(i)if(i.currentQuestionIndex>=i.questions.length-1){const l=Qe(i);f(l),Pe(l),B();const u=l.overallScore>=60?"hire":"no-hire";m(u),k({type:"voice_interview_completed",timestamp:new Date().toISOString()}),r("results")}else{const l=qe(i);if(b(l),O(l),g(""),N(""),y.current)try{y.current.start(),r("recording")}catch{r("editing")}}},[i,m,k]),ee=h.useCallback(()=>{if(g(""),N(""),y.current)try{y.current.start(),r("recording")}catch{r("editing")}},[]),V=h.useCallback(()=>{B(),b(null),f(null),r("select")},[]);if(!D)return e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#ffd700]/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-10 h-10 text-[#ffd700]"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-3",children:"Browser Not Supported"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Voice sessions require the Web Speech API. Use Chrome, Edge, or Safari."}),e.jsx(q,{onClick:()=>s("/"),children:"Go Home"})]})})});if(t==="loading")return e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#00d4ff]/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 animate-spin text-cyan-500"})}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sessions..."})]})})});if(t==="select"){const l={};for(const u of c)l[u.channel]||(l[u.channel]=[]),l[u.channel].push(u);return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Voice Sessions | Code Reels",description:"Practice interview topics with focused question sessions"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-md",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s("/"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-cyan-500 flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5 text-black"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-foreground",children:"Voice Sessions"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," sessions available"]})]})]})]}),e.jsx(oe,{compact:!0,onClick:()=>s("/profile")})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:c.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-muted/50 flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-10 h-10 text-muted-foreground"})}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"No Sessions Available"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Subscribe to channels to unlock voice sessions."}),e.jsx(q,{onClick:()=>s("/channels"),children:"Subscribe to Channels"})]}):e.jsx("div",{className:"space-y-8",children:Object.entries(l).map(([u,j])=>e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#00d4ff]"}),u.replace(/-/g," ")]}),e.jsx("div",{className:"grid gap-3",children:j.map(v=>e.jsx(P.button,{onClick:()=>Y(v),whileHover:{scale:1.01},whileTap:{scale:.99},className:"p-5 bg-muted/50 border border-border rounded-2xl text-left hover:border-[#00d4ff]/50 transition-all group",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-cyan-500 transition-colors mb-1",children:v.topic}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:v.description}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-lg ${v.difficulty==="beginner"?"bg-[#00ff88]/20 text-primary":v.difficulty==="intermediate"?"bg-[#ffd700]/20 text-[#ffd700]":"bg-[#ff0080]/20 text-[#ff0080]"}`,children:v.difficulty}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.totalQuestions," questions"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["~",v.estimatedMinutes," min"]})]})]})})},v.id))})]},u))})})]})})]})}if(t==="intro"&&i)return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:`${i.session.topic} | Voice Session`,description:"Voice interview session practice"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-lg w-full",children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-cyan-500 flex items-center justify-center mx-auto mb-6",children:e.jsx(K,{className:"w-10 h-10 text-black"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:i.session.topic}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:[i.questions.length," questions â€¢ ~",i.session.estimatedMinutes," min"]}),e.jsx("div",{className:"bg-background/50 rounded-xl p-4 mb-6 text-left",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:i.session.description})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(q,{variant:"secondary",onClick:V,className:"flex-1",children:"Back"}),e.jsxs(q,{variant:"primary",onClick:_,className:"flex-1",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Start Session"]})]})]})})})})]});if((t==="recording"||t==="editing")&&i&&W)return(i.currentQuestionIndex+1)/i.questions.length*100,e.jsxs(e.Fragment,{children:[e.jsx(R,{title:`Q${i.currentQuestionIndex+1} | ${i.session.topic}`,description:"Answer the interview question"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur-md",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("div",{className:"h-16 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:V,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-foreground text-sm",children:i.session.topic}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Question ",i.currentQuestionIndex+1," of ",i.questions.length]})]})]})}),e.jsx("div",{className:"pb-3",children:e.jsx(ae,{value:i.currentQuestionIndex+1,max:i.questions.length,color:"blue"})})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs(M,{className:"p-6 mb-6",neonBorder:!0,children:[e.jsx("h2",{className:"text-lg font-medium text-foreground leading-relaxed",children:W.question}),p&&e.jsx("div",{className:"mt-4 p-4 bg-[#ff0080]/10 border border-[#ff0080]/30 rounded-xl text-[#ff0080] text-sm",children:p})]}),e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx(le,{isRecording:t==="recording",onStart:()=>{},onStop:Z}),e.jsx("div",{className:"w-full",children:t==="editing"?e.jsx("textarea",{value:x,onChange:l=>g(l.target.value),className:"w-full p-4 bg-background/50 border border-border rounded-xl min-h-[100px] text-sm text-foreground resize-y focus:outline-none focus:ring-2 focus:ring-[#00d4ff]/50",placeholder:"Edit your answer..."}):e.jsx("div",{className:"p-4 bg-background/50 rounded-xl min-h-[80px] border border-border",children:x||S?e.jsxs("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:[x,e.jsx("span",{className:"text-muted-foreground",children:S})]}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Start speaking... Your words will appear here."})})}),e.jsx("div",{className:"flex gap-3",children:t==="editing"&&e.jsxs(e.Fragment,{children:[e.jsxs(q,{variant:"secondary",onClick:ee,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Re-record"]}),e.jsxs(q,{variant:"primary",onClick:U,disabled:!x.trim(),children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Submit"]})]})})]})})]})]})})]});if(t==="feedback"&&i){const l=i.answers[i.answers.length-1],u=i.currentQuestionIndex>=i.questions.length-1;return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Feedback | Voice Session",description:"Review your answer feedback"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-lg w-full",children:e.jsxs(M,{className:"p-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-24 h-24 rounded-2xl flex items-center justify-center mx-auto mb-4 ${l.isCorrect?"bg-[#00ff88]/20":"bg-[#ff0080]/20"}`,children:l.isCorrect?e.jsx(H,{className:"w-12 h-12 text-primary"}):e.jsx(he,{className:"w-12 h-12 text-[#ff0080]"})}),e.jsxs("div",{className:"text-4xl font-bold text-foreground mb-2",children:[l.score,"%"]}),e.jsx("p",{className:`text-sm font-medium ${l.isCorrect?"text-primary":"text-[#ff0080]"}`,children:l.isCorrect?"Good answer!":"Needs improvement"})]}),e.jsx("div",{className:"mt-6 bg-background/50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:l.feedback})}),e.jsx("div",{className:"mt-6",children:e.jsxs(q,{variant:"primary",onClick:X,className:"w-full",children:[u?"View Results":"Next Question",e.jsx(fe,{className:"w-5 h-5 ml-2"})]})})]})})})})]})}return t==="results"&&a?e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Session Complete | Voice Session",description:"View your session results"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-lg w-full",children:e.jsx(M,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-6xl font-black text-foreground mb-4",children:[a.overallScore,"%"]}),e.jsx("p",{className:"text-xl font-semibold text-muted-foreground mb-8",children:"Session Complete!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-background/50 rounded-xl p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:a.correctAnswers}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Correct"})]}),e.jsxs("div",{className:"bg-background/50 rounded-xl p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-[#ff0080]",children:a.totalQuestions-a.correctAnswers}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Incorrect"})]})]}),e.jsxs(q,{variant:"primary",onClick:()=>s("/"),className:"w-full",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})})})})]}):null}export{Ue as default};
