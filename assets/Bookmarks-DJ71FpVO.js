import{k as A,x as D,r as i,y as P,z as y,P as x,j as e,X as T,m as N,h as M,F as Q,Z as R,L as F,D as L,E as G,I as K,J as $,K as H}from"./index-O_SPbvqJ.js";import{A as U}from"./AppLayout-YJkohRGh.js";import{S as X}from"./SEOHead-BaEBKNE7.js";import{B as k,a as _,G as O}from"./tag-CP60DkeC.js";import{T as W}from"./trash-2-BwsFVWO4.js";import{P as Z}from"./play-C3Ia9wrN.js";import{T as v}from"./target-HaYLW-Nv.js";import{T as z}from"./terminal-CVXIVWsk.js";import"./mic-KBcS6YjO.js";import"./UnifiedSearch-TG7kR8G1.js";import"./coding-challenges-DIg_7zVk.js";import"./arrow-right-CJDFqmrn.js";import"./loader-circle-D0fIraJD.js";import"./chevron-left-B3__lKEC.js";import"./chart-column-C68UgpOA.js";import"./user-DfZoppNU.js";import"./code-BZeT8qJ_.js";const w={"system-design":e.jsx(H,{className:"w-4 h-4"}),algorithms:e.jsx(z,{className:"w-4 h-4"}),frontend:e.jsx($,{className:"w-4 h-4"}),backend:e.jsx(K,{className:"w-4 h-4"}),database:e.jsx(G,{className:"w-4 h-4"}),devops:e.jsx(O,{className:"w-4 h-4"}),sre:e.jsx(L,{className:"w-4 h-4"}),default:e.jsx(F,{className:"w-4 h-4"})};function pe(){const[,p]=A(),{getSubscribedChannels:C}=D(),[n,h]=i.useState([]),[c,u]=i.useState("all"),[m,f]=i.useState("all");i.useEffect(()=>{const s=C(),a=P(),r=[],d=new Set;s.forEach(t=>d.add(t.id));for(let t=0;t<localStorage.length;t++){const l=localStorage.key(t);if(l?.startsWith(y.MARKED_PREFIX)){const o=l.replace(y.MARKED_PREFIX,"");d.add(o)}}d.forEach(t=>{x.getMarked(t).forEach(o=>{const j=a.find(B=>B.id===o);j&&r.push({...j,channelId:t})})}),h(r)},[]);const E=i.useMemo(()=>{const s=new Set(n.map(a=>a.channelId));return Array.from(s)},[n]),g=i.useMemo(()=>n.filter(s=>!(c!=="all"&&s.channelId!==c||m!=="all"&&s.difficulty!==m)),[n,c,m]),I=s=>{x.toggleMarked(s.channelId,s.id),h(a=>a.filter(r=>r.id!==s.id))},b=s=>{p(`/channel/${s.channelId}/${s.id}`)},S=s=>{switch(s){case"beginner":return{icon:R,color:"text-green-500",bg:"bg-green-500/10",label:"Easy"};case"intermediate":return{icon:v,color:"text-yellow-500",bg:"bg-yellow-500/10",label:"Medium"};case"advanced":return{icon:Q,color:"text-red-500",bg:"bg-red-500/10",label:"Hard"};default:return{icon:v,color:"text-muted-foreground",bg:"bg-muted",label:"Unknown"}}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Bookmarked Questions - Code Reels",description:"View and manage your bookmarked interview questions"}),e.jsx(U,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-0 pb-20 sm:pb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:e.jsx(k,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-bold",children:"Bookmarks"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.length," saved question",n.length!==1?"s":""]})]})]})}),n.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:[e.jsxs("select",{value:c,onChange:s=>u(s.target.value),className:"px-3 py-1.5 sm:py-2 bg-card border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[e.jsx("option",{value:"all",children:"All Channels"}),E.map(s=>e.jsx("option",{value:s,children:s.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")},s))]}),e.jsxs("select",{value:m,onChange:s=>f(s.target.value),className:"px-3 py-1.5 sm:py-2 bg-card border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"beginner",children:"Easy"}),e.jsx("option",{value:"intermediate",children:"Medium"}),e.jsx("option",{value:"advanced",children:"Hard"})]}),(c!=="all"||m!=="all")&&e.jsxs("button",{onClick:()=>{u("all"),f("all")},className:"px-3 py-1.5 sm:py-2 text-sm text-muted-foreground hover:text-foreground flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"})," Clear"]})]}),n.length===0?e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"w-8 h-8 sm:w-10 sm:h-10 text-muted-foreground"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:"No bookmarks yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-sm mx-auto",children:"Tap the bookmark icon on any question to save it for later review"}),e.jsx("button",{onClick:()=>p("/channels"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-medium text-sm",children:"Browse Questions"})]}):g.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No questions match your filters"})}):e.jsx("div",{className:"space-y-2 sm:space-y-3",children:g.map((s,a)=>{const r=S(s.difficulty),d=r.icon,t=x.getCompleted(s.channelId).includes(s.id);return e.jsx(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.03},onClick:()=>b(s),className:"bg-card border border-border rounded-xl sm:rounded-2xl p-3 sm:p-4 hover:border-primary/30 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary flex-shrink-0 hidden sm:flex",children:w[s.channelId]||w.default}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider",children:s.channelId.split("-").join(" ")}),e.jsxs("span",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] sm:text-xs ${r.bg} ${r.color}`,children:[e.jsx(d,{className:"w-3 h-3"}),r.label]}),t&&e.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] sm:text-xs bg-green-500/10 text-green-500",children:[e.jsx(M,{className:"w-3 h-3"}),"Done"]})]}),e.jsx("h3",{className:"font-medium text-sm sm:text-base line-clamp-2 mb-2",children:s.question}),s.companies&&s.companies.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(_,{className:"w-3 h-3 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.companies.slice(0,3).map((l,o)=>e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[l,o<Math.min(s.companies.length,3)-1?",":""]},o)),s.companies.length>3&&e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["+",s.companies.length-3]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),I(s)},className:"p-2 text-muted-foreground hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove bookmark",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx("button",{onClick:l=>{l.stopPropagation(),b(s)},className:"p-2 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors",title:"Go to question",children:e.jsx(Z,{className:"w-4 h-4",fill:"currentColor"})})]})]})},s.id)})})]})})]})}export{pe as default};
