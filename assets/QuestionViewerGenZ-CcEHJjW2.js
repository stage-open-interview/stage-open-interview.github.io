import{r as p,s as de,B as Ie,j as e,m,t as Re,A as O,u as Ae,v as De,k as Ee,b as He,w as Me,x as Be,y as Qe,z as Fe,S as Pe,X as _e,Z as Ve}from"./index-CMsGYV2p.js";import{g as Oe}from"./data-Pq0yPHkw.js";import{u as Ue,a as Ge,b as We,S as ze,V as Ke}from"./VoiceReminder-DrUHr3V1.js";import{S as qe}from"./SEOHead-BWjHgY-I.js";import{U as Ze,F as Je}from"./UnifiedSearch-B4qVA91E.js";import{bF as ce}from"./EnhancedMermaid-Cc8_c6vp.js";import{S as Xe,G as Ye,Y as et,B as tt,g as st,a as rt,r as at,b as me,c as nt,Q as lt}from"./spaced-repetition-BLV9Rpsr.js";import{M as ot,r as it,h as dt,v as ct}from"./index-CdPV6rcD.js";import{B as mt,u as xt,a as xe,C as ut}from"./use-unified-toast-Ktf_tvnd.js";import{T as pt,C as ht,G as ft,b as ue,B as se}from"./tag-Br_JP9UY.js";import{E as bt}from"./external-link-Bs9cCnYe.js";import{F as gt}from"./file-text-DywU7zA4.js";import{C as V}from"./check-v_Z-LeU8.js";import{C as jt}from"./copy-3IJmpnUS.js";import{L as re}from"./lightbulb-DMUmf8g-.js";import{C as yt}from"./chevron-down-BaRdbJ-b.js";import{P as vt}from"./play-Bbu_oXNH.js";import{R as wt}from"./rotate-ccw-BQNEtJpZ.js";import"./clock-BY2J6rGS.js";import"./message-circle-Dr2y3rY4.js";import"./sparkles-DEeSXtoS.js";import"./flag-CbS1gcZs.js";function Nt(t){if(!t)return"";let s=t;const f=[];s=s.replace(/```[\s\S]*?```/g,d=>(f.push(d),`__CODE_BLOCK_${f.length-1}__`)),s=s.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),s=s.replace(/^[â€¢Â·]\s*/gm,"- ");const r=s.split(`
`),x=[];let h=!1;for(let d=0;d<r.length;d++){let o=r[d];const i=o.trim();if(/^-\s+\*\*[^*]+:\*\*\s*$/.test(i)||/^\*\*[^*]+:\*\*\s*$/.test(i)){h=!0,x.push(o);continue}if(h&&/^-\s+/.test(i)){x.push("  "+i);continue}h&&(!i||!/^-\s+/.test(i))&&(h=!1);const b=(o.match(/\*\*/g)||[]).length;b%2===1&&(i.startsWith("**")&&b===1?o=o.replace(/^\s*\*\*\s*/,""):i.endsWith("**")&&b===1&&(o=o.replace(/\s*\*\*\s*$/,""))),x.push(o)}return s=x.join(`
`),s=s.replace(/\n{3,}/g,`

`),s=s.replace(/^\n+/,""),f.forEach((d,o)=>{s=s.replace(`__CODE_BLOCK_${o}__`,d)}),s}function ae(t){if(!t||typeof t!="string")return!1;const s=t.trim();if(!s||s.length<10)return!1;const f=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],r=s.split(`
`)[0].toLowerCase().trim();if(!f.some(o=>r.startsWith(o.toLowerCase())))return!1;const h=s.split(`
`).filter(o=>{const i=o.trim().toLowerCase();return i&&!i.startsWith("%%")&&!f.some(n=>i.startsWith(n.toLowerCase()))});if(h.length<3)return!1;const d=s.toLowerCase();return!(d.includes("start")&&d.includes("end")&&h.length<=3||d.match(/\bstart\b/g)?.length===1&&d.match(/\bend\b/g)?.length===1&&h.length<=2)}function ne(t){return t?t.split(/`([^`]+)`/g).map((f,r)=>r%2===1?e.jsx("code",{className:"px-2 py-1 mx-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:f},r):f):null}function kt({code:t,language:s}){const[f,r]=p.useState(!1),x=async()=>{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden border border-border bg-muted/50 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-muted border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm uppercase tracking-wider text-primary font-bold",children:s||"code"})]}),e.jsx(m.button,{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:f?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(dt,{language:s||"text",style:ct,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.875rem",lineHeight:"1.6"},wrapLines:!0,wrapLongLines:!0,children:t})]})}function Ct({question:t,hasTldr:s,hasDiagram:f,hasEli5:r,hasVideo:x}){const[h,d]=p.useState(null),o=f&&h!==!1,i=[];s&&i.push("tldr"),o&&i.push("diagram"),r&&i.push("eli5"),x&&i.push("video");const[n,b]=p.useState(()=>s?"tldr":r?"eli5":x?"video":"diagram");p.useEffect(()=>{h===!1&&n==="diagram"&&(s?b("tldr"):r?b("eli5"):x&&b("video"))},[h,n,s,r,x]);const w=p.useCallback(j=>{d(j)},[]);if(i.length===0&&h===!1)return null;if(i.length===0&&!s&&!r&&!x&&h===null)return e.jsx("div",{className:"rounded-2xl border border-border bg-muted/50 p-6 text-center text-muted-foreground text-sm backdrop-blur-xl",children:"Loading media..."});if(i.length===0)return null;const C={tldr:{label:"Quick Answer",icon:e.jsx(re,{className:"w-4 h-4"})},diagram:{label:"Visual",icon:e.jsx(ft,{className:"w-4 h-4"})},eli5:{label:"Simple",icon:e.jsx(tt,{className:"w-4 h-4"})},video:{label:"Video",icon:e.jsx(vt,{className:"w-4 h-4"})}};return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card backdrop-blur-xl overflow-hidden shadow-xl",children:[e.jsx("div",{className:"flex border-b border-border bg-muted/30",children:i.map(j=>e.jsxs(m.button,{onClick:()=>b(j),className:`flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-bold transition-all relative ${n===j?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[C[j].icon,e.jsx("span",{className:"hidden sm:inline",children:C[j].label}),n===j&&e.jsx(m.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]},j))}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs(O,{mode:"wait",children:[n==="tldr"&&s&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx(re,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:ne(t.answer)})]},"tldr"),n==="diagram"&&f&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(ce,{chart:t.diagram,onRenderResult:w})},"diagram"),n==="eli5"&&r&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:ne(t.eli5||"")})]},"eli5"),n==="video"&&x&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(et,{shortVideo:t.videos?.shortVideo,longVideo:t.videos?.longVideo})},"video")]})})]})}function St({title:t,icon:s,children:f,defaultExpanded:r=!0,variant:x="default",badge:h}){const[d,o]=p.useState(r),i={default:"bg-card border-border",highlight:"bg-primary/10 border-primary/30",success:"bg-green-500/10 border-green-500/30",purple:"bg-purple-500/10 border-purple-500/30"},n={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border overflow-hidden backdrop-blur-xl ${i[x]}`,children:[e.jsxs(m.button,{onClick:()=>o(!d),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-muted/30 transition-colors",whileHover:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:n[x],children:s}),e.jsx("span",{className:"font-bold text-base text-foreground",children:t}),h&&e.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary text-xs font-bold rounded-full border border-primary/30",children:h})]}),e.jsx(m.div,{animate:{rotate:d?0:-90},transition:{duration:.2},children:e.jsx(yt,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx(O,{initial:!1,children:d&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:f})})})]})}function le({question:t,isCompleted:s}){const f=p.useRef(null),r=typeof window<"u"&&window.innerWidth<640,[x,h]=p.useState(null),{theme:d}=de(),o=d==="genz-light";p.useEffect(()=>{Ie.getByQuestionId(t.id).then(h)},[t.id]);const i=!!t.answer,n=!r&&ae(t.diagram),b=!!t.eli5,w=!!(t.videos?.shortVideo||t.videos?.longVideo),C=i||n||b||w,j=p.useCallback(S=>{const L=Nt(S);return e.jsx(ot,{remarkPlugins:[it],components:{code({className:c,children:u}){const v=/language-(\w+)/.exec(c||""),N=v?v[1]:"",k=String(u).replace(/\n$/,"");return!v&&!String(u).includes(`
`)?e.jsx("code",{className:"px-2 py-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:u}):N==="mermaid"?ae(k)?e.jsx("div",{className:"my-4",children:e.jsx(ce,{chart:k})}):null:e.jsx("div",{className:"my-4",children:e.jsx(kt,{code:k,language:N})})},p({children:c}){return e.jsx("p",{className:"mb-3 leading-relaxed text-foreground text-sm sm:text-base",children:c})},h1({children:c}){return e.jsx("h1",{className:"text-lg sm:text-xl font-black mb-3 mt-6 text-foreground border-b border-border pb-2",children:c})},h2({children:c}){return e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3 mt-5 text-foreground",children:c})},h3({children:c}){return e.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 mt-4 text-foreground",children:c})},strong({children:c}){return e.jsx("strong",{className:"font-bold text-foreground",children:c})},ul({children:c,node:u}){const N=u?.parent?.tagName==="li";return e.jsx("ul",{className:`space-y-2 mb-3 ${N?"ml-6 mt-2":"ml-2"}`,children:c})},ol({children:c,node:u}){const N=u?.parent?.tagName==="li";return e.jsx("ol",{className:`space-y-2 mb-3 [counter-reset:list-counter] ${N?"ml-6 mt-2":"ml-2"}`,children:c})},li({children:c,node:u}){const N=u?.parent?.tagName==="ol",k=Array.isArray(c)&&c.some(I=>I?.type?.name==="ul"||I?.type?.name==="ol");return e.jsxs("li",{className:`flex gap-3 text-foreground text-sm sm:text-base [counter-increment:list-counter] ${k?"flex-col":""}`,children:[e.jsx("span",{className:"shrink-0 text-primary mt-1 font-bold",children:N?e.jsx("span",{className:"text-sm before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:k?"flex-1 -mt-7 ml-6":"flex-1",children:c})]})},a({href:c,children:u}){return e.jsx("a",{href:c,className:"text-primary hover:text-primary/80 underline",target:"_blank",rel:"noopener noreferrer",children:u})},blockquote({children:c}){return e.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-3 bg-primary/5 text-muted-foreground italic text-sm sm:text-base",children:c})},table({children:c}){return e.jsx("div",{className:"my-4 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-xs sm:text-sm",children:c})})},th({children:c}){return e.jsx("th",{className:"px-3 py-2 text-left font-bold bg-muted border border-border text-xs sm:text-sm text-foreground",children:c})},td({children:c}){return e.jsx("td",{className:"px-3 py-2 border border-border text-xs sm:text-sm text-foreground",children:c})}},children:L})},[]);return e.jsx(m.div,{ref:f,initial:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden",style:{backgroundColor:o?"hsl(0 0% 100%)":"hsl(0 0% 0%)",color:o?"hsl(0 0% 5%)":"hsl(0 0% 100%)"},children:e.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-6 pb-32 space-y-6",children:[C&&e.jsx(Ct,{question:t,hasTldr:i,hasDiagram:n,hasEli5:b,hasVideo:w}),e.jsx(St,{title:"Deep Dive Explanation",icon:e.jsx(mt,{className:"w-5 h-5"}),defaultExpanded:!0,badge:t.explanation?`${Math.ceil(t.explanation.split(" ").length/200)} min read`:void 0,children:e.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:j(t.explanation)})}),e.jsx("div",{className:"flex items-start gap-3 pt-2",children:t.tags&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(pt,{className:"w-4 h-4 text-primary mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(S=>e.jsx(m.span,{className:"px-3 py-1 bg-muted text-muted-foreground text-xs font-mono rounded-lg border border-border backdrop-blur-xl",whileHover:{scale:1.05,borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)"},children:Re(S)},S))})]})}),(t.sourceUrl||x)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.sourceUrl&&e.jsxs(m.a,{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-muted hover:bg-muted/80 border border-border rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(bt,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-foreground font-medium",children:"Source"})]}),x&&e.jsxs(m.a,{href:`https://openstackdaily.github.io${x.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/30 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(gt,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-primary font-medium",children:"Read Blog"})]})]}),e.jsx(Xe,{questionId:t.id,currentChannel:t.channel}),e.jsx(Ye,{questionId:t.id})]})})}function Zt(){const[t,s]=Ae(),[,f]=De("/channel/:id/:questionId?"),r=f?.id,x=f?.questionId,d=new URLSearchParams(t.split("?")[1]||"").get("q"),o=d||x,i=Oe(r||""),{subChannels:n}=Ue(r||""),b=i?{...i,subChannels:[{id:"all",name:"All Topics"},...n.map(l=>({id:l,name:l.split("-").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ")}))]}:null,[w,C]=p.useState("all"),[j,S]=p.useState("all"),[L,c]=p.useState("all"),[u,v]=p.useState(0),[N,k]=p.useState(!1),[I,U]=p.useState(!1),[H,A]=p.useState("question"),[pe,he]=p.useState(()=>{const l=localStorage.getItem(`marked-${r}`);return l?JSON.parse(l):[]}),[M,B]=p.useState(null),[G,Q]=p.useState(!1),[W,z]=p.useState(!1),{theme:fe}=de(),K=fe==="genz-light",{companiesWithCounts:be}=Ge(r||"",w,j),{preferences:q,isSubscribed:ge,subscribeChannel:je}=Ee(),ye=q.shuffleQuestions!==!1,ve=q.prioritizeUnvisited!==!1,{onQuestionSwipe:we,onQuestionView:Ne}=He(),{trackEvent:Z}=Me(),{completed:ke,markCompleted:Ce,saveLastVisitedIndex:Se}=Be(r||""),{toast:R}=xt(),{question:a,questions:T,totalQuestions:y,loading:$,error:Te}=We(r||"",u,w,j,L,ye,ve),[F,J]=p.useState(!1);p.useEffect(()=>{if(!a)return;const l=st(a.id,a.channel,a.difficulty);B(l),Q(!1),z(!1)},[a]),p.useEffect(()=>{if(!($||T.length===0))if(o){const l=T.findIndex(g=>g.id===o);l>=0&&l!==u&&v(l),d&&s(`/channel/${r}/${o}`,{replace:!0}),J(!0)}else T[0]&&!F&&(s(`/channel/${r}/${T[0].id}`,{replace:!0}),J(!0))},[o,T.length,r,$,d]),p.useEffect(()=>{r&&b&&!ge(r)&&!$&&y>0&&T.length>0&&(je(r),R({title:"Channel added",description:`${b.name} added to your channels`}))},[r,b,$,y,T.length]),p.useEffect(()=>{y>0&&u>=y&&v(0)},[y,u]),p.useEffect(()=>{!F||$||!r||!a||(a.id!==o&&s(`/channel/${r}/${a.id}`,{replace:!0}),Se(u))},[u,F]),p.useEffect(()=>{a&&(Qe(a.id,a.channel,a.difficulty),Ce(a.id),Fe(),Z({type:"question_completed",timestamp:new Date().toISOString(),data:{questionId:a.id,difficulty:a.difficulty,channel:a.channel}}))},[a?.id]),p.useEffect(()=>{const l=g=>{if((g.metaKey||g.ctrlKey)&&g.key==="k"){g.preventDefault(),k(!0);return}N||(g.key==="ArrowRight"||g.key==="ArrowDown"?(g.preventDefault(),X()):g.key==="ArrowLeft"||g.key==="ArrowUp"?(g.preventDefault(),Y()):g.key==="Escape"&&s("/channels"))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[u,y,N]);const X=()=>{u<y-1&&(v(l=>l+1),A("question"),we(),Ne())},Y=()=>{u>0&&(v(l=>l-1),A("question"))},P=()=>{a&&he(l=>{const g=l.includes(a.id)?l.filter(Le=>Le!==a.id):[...l,a.id];return localStorage.setItem(`marked-${r}`,JSON.stringify(g)),g})},$e=async()=>{try{await navigator.clipboard.writeText(window.location.href),R({title:"Link copied!",description:"Question link copied to clipboard"})}catch{R({title:"Share",description:window.location.href})}},ee=()=>{if(!a)return;const l=rt(a.id,a.channel,a.difficulty);B(l),Q(!0),R({title:"Added to SRS",description:"Question added to spaced repetition system"})},te=l=>{if(!M||!a)return;const g=at(a.id,a.channel,a.difficulty,l);B(g),z(!0),Q(!1),Z({type:"srs_review",timestamp:new Date().toISOString(),data:{rating:l}}),R({title:"Review recorded",description:`Mastery: ${me(g.masteryLevel)}`})};if($&&!a)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading questions..."})]})});if(Te||!b)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Channel not found"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:['The channel "',r,`" doesn't exist.`]}),e.jsx("button",{onClick:()=>s("/channels"),className:"px-6 py-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground font-bold rounded-full",children:"Go to Channels"})]})});if(!$&&(!a||y===0)){const l=w!=="all"||j!=="all"||L!=="all";return e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(oe,{channel:b,onBack:()=>s("/channels"),onSearch:()=>k(!0),currentIndex:u,totalQuestions:y}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No questions found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Try adjusting your filters.":"Check back soon for new content!"}),l&&e.jsx("button",{onClick:()=>{C("all"),S("all"),c("all")},className:"px-6 py-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground font-bold rounded-full",children:"Reset Filters"})]})})]})}if(!a)return null;const D=pe.includes(a.id),E=ke.includes(a.id),_=Math.round((u+1)/y*100);return e.jsxs(e.Fragment,{children:[e.jsx(qe,{title:`${b.name} - ${a.question.substring(0,60)}...`,description:a.question,canonical:`https://open-interview.github.io/channel/${r}/${a.id}`}),e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(oe,{channel:b,onBack:()=>s("/channels"),onSearch:()=>k(!0),currentIndex:u,totalQuestions:y,progress:_,onToggleFilters:()=>U(!I),hasFilters:w!=="all"||j!=="all"||L!=="all"}),e.jsx(O,{children:I&&e.jsx(Tt,{channel:b,selectedSubChannel:w,selectedDifficulty:j,selectedCompany:L,companiesWithCounts:be,onSubChannelChange:l=>{C(l),v(0)},onDifficultyChange:l=>{S(l),v(0)},onCompanyChange:l=>{c(l),v(0)},onClose:()=>U(!1)})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"hidden lg:flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-1/2 border-r border-border overflow-y-auto p-8",children:e.jsx(ie,{question:a,questionNumber:u+1,totalQuestions:y,isMarked:D,isCompleted:E,srsCard:M,showRatingButtons:G,hasRated:W,onAddToSRS:ee,onSRSRating:te,onToggleMark:P})}),e.jsx("div",{className:"w-1/2 overflow-y-auto p-8",style:{backgroundColor:K?"hsl(0 0% 100%)":"hsl(0 0% 0%)",color:K?"hsl(0 0% 5%)":"hsl(0 0% 100%)"},children:e.jsx(le,{question:a,isCompleted:E})})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:hidden overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-border bg-background",children:[e.jsx("button",{onClick:()=>A("question"),className:`flex-1 py-4 text-sm font-bold transition-colors ${H==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),e.jsx("button",{onClick:()=>A("answer"),className:`flex-1 py-4 text-sm font-bold transition-colors ${H==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:H==="question"?e.jsx(ie,{question:a,questionNumber:u+1,totalQuestions:y,isMarked:D,isCompleted:E,srsCard:M,showRatingButtons:G,hasRated:W,onAddToSRS:ee,onSRSRating:te,onToggleMark:P}):e.jsx(le,{question:a,isCompleted:E})})]})]}),e.jsx("div",{className:"border-t border-border bg-background/95 backdrop-blur-xl p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsx(m.button,{onClick:Y,disabled:u===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-muted/50 rounded-full disabled:opacity-30 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-bold text-primary",children:[u+1," / ",y]}),e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(m.div,{className:"h-full bg-gradient-to-r from-primary to-cyan-500",initial:{width:0},animate:{width:`${_}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-bold",children:[_,"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m.button,{onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-3 rounded-full transition-colors ${D?"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black":"bg-muted/50 hover:bg-muted"}`,children:e.jsx(ue,{className:"w-5 h-5",fill:D?"currentColor":"none"})}),e.jsx(m.button,{onClick:$e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-muted/50 rounded-full hover:bg-muted transition-colors",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsx(m.button,{onClick:X,disabled:u===y-1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground rounded-full disabled:opacity-30 disabled:cursor-not-allowed font-bold",children:e.jsx(ut,{className:"w-5 h-5"})})]})})]}),e.jsx(Ze,{isOpen:N,onClose:()=>k(!1)}),e.jsx(Ke,{})]})}function oe({channel:t,onBack:s,onSearch:f,currentIndex:r,totalQuestions:x,progress:h,onToggleFilters:d,hasFilters:o}){return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg",children:t.name}),x>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Question ",r+1," of ",x]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[d&&e.jsx(m.button,{onClick:d,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 rounded-lg transition-colors ${o?"bg-gradient-to-r from-primary to-cyan-500 text-primary-foreground":"hover:bg-muted"}`,children:e.jsx(Je,{className:"w-5 h-5"})}),e.jsx(m.button,{onClick:f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]})]})})})}function Tt({channel:t,selectedSubChannel:s,selectedDifficulty:f,selectedCompany:r,companiesWithCounts:x,onSubChannelChange:h,onDifficultyChange:d,onCompanyChange:o,onClose:i}){return e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-b border-border bg-muted/50 backdrop-blur-xl overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Filters"}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(_e,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.subChannels&&t.subChannels.length>1&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Topic"}),e.jsx("select",{value:s,onChange:n=>h(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:t.subChannels.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Difficulty"}),e.jsxs("select",{value:f,onChange:n=>d(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),x.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-muted-foreground mb-2 block",children:"Company"}),e.jsxs("select",{value:r,onChange:n=>o(n.target.value),className:"w-full px-4 py-3 bg-muted/50 border border-border rounded-xl text-foreground focus:outline-none focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Companies"}),x.map(n=>e.jsxs("option",{value:n.company,children:[n.company," (",n.count,")"]},n.company))]})]})]})]})})}function ie({question:t,questionNumber:s,totalQuestions:f,isMarked:r,isCompleted:x,srsCard:h,showRatingButtons:d,hasRated:o,onAddToSRS:i,onSRSRating:n,onToggleMark:b}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-primary/20 to-cyan-500/20 border border-primary/30 rounded-full text-xs font-bold text-primary",children:t.difficulty}),t.company&&e.jsx("span",{className:"px-3 py-1 bg-muted/50 border border-border rounded-full text-xs font-bold",children:t.company}),x&&e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-full text-xs font-bold text-green-500",children:"âœ“ Completed"}),h&&!d&&!o&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${nt(h.easeFactor)}`,children:me(h.easeFactor)})]}),e.jsx("div",{children:e.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4 leading-tight",children:t.question})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(m.button,{onClick:b,whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2 ${r?"bg-gradient-to-r from-[#ffd700]/20 to-[#ff0080]/20 border border-[#ffd700]/30 text-[#ffd700]":"bg-muted/50 border border-border text-muted-foreground hover:border-[#ffd700]/30 hover:text-[#ffd700]"}`,children:[e.jsx(ue,{className:`w-4 h-4 ${r?"fill-current":""}`}),r?"Bookmarked":"Bookmark"]}),o?e.jsxs("span",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-xl text-sm font-bold text-green-400 flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Review Recorded"]}):d&&h?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Rate your confidence:"}),e.jsxs(m.button,{onClick:()=>n("again"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-red-500/20 border border-red-500/30 rounded-lg text-xs font-bold text-red-400 hover:bg-red-500/30 transition-all flex items-center gap-1",children:[e.jsx(wt,{className:"w-3 h-3"}),"Again"]}),e.jsxs(m.button,{onClick:()=>n("hard"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-orange-500/20 border border-orange-500/30 rounded-lg text-xs font-bold text-orange-400 hover:bg-orange-500/30 transition-all flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),"Hard"]}),e.jsxs(m.button,{onClick:()=>n("good"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-green-500/20 border border-green-500/30 rounded-lg text-xs font-bold text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3"}),"Good"]}),e.jsxs(m.button,{onClick:()=>n("easy"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-blue-500/20 border border-blue-500/30 rounded-lg text-xs font-bold text-blue-400 hover:bg-blue-500/30 transition-all flex items-center gap-1",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Easy"]})]}):e.jsxs(m.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-xl text-sm font-bold text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Add to SRS"]}),e.jsx(lt,{questionId:t.id})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(w=>e.jsxs("span",{className:"px-3 py-1 bg-muted/50 rounded-full text-xs text-muted-foreground",children:["#",w]},w))})]})}export{Zt as default};
