import{r as m,j as e,S,g as E,m as g,au as I,z as A,Z as O,al as z,d as M,X as Y,u as T,n as Z,av as H,H as V,aw as X}from"./index-ZSFwugmp.js";import{Q as _}from"./QuestionHistory-CvLg1p5M.js";import{k as U,a as K,b as J,r as q,j as ee}from"./spaced-repetition-DSAPBUPS.js";import{H as te,Y as L,B as re}from"./youtube-Dr6Te_Ur.js";import{B as se,a as ae,F as ne,T as ie,C as le,G as oe}from"./tag-DmW7PBzR.js";import{C as k}from"./clock-D5TcLjFt.js";import{T as Q,B as ce}from"./target-tfcKRnx5.js";import{E as F}from"./EnhancedMermaid-D65dtKnN.js";import{P as C}from"./play-CnJZl-dn.js";import{G as de}from"./GiscusComments-B23NmCmt.js";import{Q as xe}from"./QuestionFeedback-B6xIWCea.js";import{L as me}from"./user-Bz_W4vf1.js";import{M as ue,r as pe,h as he,v as fe}from"./index-CR_MtaHe.js";import{E as ge}from"./external-link-CJBT-mS7.js";import{F as ye}from"./file-text-C5KtnY9H.js";import{C as be}from"./copy-BG0ZfNjJ.js";import{L as $}from"./lightbulb-C2pf5mfI.js";import{C as je}from"./chevron-down-C2yW3kFs.js";import{A as we}from"./arrow-left-DSVClN_w.js";import{C as ve}from"./coffee-CKu7tG4d.js";function Ne(t){return t?t.split(/`([^`]+)`/g).map((l,i)=>i%2===1?e.jsx("code",{className:"px-1.5 py-0.5 mx-0.5 bg-primary/15 text-primary rounded text-[0.9em] font-mono",children:l},i):l):null}function ke({difficulty:t}){const r="hidden sm:block absolute bottom-8 right-8 w-32 h-32 lg:w-40 lg:h-40 opacity-[0.06] pointer-events-none select-none z-0";return t==="beginner"?e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("circle",{cx:"40",cy:"42",r:"5"}),e.jsx("circle",{cx:"60",cy:"42",r:"5"}),e.jsx("path",{d:"M38 52 Q50 62 62 52",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"8",strokeWidth:"2",stroke:"currentColor"}),e.jsx("circle",{cx:"50",cy:"5",r:"4"}),e.jsx("rect",{x:"18",y:"38",width:"6",height:"14",rx:"2"}),e.jsx("rect",{x:"76",y:"38",width:"6",height:"14",rx:"2"})]}):t==="intermediate"?e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("rect",{x:"35",y:"40",width:"10",height:"6",rx:"1"}),e.jsx("rect",{x:"55",y:"40",width:"10",height:"6",rx:"1"}),e.jsx("line",{x1:"40",y1:"55",x2:"60",y2:"55",strokeWidth:"3",stroke:"currentColor"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"8",strokeWidth:"2",stroke:"currentColor"}),e.jsx("polygon",{points:"50,2 46,8 54,8"}),e.jsx("circle",{cx:"82",cy:"50",r:"8",strokeWidth:"2",stroke:"currentColor",fill:"none"}),e.jsx("circle",{cx:"82",cy:"50",r:"3"})]}):e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("ellipse",{cx:"40",cy:"42",rx:"6",ry:"7"}),e.jsx("ellipse",{cx:"60",cy:"42",rx:"6",ry:"7"}),e.jsx("circle",{cx:"42",cy:"41",r:"2",fill:"white"}),e.jsx("circle",{cx:"62",cy:"41",r:"2",fill:"white"}),e.jsx("path",{d:"M38 56 Q50 52 62 56",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("ellipse",{cx:"78",cy:"35",rx:"3",ry:"5"}),e.jsx("ellipse",{cx:"82",cy:"45",rx:"2",ry:"4"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"5",strokeWidth:"2",stroke:"currentColor"}),e.jsx("circle",{cx:"50",cy:"3",r:"3"}),e.jsx("polygon",{points:"85,20 80,30 84,30 79,42 88,28 84,28"})]})}function Je({question:t,questionNumber:r,totalQuestions:l,isMarked:i,isCompleted:o,onToggleMark:a,onTapQuestion:n,timerEnabled:d,timeLeft:c}){const[x,u]=m.useState(null),[p,f]=m.useState(!1),[s,y]=m.useState(!1);m.useEffect(()=>{if(t?.id){const h=U(t.id,t.channel,t.difficulty);u(w=>w?.questionId===h.questionId&&w?.totalReviews===h.totalReviews?w:h),f(!1),y(h.totalReviews>0)}},[t?.id,t?.channel,t?.difficulty]);const j=h=>{if(!t)return;const w=q(t.id,t.channel,t.difficulty,h);u(w),f(!0),y(!1)},b=()=>{if(!t)return;const h=ee(t.id,t.channel,t.difficulty);u(h),y(!0)},N=(()=>{switch(t.difficulty){case"beginner":return{icon:O,color:"text-green-500",bg:"bg-green-500/10",border:"border-green-500/20",label:"Easy"};case"intermediate":return{icon:Q,color:"text-yellow-500",bg:"bg-yellow-500/10",border:"border-yellow-500/20",label:"Medium"};case"advanced":return{icon:ne,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/20",label:"Hard"};default:return{icon:Q,color:"text-muted-foreground",bg:"bg-muted",border:"border-border",label:"Unknown"}}})(),P=N.icon;return e.jsxs("div",{className:"w-full h-full flex flex-col px-3 sm:px-4 lg:px-6 py-3 sm:py-4 overflow-y-auto relative","data-testid":"question-panel",children:[e.jsx(ke,{difficulty:t.difficulty}),e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-1 px-2 py-1 bg-muted/50 border border-border rounded-md",children:[e.jsx(te,{className:"w-3 h-3 text-primary"}),e.jsx("span",{className:"text-[10px] font-mono text-muted-foreground",children:t.id})]}),e.jsx("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted rounded-md",children:e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:[r,e.jsx("span",{className:"text-muted-foreground/50",children:"/"}),l]})}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md ${N.bg} border ${N.border}`,children:[e.jsx(P,{className:`w-3 h-3 ${N.color}`}),e.jsx("span",{className:`text-xs font-medium ${N.color}`,children:N.label})]}),t.isNew&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-md",children:[e.jsx(S,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:"text-xs font-bold bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"NEW"})]}),o&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/10 border border-green-500/20 rounded-md",children:[e.jsx(E,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs font-medium text-green-500",children:"Done"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(_,{questionId:t.id,questionType:"question",size:"sm"}),e.jsx("button",{onClick:a,className:`p-1.5 rounded-md transition-colors ${i?"bg-primary/10 text-primary border border-primary/20":"bg-muted text-muted-foreground hover:text-primary"}`,children:e.jsx(se,{className:`w-4 h-4 ${i?"fill-current":""}`})})]})]}),e.jsxs("div",{className:`flex-1 flex flex-col justify-center max-w-2xl w-full ${n?"cursor-pointer lg:cursor-default":""}`,onClick:n,children:[t.companies&&t.companies.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2 flex-wrap",children:[e.jsx(ae,{className:"w-3.5 h-3.5 text-muted-foreground"}),t.companies.map((h,w)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-500/10 text-blue-500 text-xs font-medium rounded-full",children:h},w))]}),e.jsx(g.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`font-bold text-foreground leading-tight ${t.question.length>200?"text-sm sm:text-base lg:text-lg":t.question.length>100?"text-base sm:text-lg lg:text-xl":"text-lg sm:text-xl lg:text-2xl"}`,children:Ne(t.question)}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-medium",children:t.subChannel})}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[t.tags.slice(0,5).map(h=>e.jsx("span",{className:"px-1.5 py-0.5 bg-muted text-[9px] sm:text-[10px] font-mono text-muted-foreground rounded border border-border",children:I(h)},h)),t.tags.length>5&&e.jsxs("span",{className:"text-[9px] text-muted-foreground py-0.5",children:["+",t.tags.length-5]})]}),d&&c>0&&e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-2 bg-primary/5 border border-primary/20 rounded-lg self-start",children:[e.jsx(k,{className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"text-lg font-mono font-bold text-primary tabular-nums",children:[String(Math.floor(c/60)).padStart(2,"0"),":",String(c%60).padStart(2,"0")]})]})]}),e.jsx("div",{className:"mt-auto pt-3 flex justify-start mb-12 sm:mb-0",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-purple-500/5 border border-purple-500/20 rounded-lg px-2 py-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(A,{className:"w-3.5 h-3.5 text-purple-500"}),e.jsx("span",{className:"text-[10px] font-semibold text-purple-500",children:"SRS"}),x&&e.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded ${J(x.masteryLevel)} bg-muted/50`,children:K(x.masteryLevel)})]}),p?e.jsx("span",{className:"text-[10px] text-green-500 font-medium",children:"âœ“"}):s&&x?e.jsx("div",{className:"flex items-center gap-0.5",children:[{rating:"again",label:"ðŸ˜•",color:"bg-red-500/10 text-red-500 hover:bg-red-500/20"},{rating:"hard",label:"ðŸ¤”",color:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20"},{rating:"good",label:"ðŸ‘",color:"bg-green-500/10 text-green-500 hover:bg-green-500/20"},{rating:"easy",label:"ðŸŽ¯",color:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20"}].map(h=>e.jsx("button",{onClick:w=>{w.stopPropagation(),j(h.rating)},className:`w-6 h-6 flex items-center justify-center rounded text-xs transition-colors ${h.color}`,children:h.label},h.rating))}):e.jsx("button",{onClick:h=>{h.stopPropagation(),b()},className:"px-2 py-0.5 bg-purple-500 text-white text-[10px] font-medium rounded hover:bg-purple-600",children:"+Add"})]})}),e.jsx("div",{className:"mt-3 text-center hidden sm:block",children:e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-[9px] font-mono",children:"â†’"})," to reveal answer"]})})]})}function G(t){if(!t)return null;const r=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/,/^([a-zA-Z0-9_-]{11})$/];for(const l of r){const i=t.match(l);if(i)return i[1]}return null}function Ce(t){return t?.includes("/shorts/")||!1}function Se({shortVideo:t,longVideo:r}){const[l,i]=m.useState(null),o=m.useRef(null),a=t?G(t):null,n=r?G(r):null;if(!a&&!n)return null;const d=()=>i(null);return m.useEffect(()=>{const c=x=>{x.key==="Escape"&&l&&d()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[l]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full clear-both",children:e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-3",children:[a&&e.jsxs("button",{onClick:()=>i("short"),className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2.5 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 rounded-lg transition-all group",children:[e.jsx(L,{className:"w-3.5 h-3.5 sm:w-5 sm:h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-sm font-bold text-foreground group-hover:text-red-500 transition-colors",children:"Quick"}),e.jsxs("div",{className:"text-[8px] sm:text-xs text-muted-foreground hidden sm:flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"})," Under 60s"]})]}),e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 ml-1 sm:ml-2"})]}),n&&e.jsxs("button",{onClick:()=>i("long"),className:"flex items-center gap-1.5 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2.5 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 rounded-lg transition-all group",children:[e.jsx(L,{className:"w-3.5 h-3.5 sm:w-5 sm:h-5 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-[10px] sm:text-sm font-bold text-foreground group-hover:text-red-500 transition-colors",children:"Deep Dive"}),e.jsxs("div",{className:"text-[8px] sm:text-xs text-muted-foreground hidden sm:flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"})," 5-20 min"]})]}),e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 ml-1 sm:ml-2"})]})]})}),typeof document<"u"&&z.createPortal(e.jsx(M,{children:l&&e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 sm:p-8 lg:p-12",onClick:d,children:e.jsxs(g.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-5xl mx-auto",onClick:c=>c.stopPropagation(),children:[e.jsxs("button",{onClick:d,className:"absolute -top-12 right-0 z-20 p-2 text-white hover:text-white/80 transition-colors",children:[e.jsx(Y,{className:"w-6 h-6"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),e.jsx("div",{className:`relative bg-black rounded-lg overflow-hidden border border-white/20 shadow-2xl ${l==="short"&&Ce(t||"")?"max-w-sm mx-auto aspect-[9/16]":"w-full aspect-video"}`,children:e.jsx("iframe",{ref:o,src:`https://www.youtube.com/embed/${l==="short"?a:n}?autoplay=1&rel=0&playsinline=1`,title:l==="short"?"Quick Explanation":"Deep Dive Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0,className:"absolute inset-0 w-full h-full"})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/50",children:l==="short"?"âš¡ Quick Explanation":"ðŸ“š Deep Dive"})})]})})}),document.body)]})}function Me({questionId:t,currentChannel:r}){const[,l]=T(),[i,o]=m.useState([]),[a,n]=m.useState(!0),[d,c]=m.useState(!1);if(m.useEffect(()=>{async function u(){n(!0),c(!1);try{const p=await fetch("/data/similar-questions.json");if(!p.ok){c(!0);return}const s=(await p.json()).similarities?.[t]||[];o(s.slice(0,4))}catch{c(!0)}finally{n(!1)}}u()},[t]),d||!a&&i.length===0)return null;const x=u=>{l(`/channel/${u.channel}/${u.id}`)};return e.jsxs("div",{className:"rounded-lg border border-border bg-card/50 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-2 border-b border-border bg-muted/30",children:[e.jsx(S,{className:"w-3.5 h-3.5 text-primary"}),e.jsx("span",{className:"font-medium text-xs",children:"Similar Questions"})]}),e.jsx("div",{className:"divide-y divide-border",children:a?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(me,{className:"w-4 h-4 animate-spin text-muted-foreground"})}):i.map(u=>e.jsxs("button",{onClick:()=>x(u),className:"w-full flex items-start gap-2 px-2.5 py-2 hover:bg-muted/50 transition-colors text-left group",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-foreground/90 line-clamp-2 group-hover:text-primary transition-colors",children:u.question}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground capitalize",children:u.channel.replace(/-/g," ")}),e.jsxs("span",{className:"text-[10px] text-primary/60",children:[Math.round(u.similarity*100),"%"]})]})]}),e.jsx(Z,{className:"w-3.5 h-3.5 text-muted-foreground group-hover:text-primary transition-colors mt-0.5 shrink-0"})]},u.id))})]})}function Le(t){if(!t)return"";let r=t;r=r.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),r=r.replace(/\*\*\s*```/g,"**\n\n```"),r=r.replace(/```\s*\*\*/g,"```\n\n**"),r=r.replace(/```(\w*)\n([\s\S]*?)```/g,(o,a,n)=>{const d=n.replace(/\*\*/g,"");return"```"+a+`
`+d+"```"}),r=r.replace(/([^\n`])(\s*```)/g,"$1\n```"),r=r.replace(/(```\w*)\s*\n?\s*([^\n`])/g,`$1
$2`),r=r.replace(/:\s*```/g,":\n\n```"),r=r.replace(/^\*\*\s*$/gm,""),r=r.replace(/\*\*\s*\n\s*([^*]+)\*\*/g,"**$1**"),r=r.replace(/\*\*\s*\n\s*(\d+\.\s+[^*\n]+)\*\*/g,"**$1**"),r=r.replace(/\*\*\s*\n\s*(-\s+[^*\n]+)\*\*/g,"**$1**"),r=r.replace(/\*\*-\s+/g,`**
- `),r=r.replace(/\*\*(\d+)\.\s+/g,`**
$1. `),r=r.replace(/\*\*-\s*\*\*([^*]+)\*\*/g,`**
- **$1**`),r=r.replace(/\*\*-\s*\*\*([^*\n]+)/g,`**
- **$1**`),r=r.replace(/-\s*\*\*([^*]+)\*\*-\s+/g,`- **$1**
- `);const l=r.split(`
`),i=[];for(let o=0;o<l.length;o++){let a=l[o];const n=(a.match(/\*\*/g)||[]).length;n%2===1&&(a.trim().startsWith("**")&&n===1?a=a.replace(/^\s*\*\*\s*/,""):a.trim().endsWith("**")&&n===1&&(a=a.replace(/\s*\*\*\s*$/,""))),i.push(a)}return r=i.join(`
`),r=r.replace(/^[â€¢Â·]\s*/gm,"- "),(r.includes("â€¢")||r.includes("Â·"))&&(r=r.split(`
`).map(n=>{const d=(n.match(/[â€¢Â·]/g)||[]).length;if(d>1||d===1&&!n.trim().startsWith("â€¢")&&!n.trim().startsWith("Â·")){const c=n.split(/[â€¢Â·]/).map(x=>x.trim()).filter(x=>x);if(c.length>1)return c.map(x=>`- ${x}`).join(`
`)}return n.replace(/^[â€¢Â·]\s*/,"- ")}).join(`
`)),r=r.replace(/(\d+[.)]\s+[^0-9]+?)(?=\s+\d+[.)])/g,`$1
`),r=r.replace(new RegExp("(?<!\\n)(\\d+[.)]\\s+)","g"),`
$1`),r=r.replace(/\n{3,}/g,`

`),r=r.replace(/^\n+/,""),r}function W(t){if(!t||typeof t!="string")return!1;const r=t.trim();if(!r||r.length<10)return!1;const l=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],i=r.split(`
`)[0].toLowerCase().trim();if(!l.some(d=>i.startsWith(d.toLowerCase())))return!1;const a=r.split(`
`).filter(d=>{const c=d.trim().toLowerCase();return c&&!c.startsWith("%%")&&!l.some(x=>c.startsWith(x.toLowerCase()))});if(a.length<3)return!1;const n=r.toLowerCase();return!(n.includes("start")&&n.includes("end")&&a.length<=3||n.match(/\bstart\b/g)?.length===1&&n.match(/\bend\b/g)?.length===1&&a.length<=2)}function B(t){return t?t.split(/`([^`]+)`/g).map((l,i)=>i%2===1?e.jsx("code",{className:"px-1.5 py-0.5 mx-0.5 bg-cyan-500/20 text-cyan-300 rounded text-[0.9em] font-mono",children:l},i):l):null}function Qe({title:t,icon:r,children:l,defaultExpanded:i=!0,variant:o="default",badge:a}){const[n,d]=m.useState(i),c=typeof window<"u"&&window.innerWidth<640,x={default:"bg-card border-border",highlight:"bg-primary/5 border-primary/20",success:"bg-green-500/5 border-green-500/20",purple:"bg-purple-500/5 border-purple-500/20"},u={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return e.jsxs("div",{className:`rounded-lg border overflow-hidden ${x[o]}`,children:[e.jsxs("button",{onClick:()=>d(!n),className:"w-full flex items-center justify-between px-2.5 py-1.5 hover:bg-muted/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:u[o],children:r}),e.jsx("span",{className:"font-medium text-xs",children:t}),a&&e.jsx("span",{className:"px-1 py-0.5 bg-primary/10 text-primary text-[8px] font-medium rounded",children:a})]}),e.jsx(je,{className:`w-3.5 h-3.5 text-muted-foreground transition-transform ${n?"":"-rotate-90"}`})]}),c?n&&e.jsx("div",{className:"px-2.5 pb-2",children:l}):e.jsx(M,{initial:!1,children:n&&e.jsx(g.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"px-2.5 pb-2",children:l})})})]})}function $e({code:t,language:r}){const[l,i]=m.useState(!1),o=async()=>{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)};return e.jsxs("div",{className:"rounded-lg sm:rounded-xl overflow-hidden border border-border bg-[#1e1e1e]",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-1.5 sm:py-2 bg-muted/50 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary"}),e.jsx("span",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-muted-foreground font-medium",children:r||"code"})]}),e.jsx("button",{onClick:o,className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded transition-colors",children:l?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}),e.jsx("span",{className:"text-green-500",children:"Copied"})]}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(he,{language:r||"text",style:fe,customStyle:{margin:0,padding:"0.75rem",background:"transparent",fontSize:"0.75rem",lineHeight:"1.5"},wrapLines:!0,wrapLongLines:!0,className:"!text-xs sm:!text-sm !p-3 sm:!p-4",children:t})]})}function Ge({question:t,hasTldr:r,hasDiagram:l,hasEli5:i,hasVideo:o}){const[a,n]=m.useState(null),d=l&&a!==!1,c=[];r&&c.push("tldr"),d&&c.push("diagram"),i&&c.push("eli5"),o&&c.push("video");const[x,u]=m.useState(()=>r?"tldr":i?"eli5":o?"video":"diagram");m.useEffect(()=>{a===!1&&x==="diagram"&&(r?u("tldr"):i?u("eli5"):o&&u("video"))},[a,x,r,i,o]);const p=m.useCallback(s=>{n(s)},[]);if(c.length===0&&a===!1)return null;if(c.length===0&&!r&&!i&&!o&&a===null)return e.jsx("div",{className:"rounded-xl sm:rounded-2xl border border-border bg-card p-4 text-center text-muted-foreground text-sm",children:"Loading..."});if(c.length===0)return null;const f={tldr:{label:"TL;DR",icon:e.jsx($,{className:"w-3.5 h-3.5"}),color:"text-cyan-400"},diagram:{label:"Diagram",icon:e.jsx(oe,{className:"w-3.5 h-3.5"}),color:"text-purple-400"},eli5:{label:"ELI5",icon:e.jsx(re,{className:"w-3.5 h-3.5"}),color:"text-green-400"},video:{label:"Video",icon:e.jsx(C,{className:"w-3.5 h-3.5"}),color:"text-pink-400"}};return e.jsxs("div",{className:"rounded-lg sm:rounded-xl border border-white/10 bg-black/40 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-white/10 bg-black/20",children:c.map(s=>e.jsxs("button",{onClick:()=>u(s),className:`flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs sm:text-sm font-medium transition-all relative ${x===s?`${f[s].color} bg-white/5`:"text-white/50 hover:text-white/70 hover:bg-white/5"}`,children:[e.jsx("span",{className:x===s?f[s].color:"",children:f[s].icon}),e.jsx("span",{children:f[s].label}),x===s&&e.jsx(g.div,{layoutId:"activeTabIndicator",className:`absolute bottom-0 left-0 right-0 h-0.5 ${s==="tldr"?"bg-cyan-400":s==="diagram"?"bg-purple-400":s==="eli5"?"bg-green-400":"bg-pink-400"}`})]},s))}),e.jsx("div",{className:"p-2 sm:p-3",children:e.jsxs(M,{mode:"wait",children:[x==="tldr"&&r&&e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-start gap-2",children:[e.jsx($,{className:"w-4 h-4 text-cyan-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:B(t.answer)})]},"tldr"),x==="diagram"&&l&&e.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(F,{chart:t.diagram,onRenderResult:p})},"diagram"),x==="eli5"&&i&&e.jsxs(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:B(t.eli5||"")})]},"eli5"),x==="video"&&o&&e.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(Se,{shortVideo:t.videos?.shortVideo,longVideo:t.videos?.longVideo})},"video")]})})]})}function qe({question:t}){const r=m.useRef(null),l=typeof window<"u"&&window.innerWidth<640,[i,o]=m.useState(null);m.useEffect(()=>{H.getByQuestionId(t.id).then(o)},[t.id]);const a=!!t.answer,n=!l&&W(t.diagram),d=!!t.eli5,c=!!(t.videos?.shortVideo||t.videos?.longVideo),x=a||n||d||c,u=m.useCallback(p=>{const f=Le(p);return e.jsx(ue,{remarkPlugins:[pe],components:{code({className:s,children:y}){const j=/language-(\w+)/.exec(s||""),b=j?j[1]:"",v=String(y).replace(/\n$/,"");return!j&&!String(y).includes(`
`)?e.jsx("code",{className:"px-1 py-0.5 bg-primary/10 text-primary rounded text-[0.85em] font-mono",children:y}):b==="mermaid"?W(v)?e.jsx("div",{className:"my-3",children:e.jsx(F,{chart:v})}):null:e.jsx("div",{className:"my-2",children:e.jsx($e,{code:v,language:b})})},p({children:s}){return e.jsx("p",{className:"mb-2 leading-relaxed text-foreground/90 text-sm",children:s})},h1({children:s}){return e.jsx("h1",{className:"text-base font-bold mb-2 mt-4 text-foreground border-b border-border pb-1",children:s})},h2({children:s}){return e.jsx("h2",{className:"text-sm font-bold mb-2 mt-3 text-foreground",children:s})},h3({children:s}){return e.jsx("h3",{className:"text-sm font-semibold mb-1.5 mt-2 text-foreground/90",children:s})},strong({children:s}){return e.jsx("strong",{className:"font-semibold text-foreground",children:s})},ul({children:s}){return e.jsx("ul",{className:"space-y-1 mb-2 ml-1",children:s})},ol({children:s}){return e.jsx("ol",{className:"space-y-1 mb-2 ml-1 [counter-reset:list-counter]",children:s})},li({children:s,node:y}){const b=y?.parent?.tagName==="ol";return e.jsxs("li",{className:"flex gap-2 text-foreground/90 text-sm [counter-increment:list-counter]",children:[e.jsx("span",{className:"shrink-0 text-primary mt-0.5",children:b?e.jsx("span",{className:"text-xs font-medium before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:"flex-1",children:s})]})},a({href:s,children:y}){return e.jsx("a",{href:s,className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:y})},blockquote({children:s}){return e.jsx("blockquote",{className:"border-l-2 border-primary/50 pl-3 py-1 my-2 bg-primary/5 text-muted-foreground italic text-sm",children:s})},table({children:s}){return e.jsx("div",{className:"my-2 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-sm",children:s})})},th({children:s}){return e.jsx("th",{className:"px-2 py-1.5 text-left font-semibold bg-muted border border-border text-xs",children:s})},td({children:s}){return e.jsx("td",{className:"px-2 py-1.5 border border-border text-sm",children:s})}},children:f})},[]);return e.jsx(g.div,{ref:r,initial:l?!1:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-background",children:e.jsxs("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-2 sm:py-3 pb-16 space-y-1.5",children:[x&&e.jsx(Ge,{question:t,hasTldr:a,hasDiagram:n,hasEli5:d,hasVideo:c}),e.jsx(Qe,{title:"Full Explanation",icon:e.jsx(ce,{className:"w-3.5 h-3.5"}),defaultExpanded:!0,badge:t.explanation?`${Math.ceil(t.explanation.split(" ").length/200)} min`:void 0,children:e.jsx("div",{className:"prose prose-sm max-w-none",children:u(t.explanation)})}),e.jsxs("div",{className:"flex items-start justify-between gap-1.5 pt-0.5",children:[e.jsx("div",{className:"flex items-start gap-1.5 flex-1 min-w-0",children:t.tags&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-2.5 h-2.5 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-0.5",children:t.tags.map(p=>e.jsx("span",{className:"px-1 py-0.5 bg-muted text-[8px] font-mono text-muted-foreground rounded border border-border",children:I(p)},p))})]})}),e.jsx(xe,{questionId:t.id})]}),(t.sourceUrl||i)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[t.sourceUrl&&e.jsxs("a",{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-muted hover:bg-muted/80 border border-border rounded-md text-[10px]",children:[e.jsx(ge,{className:"w-2.5 h-2.5 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Source"})]}),i&&e.jsxs("a",{href:`https://openstackdaily.github.io${i.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-cyan-500/10 hover:bg-cyan-500/20 border border-cyan-500/30 rounded-md text-[10px]",children:[e.jsx(ye,{className:"w-2.5 h-2.5 text-cyan-400"}),e.jsx("span",{className:"text-cyan-400",children:"Blog"})]})]}),e.jsx(Me,{questionId:t.id,currentChannel:t.channel}),e.jsx(de,{questionId:t.id})]})})}const D={robot:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"robotGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.4"})]})}),e.jsx("rect",{x:"60",y:"80",width:"80",height:"70",rx:"10",fill:"url(#robotGrad)"}),e.jsx("rect",{x:"70",y:"40",width:"60",height:"45",rx:"8",fill:"url(#robotGrad)"}),e.jsx("circle",{cx:"85",cy:"58",r:"8",fill:"white"}),e.jsx("circle",{cx:"115",cy:"58",r:"8",fill:"white"}),e.jsx("circle",{cx:"85",cy:"58",r:"4",fill:"hsl(var(--foreground))",children:e.jsx("animate",{attributeName:"cx",values:"83;87;83",dur:"2s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"115",cy:"58",r:"4",fill:"hsl(var(--foreground))",children:e.jsx("animate",{attributeName:"cx",values:"113;117;113",dur:"2s",repeatCount:"indefinite"})}),e.jsx("line",{x1:"100",y1:"40",x2:"100",y2:"25",stroke:"hsl(var(--primary))",strokeWidth:"3"}),e.jsx("circle",{cx:"100",cy:"20",r:"6",fill:"hsl(var(--primary))",children:e.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",repeatCount:"indefinite"})}),e.jsx("rect",{x:"35",y:"90",width:"25",height:"12",rx:"6",fill:"url(#robotGrad)",children:e.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 60 96;-10 60 96;0 60 96",dur:"1.5s",repeatCount:"indefinite"})}),e.jsx("rect",{x:"140",y:"90",width:"25",height:"12",rx:"6",fill:"url(#robotGrad)",children:e.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 140 96;10 140 96;0 140 96",dur:"1.5s",repeatCount:"indefinite"})}),e.jsx("rect",{x:"75",y:"150",width:"15",height:"30",rx:"5",fill:"url(#robotGrad)"}),e.jsx("rect",{x:"110",y:"150",width:"15",height:"30",rx:"5",fill:"url(#robotGrad)"}),e.jsx("rect",{x:"80",y:"95",width:"40",height:"25",rx:"3",fill:"hsl(var(--background))"}),e.jsx("text",{x:"100",y:"112",textAnchor:"middle",fontSize:"10",fill:"hsl(var(--primary))",fontFamily:"monospace",children:e.jsxs("tspan",{children:["</>",e.jsx("animate",{attributeName:"opacity",values:"1;0;1",dur:"0.8s",repeatCount:"indefinite"})]})})]}),coffee:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"coffeeGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#8B4513"}),e.jsx("stop",{offset:"100%",stopColor:"#5D3A1A"})]})}),e.jsx("path",{d:"M50 80 L60 160 L140 160 L150 80 Z",fill:"white",stroke:"hsl(var(--border))",strokeWidth:"2"}),e.jsx("path",{d:"M55 90 L62 155 L138 155 L145 90 Z",fill:"url(#coffeeGrad)",children:e.jsx("animate",{attributeName:"d",values:"M55 120 L62 155 L138 155 L145 120 Z;M55 90 L62 155 L138 155 L145 90 Z;M55 120 L62 155 L138 155 L145 120 Z",dur:"3s",repeatCount:"indefinite"})}),e.jsx("path",{d:"M150 95 Q175 95 175 120 Q175 145 150 145",fill:"none",stroke:"white",strokeWidth:"8"}),e.jsx("path",{d:"M150 100 Q170 100 170 120 Q170 140 150 140",fill:"none",stroke:"hsl(var(--border))",strokeWidth:"2"}),e.jsxs("path",{d:"M75 75 Q80 60 75 45",fill:"none",stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6",children:[e.jsx("animate",{attributeName:"d",values:"M75 75 Q80 60 75 45;M75 75 Q70 60 75 45;M75 75 Q80 60 75 45",dur:"2s",repeatCount:"indefinite"}),e.jsx("animate",{attributeName:"opacity",values:"0.6;0.2;0.6",dur:"2s",repeatCount:"indefinite"})]}),e.jsxs("path",{d:"M100 70 Q105 50 100 35",fill:"none",stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6",children:[e.jsx("animate",{attributeName:"d",values:"M100 70 Q105 50 100 35;M100 70 Q95 50 100 35;M100 70 Q105 50 100 35",dur:"2.5s",repeatCount:"indefinite"}),e.jsx("animate",{attributeName:"opacity",values:"0.6;0.2;0.6",dur:"2.5s",repeatCount:"indefinite"})]}),e.jsxs("path",{d:"M125 75 Q130 55 125 40",fill:"none",stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6",children:[e.jsx("animate",{attributeName:"d",values:"M125 75 Q130 55 125 40;M125 75 Q120 55 125 40;M125 75 Q130 55 125 40",dur:"1.8s",repeatCount:"indefinite"}),e.jsx("animate",{attributeName:"opacity",values:"0.6;0.2;0.6",dur:"1.8s",repeatCount:"indefinite"})]}),e.jsx("ellipse",{cx:"100",cy:"165",rx:"60",ry:"10",fill:"hsl(var(--muted))"})]}),construction:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"brickGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.9"}),e.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.6"})]})}),e.jsx("rect",{x:"20",y:"160",width:"160",height:"20",fill:"hsl(var(--muted))",rx:"2"}),e.jsxs("g",{children:[e.jsx("rect",{x:"40",y:"140",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"}),e.jsx("rect",{x:"85",y:"140",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"}),e.jsx("rect",{x:"130",y:"140",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"}),e.jsx("rect",{x:"60",y:"120",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"}),e.jsx("rect",{x:"105",y:"120",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"}),e.jsx("rect",{x:"80",y:"100",width:"40",height:"20",fill:"url(#brickGrad)",rx:"2"})]}),e.jsx("rect",{x:"155",y:"60",width:"8",height:"100",fill:"hsl(var(--muted-foreground))"}),e.jsx("rect",{x:"100",y:"55",width:"70",height:"8",fill:"hsl(var(--muted-foreground))"}),e.jsx("line",{x1:"120",y1:"63",x2:"120",y2:"85",stroke:"hsl(var(--muted-foreground))",strokeWidth:"2"}),e.jsx("rect",{x:"105",y:"85",width:"30",height:"15",fill:"url(#brickGrad)",rx:"2",children:e.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0 0;0 -20;0 0",dur:"2s",repeatCount:"indefinite"})}),e.jsx("ellipse",{cx:"50",cy:"75",rx:"20",ry:"8",fill:"#FFD700"}),e.jsx("path",{d:"M30 75 Q30 60 50 55 Q70 60 70 75",fill:"#FFD700"}),e.jsx("circle",{cx:"50",cy:"90",r:"12",fill:"#FFDAB9"}),e.jsx("circle",{cx:"46",cy:"88",r:"2",fill:"hsl(var(--foreground))"}),e.jsx("circle",{cx:"54",cy:"88",r:"2",fill:"hsl(var(--foreground))"}),e.jsx("path",{d:"M46 95 Q50 98 54 95",fill:"none",stroke:"hsl(var(--foreground))",strokeWidth:"1.5",strokeLinecap:"round"})]}),rocket:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"rocketGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),e.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.7"})]}),e.jsxs("linearGradient",{id:"flameGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF6B35"}),e.jsx("stop",{offset:"50%",stopColor:"#F7C331"}),e.jsx("stop",{offset:"100%",stopColor:"#FF6B35",stopOpacity:"0"})]})]}),e.jsxs("g",{children:[e.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0 5;0 -5;0 5",dur:"1s",repeatCount:"indefinite"}),e.jsx("path",{d:"M100 30 Q85 50 85 100 L115 100 Q115 50 100 30",fill:"url(#rocketGrad)"}),e.jsx("circle",{cx:"100",cy:"65",r:"12",fill:"hsl(var(--background))",stroke:"hsl(var(--border))",strokeWidth:"2"}),e.jsx("circle",{cx:"100",cy:"65",r:"8",fill:"#87CEEB"}),e.jsx("path",{d:"M85 85 L65 110 L85 100 Z",fill:"url(#rocketGrad)"}),e.jsx("path",{d:"M115 85 L135 110 L115 100 Z",fill:"url(#rocketGrad)"}),e.jsx("rect",{x:"85",y:"100",width:"30",height:"15",fill:"hsl(var(--muted-foreground))"}),e.jsx("path",{d:"M90 115 Q100 150 110 115 Q105 140 100 160 Q95 140 90 115",fill:"url(#flameGrad)",children:e.jsx("animate",{attributeName:"d",values:"M90 115 Q100 150 110 115 Q105 140 100 160 Q95 140 90 115;M90 115 Q100 145 110 115 Q105 135 100 155 Q95 135 90 115;M90 115 Q100 150 110 115 Q105 140 100 160 Q95 140 90 115",dur:"0.3s",repeatCount:"indefinite"})})]}),e.jsx("circle",{cx:"40",cy:"50",r:"2",fill:"hsl(var(--muted-foreground))",children:e.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1.5s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"160",cy:"70",r:"2",fill:"hsl(var(--muted-foreground))",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"1.2s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"150",cy:"40",r:"1.5",fill:"hsl(var(--muted-foreground))",children:e.jsx("animate",{attributeName:"opacity",values:"1;0.5;1",dur:"2s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"50",cy:"90",r:"1.5",fill:"hsl(var(--muted-foreground))",children:e.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1.8s",repeatCount:"indefinite"})})]})},R=[{title:"Our AI hamsters are working overtime! ðŸ¹",subtitle:"They're typing as fast as their tiny paws can go."},{title:"Content is brewing... â˜•",subtitle:"Good things come to those who wait (and drink coffee)."},{title:"Deploying awesomeness... ðŸš€",subtitle:"Our code monkeys are on it!"},{title:"Building something cool! ðŸ”¨",subtitle:"Rome wasn't built in a day, but our content will be here soon."},{title:"Loading... please hold ðŸ“ž",subtitle:"Your call is important to us. Just kidding, we're coding!"},{title:"Compiling greatness... âš¡",subtitle:"No errors so far... *fingers crossed*"},{title:"git commit -m 'adding content' ðŸ’»",subtitle:"Push is in progress..."},{title:"sudo make content ðŸ› ï¸",subtitle:"Permission granted. Building..."}];function et({title:t,description:r,type:l="generic",name:i,redirectTo:o="/",redirectDelay:a=5e3,showBackButton:n=!0}){const[,d]=T(),[c,x]=m.useState(Math.ceil(a/1e3)),[u]=m.useState(()=>Math.floor(Math.random()*R.length)),[p]=m.useState(()=>{const b=Object.keys(D);return b[Math.floor(Math.random()*b.length)]}),f=R[u],s=D[p];m.useEffect(()=>{if(a<=0)return;const b=setInterval(()=>{x(v=>v<=1?(clearInterval(b),d(o),0):v-1)},1e3);return()=>clearInterval(b)},[a,o,d]);const y=l==="channel"?`${i||"This channel"} is coming soon!`:l==="certification"?`${i||"This certification"} is being prepared!`:t||f.title,j=r||f.subtitle;return e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full text-center",children:[e.jsx(g.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",bounce:.4},className:"w-48 h-48 mx-auto mb-6",children:s}),e.jsx(g.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-2xl font-bold mb-2",children:y}),e.jsx(g.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-muted-foreground mb-6",children:j}),e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex items-center justify-center gap-2 text-sm text-muted-foreground mb-6",children:[e.jsx(S,{className:"w-4 h-4 text-primary animate-pulse"}),e.jsx("span",{children:"Our team is working hard to bring you amazing content!"})]}),a>0&&c>0&&e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xs text-muted-foreground mb-4",children:["Redirecting in ",c,"s..."]}),e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"flex items-center justify-center gap-3",children:[n&&e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 bg-muted hover:bg-muted/80 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(we,{className:"w-4 h-4"}),"Go Back"]}),e.jsxs("button",{onClick:()=>d(o),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(V,{className:"w-4 h-4"}),o==="/"?"Go Home":"Browse More"]})]}),e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-8 p-4 bg-muted/30 rounded-xl border border-border",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ve,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Fun fact:"})," While you wait, our AI generates 10+ new questions daily!"]})]})})]})})}function tt(t,r={}){const{minDistance:l=X.MIN_SWIPE_DISTANCE,preventScroll:i=!1}=r,o=m.useRef(null),a=m.useRef(null),n=m.useRef(null),d=m.useRef(null),c=m.useCallback(p=>{n.current=null,d.current=null,o.current=p.targetTouches[0].clientX,a.current=p.targetTouches[0].clientY},[]),x=m.useCallback(p=>{if(n.current=p.targetTouches[0].clientX,d.current=p.targetTouches[0].clientY,i&&o.current!==null&&n.current!==null){const f=Math.abs(o.current-n.current),s=Math.abs((a.current??0)-(d.current??0));f>s&&p.preventDefault()}},[i]),u=m.useCallback(()=>{if(o.current===null||a.current===null||n.current===null||d.current===null)return;const p=o.current-n.current,f=a.current-d.current,s=Math.abs(p),y=Math.abs(f),j=s>y;j&&s>l?p>0?t.onSwipeLeft?.():t.onSwipeRight?.():!j&&y>l&&(f>0?t.onSwipeUp?.():t.onSwipeDown?.()),o.current=null,a.current=null,n.current=null,d.current=null},[t,l]);return{onTouchStart:c,onTouchMove:x,onTouchEnd:u}}export{qe as A,et as C,Je as Q,tt as u};
