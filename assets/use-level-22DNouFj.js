import{h as x,r as t,a1 as c,a2 as L,a3 as X,a4 as M,a5 as S,a6 as d,a7 as f}from"./index-C-IC1LIA.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],y=x("gift",h);function w(){const[e,u]=t.useState(()=>c()),[i,o]=t.useState(!1),[p,v]=t.useState(null);t.useEffect(()=>{const a=setInterval(()=>{const l=c();l.level>e.level&&(v(e.level),o(!0),setTimeout(()=>o(!1),5e3)),u(l)},1e3);return()=>clearInterval(a)},[e.level]);const r=t.useMemo(()=>L(e.totalXP),[e.totalXP]),s=t.useMemo(()=>X(r.level),[r.level]),n=t.useMemo(()=>{const a=s?M(e.totalXP,r.level):0,l=s?S(e.totalXP,r.level):100;return{currentLevel:r,nextLevel:s,currentXP:e.totalXP,xpForNext:a,progress:l}},[e.totalXP,r,s]),P=t.useMemo(()=>d(e.currentStreak),[e.currentStreak]),g=t.useCallback(a=>{f(a),u(c())},[]),k=t.useCallback(()=>{o(!1),v(null)},[]);return{currentLevel:r,nextLevel:s,levelProgress:n,totalXP:e.totalXP,xpForNext:n.xpForNext,progress:n.progress,currentStreak:e.currentStreak,longestStreak:e.longestStreak,streakMultiplier:P,showLevelUp:i,previousLevel:p,dismissLevelUp:k,addXP:g,metrics:e}}export{y as G,w as u};
