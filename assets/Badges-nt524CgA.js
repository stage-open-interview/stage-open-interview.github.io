import{am as K,an as Z,ao as q,ap as ee,aq as F,ar as te,r as f,as as Y,at as se,au as re,av as A,aw as ne,R as ae,v as oe,ax as ie,ay as le,az as ce,G as de,ah as G,ae as W,Z as me,w as ue,B as ge,T as O,D as pe,C as xe,F as X,aA as N,j as e,m as b,u as fe,s as he,g as ye,aB as be,aC as je,aj as ve,aD as we,aE as B,p as Ne,A as ke,X as Ce,i as Se,S as Me}from"./index-aMHhEiH7.js";import{S as Ee}from"./SEOHead-CK4C62cZ.js";import{A as Ae}from"./AppLayout-2IMbN3Fj.js";import{L as _}from"./lock-ADH-bjz6.js";import{c as U,g as Be}from"./data-DLpQuJC7.js";import{T as J}from"./target-CbVA3XUQ.js";import"./mic-BiEvLG-S.js";import"./UnifiedSearch-C6F5mgVR.js";import"./coding-challenges-DYXDsD3a.js";import"./tag-gK-D8r71.js";import"./arrow-right-CaWzFuHn.js";import"./loader-circle-ykXWKNoB.js";import"./chevron-left-_a6bETaq.js";import"./chart-column-BsUHzvGI.js";import"./user-CpqXo1AX.js";import"./code-Cfc0ecUX.js";function De(...r){const n=!Array.isArray(r[0]),o=n?0:-1,i=r[0+o],t=r[1+o],d=r[2+o],c=r[3+o],h=K(t,d,c);return n?h(i):h}function Le(r,n,o){const i=r.get();let t=null,d=i,c;const h=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,u=()=>{t&&(t.stop(),t=null)},a=()=>{u(),t=new ee({keyframes:[$(r.get()),$(d)],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:c})};if(r.attach((p,g)=>{d=p,c=m=>g(T(m,h)),Z.postRender(a)},u),q(n)){const p=n.on("change",m=>r.set(T(m,h))),g=r.on("destroy",p);return()=>{p(),g()}}return u}function T(r,n){return n?r+n:r}function $(r){return typeof r=="number"?r:parseFloat(r)}function E(r){const n=F(()=>te(r)),{isStatic:o}=f.useContext(Y);if(o){const[,i]=f.useState(r);f.useEffect(()=>n.on("change",i),[])}return n}function Q(r,n){const o=E(n()),i=()=>o.set(n());return i(),se(()=>{const t=()=>Z.preRender(i,!1,!0),d=r.map(c=>c.on("change",t));return()=>{d.forEach(c=>c()),re(i)}}),o}function Oe(r){A.current=[],r();const n=Q(A.current,r);return A.current=void 0,n}function L(r,n,o,i){if(typeof r=="function")return Oe(r);const t=typeof n=="function"?n:De(n,o,i);return Array.isArray(r)?z(r,t):z([r],([d])=>t(d))}function z(r,n){const o=F(()=>[]);return Q(r,()=>{o.length=0;const i=r.length;for(let t=0;t<i;t++)o[t]=r[t].get();return n(o)})}function V(r,n={}){const{isStatic:o}=f.useContext(Y),i=()=>q(r)?r.get():r;if(o)return L(i);const t=E(i());return f.useInsertionEffect(()=>Le(t,r,n),[t,JSON.stringify(n)]),t}const Pe={flame:X,"check-circle":xe,award:pe,trophy:O,"book-open":ge,"trending-up":ue,zap:me,star:W,compass:G,globe:de,medal:ce,sunrise:le,moon:ie,calendar:oe,rocket:ae,crown:ne};function D({progress:r,size:n="md",showProgress:o=!0,onClick:i}){const{badge:t,current:d,isUnlocked:c,progress:h}=r,a={sm:{ring:44,stroke:3,icon:16,font:"9px",inner:30},md:{ring:56,stroke:3,icon:20,font:"10px",inner:38},lg:{ring:80,stroke:4,icon:32,font:"12px",inner:56}}[n],p=(a.ring-a.stroke)/2,g=p*2*Math.PI,m=g-h/100*g,k=Pe[t.icon]||W,y=N(t.tier);return e.jsxs("div",{className:`flex flex-col items-center ${i?"cursor-pointer active:scale-95 transition-transform":""}`,onClick:i,style:{width:a.ring},children:[e.jsxs("div",{className:"relative",style:{width:a.ring,height:a.ring},children:[e.jsxs("svg",{width:a.ring,height:a.ring,className:"transform -rotate-90",style:{position:"absolute",top:0,left:0},children:[e.jsx("circle",{cx:a.ring/2,cy:a.ring/2,r:p,fill:"none",stroke:"currentColor",strokeWidth:a.stroke,className:"text-muted/30"}),e.jsx(b.circle,{cx:a.ring/2,cy:a.ring/2,r:p,fill:"none",stroke:c?y:"hsl(var(--muted-foreground))",strokeWidth:a.stroke,strokeLinecap:"round",strokeDasharray:g,initial:{strokeDashoffset:g},animate:{strokeDashoffset:m},transition:{duration:1,ease:"easeOut",delay:.2},style:{opacity:c?1:.4}})]}),e.jsx("div",{className:`
            absolute rounded-full flex items-center justify-center
            ${c?`bg-gradient-to-br ${t.gradient} shadow-md`:"bg-muted/40"}
          `,style:{width:a.inner,height:a.inner,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:c?e.jsx(k,{className:"text-white",style:{width:a.icon,height:a.icon}}):e.jsx(_,{className:"text-muted-foreground/60",style:{width:a.icon,height:a.icon}})})]}),n!=="sm"&&e.jsx("span",{className:`mt-1.5 text-center font-medium leading-tight line-clamp-2 ${c?"text-foreground":"text-muted-foreground"}`,style:{fontSize:a.font,width:a.ring+16,maxWidth:a.ring+16},children:t.name}),o&&!c&&n!=="sm"&&e.jsxs("span",{className:"text-muted-foreground mt-0.5",style:{fontSize:"9px"},children:[d,"/",t.requirement]})]})}const I={streak:e.jsx(X,{className:"w-4 h-4"}),completion:e.jsx(J,{className:"w-4 h-4"}),mastery:e.jsx(O,{className:"w-4 h-4"}),explorer:e.jsx(G,{className:"w-4 h-4"}),special:e.jsx(Me,{className:"w-4 h-4"})};function Ue({children:r,className:n}){const o=f.useRef(null),i=E(0),t=E(0),d={damping:20,stiffness:300},c=V(L(t,[-.5,.5],[8,-8]),d),h=V(L(i,[-.5,.5],[-8,8]),d),u=(m,k)=>{if(!o.current)return;const y=o.current.getBoundingClientRect(),s=y.left+y.width/2,l=y.top+y.height/2;i.set((m-s)/y.width),t.set((k-l)/y.height)},a=m=>u(m.clientX,m.clientY),p=m=>{m.touches[0]&&u(m.touches[0].clientX,m.touches[0].clientY)},g=()=>{i.set(0),t.set(0)};return e.jsx(b.div,{ref:o,style:{rotateX:c,rotateY:h,transformStyle:"preserve-3d",perspective:1e3},onMouseMove:a,onTouchMove:p,onMouseLeave:g,onTouchEnd:g,className:n,children:r})}const R=["bronze","silver","gold","platinum","diamond"];function He(){const[r,n]=fe(),[o,i]=f.useState(null),[t,d]=f.useState(null),{stats:c}=he(),h=()=>{window.history.length>1?window.history.back():n("/")},u=f.useMemo(()=>{ye();const s=new Set,l=[],x=[],j={beginner:0,intermediate:0,advanced:0};U.forEach(v=>{const w=be(v.id),C=localStorage.getItem(`progress-${v.id}`),S=C?new Set(JSON.parse(C)):new Set;Array.from(S).forEach(M=>s.add(M)),S.size>0&&l.push(v.id),w.length>0&&x.push(Math.min(100,Math.round(S.size/w.length*100))),w.forEach(M=>{if(S.has(M.id)){const H=Be(M);j[H]++}})});let P=0;for(let v=0;v<365;v++){const w=new Date;if(w.setDate(w.getDate()-v),c.find(C=>C.date===w.toISOString().split("T")[0]))P++;else break}return{totalCompleted:s.size,streak:P,channelsExplored:l,difficultyStats:j,channelCompletionPcts:x,totalChannels:U.length}},[c]),a=f.useMemo(()=>je(u.totalCompleted,u.streak,u.channelsExplored,u.difficultyStats,u.channelCompletionPcts,u.totalChannels),[u]),p=f.useMemo(()=>{const s={};return a.forEach(l=>{s[l.badge.category]||(s[l.badge.category]=[]),s[l.badge.category].push(l)}),Object.keys(s).forEach(l=>{s[l].sort((x,j)=>R.indexOf(x.badge.tier)-R.indexOf(j.badge.tier))}),s},[a]),g=a.filter(s=>s.isUnlocked).length,m=we.length,k=Math.round(g/m*100);f.useEffect(()=>{const s=l=>{l.key==="Escape"&&(t?d(null):h())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]);const y=["streak","completion","mastery","explorer","special"];return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{title:"Achievement Badges - Track Your Interview Prep Progress | Code Reels",description:"Earn badges as you master technical interview questions. Track your streaks, completion milestones, and explore different topics to unlock achievements.",keywords:"achievement badges, gamification, interview prep progress, study streaks, learning milestones",canonical:"https://open-interview.github.io/badges"}),e.jsx(Ae,{title:"Badges",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-bold",children:"Your Collection"})]}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:[g,"/",m]})]}),e.jsx("div",{className:"h-2 bg-muted/30 rounded-full overflow-hidden mb-2",children:e.jsx(b.div,{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full",initial:{width:0},animate:{width:`${k}%`},transition:{duration:1,ease:"easeOut"}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:[k,"% Complete"]}),e.jsxs("span",{children:[m-g," badges remaining"]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx("button",{onClick:()=>i(null),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex-shrink-0
                ${o?"bg-muted/50 hover:bg-muted":"bg-primary text-primary-foreground"}`,children:"All"}),y.map(s=>{const l=p[s]||[],x=l.filter(j=>j.isUnlocked).length;return e.jsxs("button",{onClick:()=>i(s),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex items-center gap-1.5 flex-shrink-0
                    ${o===s?"bg-primary text-primary-foreground":"bg-muted/50 hover:bg-muted"}`,children:[I[s],e.jsx("span",{children:B(s)}),e.jsxs("span",{className:"opacity-70 text-[10px]",children:[x,"/",l.length]})]},s)})]}),e.jsx("div",{className:"space-y-6",children:y.filter(s=>!o||o===s).map(s=>{const l=p[s]||[];return l.length===0?null:e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 rounded bg-primary/10 text-primary",children:I[s]}),e.jsx("span",{className:"font-bold uppercase text-sm",children:B(s)}),e.jsxs("span",{className:"text-[10px] text-muted-foreground ml-auto",children:[l.filter(x=>x.isUnlocked).length,"/",l.length]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:l.map((x,j)=>e.jsx(b.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:j*.03},className:"flex justify-center",children:e.jsx(D,{progress:x,size:"md",onClick:()=>d(x)})},x.badge.id))})]},s)})}),e.jsxs(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"border border-border p-4 bg-card rounded-lg mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-bold uppercase text-sm",children:"Next Up"})]}),e.jsxs("div",{className:"space-y-3",children:[a.filter(s=>!s.isUnlocked&&s.progress>0).sort((s,l)=>l.progress-s.progress).slice(0,3).map((s,l)=>e.jsxs(b.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+l*.1},className:"flex items-center gap-3 p-2 bg-muted/10 rounded cursor-pointer hover:bg-muted/20 transition-colors",onClick:()=>d(s),children:[e.jsx(D,{progress:s,size:"sm",showProgress:!1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold",children:s.badge.name}),e.jsx("div",{className:"h-1.5 bg-muted/30 rounded-full overflow-hidden mt-1",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${s.progress}%`,backgroundColor:N(s.badge.tier)}})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-bold",style:{color:N(s.badge.tier)},children:[Math.round(s.progress),"%"]}),e.jsxs("div",{className:"text-[9px] text-muted-foreground",children:[s.current,"/",s.badge.requirement]})]}),e.jsx(Ne,{className:"w-4 h-4 text-muted-foreground"})]},s.badge.id)),a.filter(s=>!s.isUnlocked&&s.progress>0).length===0&&e.jsx("div",{className:"text-center text-muted-foreground text-sm py-4",children:"Complete some questions to start earning badges!"})]})]})]})}),ve.createPortal(e.jsx(ke,{children:t&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,perspective:1e3},onClick:()=>d(null),children:e.jsx(Ue,{className:"relative",children:e.jsxs(b.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-card border border-border rounded-2xl p-6 max-w-xs w-full shadow-2xl",style:{transformStyle:"preserve-3d"},onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:()=>d(null),className:"absolute top-4 left-4 p-2 hover:bg-muted rounded-full transition-colors",style:{transform:"translateZ(20px)"},children:e.jsx(Ce,{className:"w-4 h-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex flex-col items-center text-center pt-2",children:[e.jsx("div",{className:`relative ${t.isUnlocked?"drop-shadow-[0_0_25px_rgba(var(--primary-rgb),0.4)]":""}`,style:{transform:"translateZ(40px)"},children:e.jsx(D,{progress:t,size:"lg",showProgress:!1})}),e.jsx("h3",{className:"text-xl font-bold mt-4 tracking-tight",style:{transform:"translateZ(25px)"},children:t.badge.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",style:{transform:"translateZ(15px)"},children:t.badge.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",style:{transform:"translateZ(20px)"},children:[e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-bold tracking-wide",style:{backgroundColor:`${N(t.badge.tier)}15`,color:N(t.badge.tier),border:`1px solid ${N(t.badge.tier)}30`},children:t.badge.tier}),e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-medium tracking-wide bg-muted/50 text-muted-foreground",children:B(t.badge.category)})]}),e.jsxs("div",{className:"w-full mt-6 p-4 bg-muted/20 rounded-xl",style:{transform:"translateZ(5px)"},children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"font-bold",children:[t.current,"/",t.badge.requirement," ",t.badge.unit]})]}),e.jsx("div",{className:"h-2.5 bg-muted/40 rounded-full overflow-hidden",children:e.jsx(b.div,{className:"h-full rounded-full",style:{backgroundColor:N(t.badge.tier)},initial:{width:0},animate:{width:`${Math.min(t.progress,100)}%`},transition:{duration:.6,ease:"easeOut"}})})]}),e.jsx("div",{className:"mt-5 w-full",style:{transform:"translateZ(10px)"},children:t.isUnlocked?e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-green-500/10 rounded-xl border border-green-500/20",children:[e.jsx(Se,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-500",children:["Unlocked ",t.unlockedAt?new Date(t.unlockedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"/"):"recently"]})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-muted/30 rounded-xl",children:[e.jsx(_,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.badge.requirement-t.current," ",t.badge.unit," to unlock"]})]})})]})]})})})}),document.body)]})}export{He as default};
