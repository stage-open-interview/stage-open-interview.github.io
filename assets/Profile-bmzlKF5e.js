import{u as O,q as R,s as D,n as L,r as h,j as e,m as c,F as $,v as z,w as I,T as F,p as P,o as Q,B as W,Z as q}from"./index-faLIglmY.js";import{A as G}from"./AppLayout-BaHBybih.js";import{u as H}from"./use-stats-D4PFjHDY.js";import{u as Z,L as _,G as K}from"./LevelDisplay-CaJMxjZa.js";import{S as J}from"./SEOHead-CJNewva4.js";import"./Button-CVFWSHM_.js";import{M as S}from"./MetricCard-BUVRbSEY.js";import{i as Y,g as X,a as ee,b as se,s as te,c as ae,d as re,e as ne}from"./text-to-speech-JKTbiyjG.js";import{C as ie}from"./code-DO2WKAWs.js";import{T}from"./target-BhhmmOT0.js";import{S as le}from"./shuffle-B-hMsSo0.js";import{E as oe}from"./eye-21qWZ9y-.js";import{B as ce}from"./bell-DbOQUhFU.js";import{C as de,H as me}from"./trending-down-eG31q2Bf.js";import{M as xe}from"./mic-DsMeVt7g.js";import{B as ue}from"./tag-VOz2J4Nd.js";import{V as he}from"./volume-2-CIIjos8i.js";import{P as pe}from"./play-BE_UU2bn.js";import"./UnifiedSearch-DMzGUmQe.js";import"./coding-challenges-mtj3LT4o.js";import"./arrow-right-BnSNWgiT.js";import"./loader-circle-DWU0uMoQ.js";import"./chevron-left-Ba11u_Et.js";import"./chart-column-7LbTd95v.js";import"./user-CiwPOvN3.js";function Qe(){const[,r]=O(),{stats:o}=H(),{getSubscribedChannels:d,preferences:n,toggleShuffleQuestions:p,togglePrioritizeUnvisited:y}=R(),{stats:m}=D(),{balance:b,state:v,history:w,onRedeemCoupon:C,formatCredits:g,config:f}=L(),s=Z(),t=d(),[l,i]=h.useState(""),[j,E]=h.useState(null),A=o.reduce((a,x)=>a+x.total,0),k=t.reduce((a,x)=>{const N=JSON.parse(localStorage.getItem(`progress-${x.id}`)||"[]");return a+N.length},0),U=(()=>{let a=0;for(let x=0;x<365;x++){const N=new Date;if(N.setDate(N.getDate()-x),m.find(B=>B.date===N.toISOString().split("T")[0]))a++;else break}return a})(),V=m.length;return e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Profile - Code Reels",description:"View your learning progress and achievements"}),e.jsx(G,{title:"Profile",showBackOnMobile:!0,children:e.jsx("div",{className:"max-w-6xl mx-auto pb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border overflow-hidden",children:e.jsx("div",{className:"p-4",children:e.jsx(_,{...s.levelProgress,currentStreak:s.currentStreak,streakMultiplier:s.streakMultiplier,variant:"card"})})}),e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"h-24 lg:h-32 bg-gradient-to-r from-primary via-primary/80 to-primary/60"}),e.jsxs("div",{className:"px-4 pb-4 -mt-12",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-card border-4 border-card flex items-center justify-center shadow-lg",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center",children:e.jsx(ie,{className:"w-10 h-10 text-primary-foreground"})})}),e.jsx("h1",{className:"text-xl lg:text-2xl font-bold mt-3",children:"Interview Prep"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mastering technical interviews"}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:k}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"completed"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:t.length}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"topics"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:V}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"days"})]})]})]})]}),e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3",children:[e.jsx(S,{icon:e.jsx($,{className:"w-5 h-5"}),value:U.toString(),label:"Day Streak",variant:"warning",size:"md"}),e.jsx(S,{icon:e.jsx(T,{className:"w-5 h-5"}),value:`${Math.round(k/A*100)||0}%`,label:"Progress",variant:"success",size:"md"}),e.jsx(S,{icon:e.jsx(z,{className:"w-5 h-5"}),value:V.toString(),label:"Days Active",variant:"info",size:"md"}),e.jsx(S,{icon:e.jsx(I,{className:"w-5 h-5"}),value:k.toString(),label:"Questions Done",variant:"default",size:"md"})]}),e.jsx(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:e.jsxs("button",{onClick:()=>r("/badges"),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:e.jsx(F,{className:"w-5 h-5 text-yellow-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold",children:"Achievements"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View your badges"})]})]}),e.jsx(P,{className:"w-5 h-5 text-muted-foreground"})]})}),e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Settings"})}),e.jsxs("div",{className:"divide-y divide-border/50",children:[e.jsx(M,{icon:e.jsx(le,{className:"w-5 h-5"}),label:"Shuffle Questions",sublabel:"Randomize question order",enabled:n.shuffleQuestions!==!1,onToggle:p}),e.jsx(M,{icon:e.jsx(oe,{className:"w-5 h-5"}),label:"Unvisited First",sublabel:"Show new questions first",enabled:n.prioritizeUnvisited!==!1,onToggle:y}),e.jsx(u,{icon:e.jsx(ce,{className:"w-5 h-5"}),label:"Notifications",sublabel:"View all alerts",onClick:()=>r("/notifications")}),e.jsx(u,{icon:e.jsx(de,{className:"w-5 h-5"}),label:"About",sublabel:"App information",onClick:()=>r("/about")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 rounded-2xl border border-amber-500/20 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:e.jsx(Q,{className:"w-6 h-6 text-amber-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[g(b)," Credits"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earned: ",g(v.totalEarned)," Â· Spent: ",g(v.totalSpent)]})]})]})}),e.jsxs("div",{className:"bg-black/10 rounded-lg p-3 mb-4",children:[e.jsxs("h4",{className:"text-xs font-semibold text-amber-400 mb-2 flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"})," Earn Credits"]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Voice interview attempt"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_ATTEMPT]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successful interview (hire)"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_SUCCESS_BONUS," bonus"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"View question"}),e.jsxs("span",{className:"text-red-400",children:["-",f.QUESTION_VIEW_COST]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"})," Redeem Coupon"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:a=>i(a.target.value.toUpperCase()),placeholder:"Enter code",className:"flex-1 px-3 py-2 bg-black/20 border border-border rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-amber-500"}),e.jsx("button",{onClick:()=>{if(!l.trim())return;const a=C(l);E({type:a.success?"success":"error",text:a.message}),a.success&&i(""),setTimeout(()=>E(null),3e3)},className:"px-4 py-2 bg-amber-500 text-white text-sm font-bold rounded-lg hover:bg-amber-600 transition-colors",children:"Apply"})]}),j&&e.jsx("p",{className:`text-xs mt-2 ${j.type==="success"?"text-green-400":"text-red-400"}`,children:j.text})]}),w.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-500/20",children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3"})," Recent Activity"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:w.slice(0,5).map(a=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.description}),e.jsxs("span",{className:a.amount>0?"text-green-400":"text-red-400",children:[a.amount>0?"+":"",a.amount]})]},a.id))})]})]}),e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx(u,{icon:e.jsx(ue,{className:"w-5 h-5"}),label:"Bookmarks",sublabel:"Saved questions",onClick:()=>r("/bookmarks")}),e.jsx(u,{icon:e.jsx(W,{className:"w-5 h-5"}),label:"My Channels",sublabel:`${t.length} subscribed`,onClick:()=>r("/channels")}),e.jsx(u,{icon:e.jsx(q,{className:"w-5 h-5"}),label:"Coding Challenges",sublabel:"Practice coding",onClick:()=>r("/coding")}),e.jsx(u,{icon:e.jsx(T,{className:"w-5 h-5"}),label:"Mock Tests",sublabel:"Test your knowledge",onClick:()=>r("/tests")}),e.jsx(u,{icon:e.jsx(I,{className:"w-5 h-5"}),label:"Statistics",sublabel:"View detailed stats",onClick:()=>r("/stats")})]}),Y()&&e.jsxs(c.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border/50 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Voice Settings"})]}),e.jsx(be,{})]})]})]})})})]})}function u({icon:r,label:o,sublabel:d,onClick:n}){return e.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:o}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d})]})]}),e.jsx(P,{className:"w-5 h-5 text-muted-foreground pointer-events-none"})]})}function M({icon:r,label:o,sublabel:d,enabled:n,onToggle:p}){return e.jsxs("button",{type:"button",onClick:p,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:n?"text-primary":"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:o}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d})]})]}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-colors relative ${n?"bg-primary":"bg-muted"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})}function be(){const[r,o]=h.useState([]),[d,n]=h.useState(""),[p,y]=h.useState(.9),[m,b]=h.useState(!1);h.useEffect(()=>{const s=()=>{const t=ee();o(t);const l=se();if(l&&t.find(i=>i.name===l))n(l);else if(t.length>0){const i=t.find(j=>j.lang.startsWith("en"));n(i?.name||t[0].name)}};s(),y(X()),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=s)},[]);const v=s=>{n(s),te(s)},w=s=>{y(s),ae(s)},C=()=>{if(m){re(),b(!1);return}b(!0),ne("Hello! This is how I will read the answers for you. You can adjust the speed using the slider below.",{onEnd:()=>b(!1),onError:()=>b(!1)})},g=r.reduce((s,t)=>{const l=t.lang,i=ge(l);return s[i]||(s[i]=[]),s[i].push(t),s},{}),f=Object.keys(g).sort((s,t)=>s.startsWith("English")&&!t.startsWith("English")?-1:!s.startsWith("English")&&t.startsWith("English")?1:s.localeCompare(t));return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Voice"}),e.jsx("select",{value:d,onChange:s=>v(s.target.value),className:"w-full px-3 py-2.5 bg-muted/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:f.map(s=>e.jsx("optgroup",{label:s,children:g[s].map(t=>e.jsx("option",{value:t.name,children:t.name},t.name))},s))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Speed"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:p,onChange:s=>w(parseFloat(s.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-1",children:[e.jsx("span",{children:"Slower"}),e.jsx("span",{children:"Faster"})]})]}),e.jsxs("button",{onClick:C,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-colors ${m?"bg-primary text-primary-foreground":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:[e.jsx(pe,{className:`w-4 h-4 ${m?"animate-pulse":""}`}),m?"Playing...":"Test Voice"]})]})}function ge(r){return{"en-US":"English (US)","en-GB":"English (UK)","en-AU":"English (Australia)","en-IN":"English (India)","en-ZA":"English (South Africa)","en-IE":"English (Ireland)","en-NZ":"English (New Zealand)",en:"English","hi-IN":"Hindi","ta-IN":"Tamil","te-IN":"Telugu","mr-IN":"Marathi","bn-IN":"Bengali","gu-IN":"Gujarati","kn-IN":"Kannada","ml-IN":"Malayalam","pa-IN":"Punjabi"}[r]||r}export{Qe as default};
