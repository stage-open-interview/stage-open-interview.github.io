import{r as h,B as Te,j as e,m as x,s as $e,A as V,u as Ie,t as Le,k as Re,b as Ae,v as De,w as Ee,x as Be,y as He,S as Qe,X as Me,Z as Fe}from"./index-D0xwtbAr.js";import{g as Pe}from"./data-CTR4Rz6N.js";import{u as _e,a as Ve,b as Oe,S as Ue,V as Ge}from"./VoiceReminder-CMuMY34v.js";import{S as We}from"./SEOHead-ntbT5BRP.js";import{U as ze,F as Ke}from"./UnifiedSearch-D9XA5TIn.js";import{bF as oe}from"./EnhancedMermaid-CwxTmz3Q.js";import{S as qe,G as Ze,Y as Je,B as Xe,g as Ye,a as et,r as tt,b as ce,c as st,Q as at}from"./spaced-repetition-XsVPJds4.js";import{M as rt,r as lt,h as nt,v as it}from"./index--ICM4PbD.js";import{B as ot,u as ct,a as de,C as dt}from"./use-unified-toast-5BD6N9MA.js";import{T as xt,C as mt,G as ht,B as xe}from"./tag-CnKEepch.js";import{E as ft}from"./external-link-D_79bOwz.js";import{F as ut}from"./file-text-DOyP7RM-.js";import{C as _}from"./check-D3NRcCye.js";import{C as pt}from"./copy-C3HusHLe.js";import{L as te}from"./lightbulb-Djl9Uuda.js";import{C as bt}from"./chevron-down-DyqiPfCB.js";import{P as gt}from"./play-BM_ErR4M.js";import{R as wt}from"./rotate-ccw-BzssUQ2Z.js";import{B as se}from"./sparkles-CvddbY9g.js";import"./clock-mOncZO66.js";import"./message-circle-Cu7CJ4hv.js";import"./flag-Dv5WwwMQ.js";function jt(t){if(!t)return"";let s=t;const u=[];s=s.replace(/```[\s\S]*?```/g,o=>(u.push(o),`__CODE_BLOCK_${u.length-1}__`)),s=s.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),s=s.replace(/^[â€¢Â·]\s*/gm,"- ");const a=s.split(`
`),m=[];let f=!1;for(let o=0;o<a.length;o++){let i=a[o];const c=i.trim();if(/^-\s+\*\*[^*]+:\*\*\s*$/.test(c)||/^\*\*[^*]+:\*\*\s*$/.test(c)){f=!0,m.push(i);continue}if(f&&/^-\s+/.test(c)){m.push("  "+c);continue}f&&(!c||!/^-\s+/.test(c))&&(f=!1);const g=(i.match(/\*\*/g)||[]).length;g%2===1&&(c.startsWith("**")&&g===1?i=i.replace(/^\s*\*\*\s*/,""):c.endsWith("**")&&g===1&&(i=i.replace(/\s*\*\*\s*$/,""))),m.push(i)}return s=m.join(`
`),s=s.replace(/\n{3,}/g,`

`),s=s.replace(/^\n+/,""),u.forEach((o,i)=>{s=s.replace(`__CODE_BLOCK_${i}__`,o)}),s}function ae(t){if(!t||typeof t!="string")return!1;const s=t.trim();if(!s||s.length<10)return!1;const u=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],a=s.split(`
`)[0].toLowerCase().trim();if(!u.some(i=>a.startsWith(i.toLowerCase())))return!1;const f=s.split(`
`).filter(i=>{const c=i.trim().toLowerCase();return c&&!c.startsWith("%%")&&!u.some(l=>c.startsWith(l.toLowerCase()))});if(f.length<3)return!1;const o=s.toLowerCase();return!(o.includes("start")&&o.includes("end")&&f.length<=3||o.match(/\bstart\b/g)?.length===1&&o.match(/\bend\b/g)?.length===1&&f.length<=2)}function re(t){return t?t.split(/`([^`]+)`/g).map((u,a)=>a%2===1?e.jsx("code",{className:"px-2 py-1 mx-1 bg-[#00ff88]/20 text-[#00ff88] rounded-lg text-[0.9em] font-mono border border-primary/30",children:u},a):u):null}function vt({code:t,language:s}){const[u,a]=h.useState(!1),m=async()=>{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)};return e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden border border-white/10 bg-white/5 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-white/3 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(mt,{className:"w-5 h-5 text-[#00ff88]"}),e.jsx("span",{className:"text-sm uppercase tracking-wider text-[#00ff88] font-bold",children:s||"code"})]}),e.jsx(x.button,{onClick:m,className:"flex items-center gap-2 px-4 py-2 text-xs text-[#a0a0a0] hover:text-white hover:bg-white/3/50 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:u?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(nt,{language:s||"text",style:it,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.875rem",lineHeight:"1.6"},wrapLines:!0,wrapLongLines:!0,children:t})]})}function Nt({question:t,hasTldr:s,hasDiagram:u,hasEli5:a,hasVideo:m}){const[f,o]=h.useState(null),i=u&&f!==!1,c=[];s&&c.push("tldr"),i&&c.push("diagram"),a&&c.push("eli5"),m&&c.push("video");const[l,g]=h.useState(()=>s?"tldr":a?"eli5":m?"video":"diagram");h.useEffect(()=>{f===!1&&l==="diagram"&&(s?g("tldr"):a?g("eli5"):m&&g("video"))},[f,l,s,a,m]);const y=h.useCallback(w=>{o(w)},[]);if(c.length===0&&f===!1)return null;if(c.length===0&&!s&&!a&&!m&&f===null)return e.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 text-center text-[#a0a0a0] text-sm backdrop-blur-xl",children:"Loading media..."});if(c.length===0)return null;const k={tldr:{label:"Quick Answer",icon:e.jsx(te,{className:"w-4 h-4"})},diagram:{label:"Visual",icon:e.jsx(ht,{className:"w-4 h-4"})},eli5:{label:"Simple",icon:e.jsx(Xe,{className:"w-4 h-4"})},video:{label:"Video",icon:e.jsx(gt,{className:"w-4 h-4"})}};return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl overflow-hidden shadow-xl",children:[e.jsx("div",{className:"flex border-b border-white/10 bg-white/3/30",children:c.map(w=>e.jsxs(x.button,{onClick:()=>g(w),className:`flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-bold transition-all relative ${l===w?"text-[#00ff88] bg-[#00ff88]/10":"text-[#a0a0a0] hover:text-white hover:bg-white/3/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[k[w].icon,e.jsx("span",{className:"hidden sm:inline",children:k[w].label}),l===w&&e.jsx(x.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-[#00ff88]"})]},w))}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs(V,{mode:"wait",children:[l==="tldr"&&s&&e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx(te,{className:"w-6 h-6 text-[#00ff88] shrink-0 mt-1"}),e.jsx("p",{className:"text-sm sm:text-base text-white leading-relaxed",children:re(t.answer)})]},"tldr"),l==="diagram"&&u&&e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(oe,{chart:t.diagram,onRenderResult:y})},"diagram"),l==="eli5"&&a&&e.jsxs(x.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm sm:text-base text-white leading-relaxed",children:re(t.eli5||"")})]},"eli5"),l==="video"&&m&&e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(Je,{shortVideo:t.videos?.shortVideo,longVideo:t.videos?.longVideo})},"video")]})})]})}function yt({title:t,icon:s,children:u,defaultExpanded:a=!0,variant:m="default",badge:f}){const[o,i]=h.useState(a),c={default:"bg-white/5 border-white/10",highlight:"bg-[#00ff88]/10 border-primary/30",success:"bg-green-500/10 border-green-500/30",purple:"bg-purple-500/10 border-purple-500/30"},l={default:"text-[#a0a0a0]",highlight:"text-[#00ff88]",success:"text-green-500",purple:"text-purple-500"};return e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border overflow-hidden backdrop-blur-xl ${c[m]}`,children:[e.jsxs(x.button,{onClick:()=>i(!o),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-white/3/30 transition-colors",whileHover:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:l[m],children:s}),e.jsx("span",{className:"font-bold text-base text-white",children:t}),f&&e.jsx("span",{className:"px-2 py-1 bg-[#00ff88]/20 text-[#00ff88] text-xs font-bold rounded-full border border-primary/30",children:f})]}),e.jsx(x.div,{animate:{rotate:o?0:-90},transition:{duration:.2},children:e.jsx(bt,{className:"w-5 h-5 text-[#a0a0a0]"})})]}),e.jsx(V,{initial:!1,children:o&&e.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:u})})})]})}function le({question:t,isCompleted:s}){const u=h.useRef(null),a=typeof window<"u"&&window.innerWidth<640,[m,f]=h.useState(null);h.useEffect(()=>{Te.getByQuestionId(t.id).then(f)},[t.id]);const o=!!t.answer,i=!a&&ae(t.diagram),c=!!t.eli5,l=!!(t.videos?.shortVideo||t.videos?.longVideo),g=o||i||c||l,y=h.useCallback(k=>{const w=jt(k);return e.jsx(rt,{remarkPlugins:[lt],components:{code({className:d,children:j}){const C=/language-(\w+)/.exec(d||""),p=C?C[1]:"",N=String(j).replace(/\n$/,"");return!C&&!String(j).includes(`
`)?e.jsx("code",{className:"px-2 py-1 bg-[#00ff88]/20 text-[#00ff88] rounded-lg text-[0.9em] font-mono border border-primary/30",children:j}):p==="mermaid"?ae(N)?e.jsx("div",{className:"my-4",children:e.jsx(oe,{chart:N})}):null:e.jsx("div",{className:"my-4",children:e.jsx(vt,{code:N,language:p})})},p({children:d}){return e.jsx("p",{className:"mb-3 leading-relaxed text-white text-sm sm:text-base",children:d})},h1({children:d}){return e.jsx("h1",{className:"text-lg sm:text-xl font-black mb-3 mt-6 text-white border-b border-white/10 pb-2",children:d})},h2({children:d}){return e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3 mt-5 text-white",children:d})},h3({children:d}){return e.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 mt-4 text-white",children:d})},strong({children:d}){return e.jsx("strong",{className:"font-bold text-white",children:d})},ul({children:d,node:j}){const p=j?.parent?.tagName==="li";return e.jsx("ul",{className:`space-y-2 mb-3 ${p?"ml-6 mt-2":"ml-2"}`,children:d})},ol({children:d,node:j}){const p=j?.parent?.tagName==="li";return e.jsx("ol",{className:`space-y-2 mb-3 [counter-reset:list-counter] ${p?"ml-6 mt-2":"ml-2"}`,children:d})},li({children:d,node:j}){const p=j?.parent?.tagName==="ol",N=Array.isArray(d)&&d.some(S=>S?.type?.name==="ul"||S?.type?.name==="ol");return e.jsxs("li",{className:`flex gap-3 text-white text-sm sm:text-base [counter-increment:list-counter] ${N?"flex-col":""}`,children:[e.jsx("span",{className:"shrink-0 text-[#00ff88] mt-1 font-bold",children:p?e.jsx("span",{className:"text-sm before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:N?"flex-1 -mt-7 ml-6":"flex-1",children:d})]})},a({href:d,children:j}){return e.jsx("a",{href:d,className:"text-[#00ff88] hover:text-[#00ff88]/80 underline",target:"_blank",rel:"noopener noreferrer",children:j})},blockquote({children:d}){return e.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-3 bg-[#00ff88]/5 text-[#a0a0a0] italic text-sm sm:text-base",children:d})},table({children:d}){return e.jsx("div",{className:"my-4 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-xs sm:text-sm",children:d})})},th({children:d}){return e.jsx("th",{className:"px-3 py-2 text-left font-bold bg-white/3 border border-white/10 text-xs sm:text-sm text-white",children:d})},td({children:d}){return e.jsx("td",{className:"px-3 py-2 border border-white/10 text-xs sm:text-sm text-white",children:d})}},children:w})},[]);return e.jsx(x.div,{ref:u,initial:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-muted/10 to-background",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-6 pb-32 space-y-6",children:[g&&e.jsx(Nt,{question:t,hasTldr:o,hasDiagram:i,hasEli5:c,hasVideo:l}),e.jsx(yt,{title:"Deep Dive Explanation",icon:e.jsx(ot,{className:"w-5 h-5"}),defaultExpanded:!0,badge:t.explanation?`${Math.ceil(t.explanation.split(" ").length/200)} min read`:void 0,children:e.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:y(t.explanation)})}),e.jsx("div",{className:"flex items-start gap-3 pt-2",children:t.tags&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"w-4 h-4 text-[#00ff88] mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(k=>e.jsx(x.span,{className:"px-3 py-1 bg-white/3 text-[#a0a0a0] text-xs font-mono rounded-lg border border-white/10 backdrop-blur-xl",whileHover:{scale:1.05,borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)"},children:$e(k)},k))})]})}),(t.sourceUrl||m)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.sourceUrl&&e.jsxs(x.a,{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/3 border border-white/10 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(ft,{className:"w-4 h-4 text-[#00ff88]"}),e.jsx("span",{className:"text-white font-medium",children:"Source"})]}),m&&e.jsxs(x.a,{href:`https://openstackdaily.github.io${m.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#00ff88]/10 hover:bg-[#00ff88]/20 border border-primary/30 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(ut,{className:"w-4 h-4 text-[#00ff88]"}),e.jsx("span",{className:"text-[#00ff88] font-medium",children:"Read Blog"})]})]}),e.jsx(qe,{questionId:t.id,currentChannel:t.channel}),e.jsx(Ze,{questionId:t.id})]})})}function zt(){const[t,s]=Ie(),[,u]=Le("/channel/:id/:questionId?"),a=u?.id,m=u?.questionId,o=new URLSearchParams(t.split("?")[1]||"").get("q"),i=o||m,c=Pe(a||""),{subChannels:l}=_e(a||""),g=c?{...c,subChannels:[{id:"all",name:"All Topics"},...l.map(n=>({id:n,name:n.split("-").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" ")}))]}:null,[y,k]=h.useState("all"),[w,d]=h.useState("all"),[j,C]=h.useState("all"),[p,N]=h.useState(0),[S,L]=h.useState(!1),[O,U]=h.useState(!1),[E,R]=h.useState("question"),[me,he]=h.useState(()=>{const n=localStorage.getItem(`marked-${a}`);return n?JSON.parse(n):[]}),[B,H]=h.useState(null),[G,Q]=h.useState(!1),[W,z]=h.useState(!1),{companiesWithCounts:fe}=Ve(a||"",y,w),{preferences:K,isSubscribed:ue,subscribeChannel:pe}=Re(),be=K.shuffleQuestions!==!1,ge=K.prioritizeUnvisited!==!1,{onQuestionSwipe:we,onQuestionView:je}=Ae(),{trackEvent:q}=De(),{completed:ve,markCompleted:Ne,saveLastVisitedIndex:ye}=Ee(a||""),{toast:I}=ct(),{question:r,questions:T,totalQuestions:v,loading:$,error:ke}=Oe(a||"",p,y,w,j,be,ge),[M,Z]=h.useState(!1);h.useEffect(()=>{if(!r)return;const n=Ye(r.id,r.channel,r.difficulty);H(n),Q(!1),z(!1)},[r]),h.useEffect(()=>{if(!($||T.length===0))if(i){const n=T.findIndex(b=>b.id===i);n>=0&&n!==p&&N(n),o&&s(`/channel/${a}/${i}`,{replace:!0}),Z(!0)}else T[0]&&!M&&(s(`/channel/${a}/${T[0].id}`,{replace:!0}),Z(!0))},[i,T.length,a,$,o]),h.useEffect(()=>{a&&g&&!ue(a)&&!$&&v>0&&T.length>0&&(pe(a),I({title:"Channel added",description:`${g.name} added to your channels`}))},[a,g,$,v,T.length]),h.useEffect(()=>{v>0&&p>=v&&N(0)},[v,p]),h.useEffect(()=>{!M||$||!a||!r||(r.id!==i&&s(`/channel/${a}/${r.id}`,{replace:!0}),ye(p))},[p,M]),h.useEffect(()=>{r&&(Be(r.id,r.channel,r.difficulty),Ne(r.id),He(),q({type:"question_completed",timestamp:new Date().toISOString(),data:{questionId:r.id,difficulty:r.difficulty,channel:r.channel}}))},[r?.id]),h.useEffect(()=>{const n=b=>{if((b.metaKey||b.ctrlKey)&&b.key==="k"){b.preventDefault(),L(!0);return}S||(b.key==="ArrowRight"||b.key==="ArrowDown"?(b.preventDefault(),J()):b.key==="ArrowLeft"||b.key==="ArrowUp"?(b.preventDefault(),X()):b.key==="Escape"&&s("/channels"))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[p,v,S]);const J=()=>{p<v-1&&(N(n=>n+1),R("question"),we(),je())},X=()=>{p>0&&(N(n=>n-1),R("question"))},F=()=>{r&&he(n=>{const b=n.includes(r.id)?n.filter(Se=>Se!==r.id):[...n,r.id];return localStorage.setItem(`marked-${a}`,JSON.stringify(b)),b})},Ce=async()=>{try{await navigator.clipboard.writeText(window.location.href),I({title:"Link copied!",description:"Question link copied to clipboard"})}catch{I({title:"Share",description:window.location.href})}},Y=()=>{if(!r)return;const n=et(r.id,r.channel,r.difficulty);H(n),Q(!0),I({title:"Added to SRS",description:"Question added to spaced repetition system"})},ee=n=>{if(!B||!r)return;const b=tt(r.id,r.channel,r.difficulty,n);H(b),z(!0),Q(!1),q({type:"srs_review",timestamp:new Date().toISOString(),data:{rating:n}}),I({title:"Review recorded",description:`Mastery: ${ce(b.masteryLevel)}`})};if($&&!r)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"â³"}),e.jsx("p",{className:"text-[#a0a0a0]",children:"Loading questions..."})]})});if(ke||!g)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Channel not found"}),e.jsxs("p",{className:"text-[#a0a0a0] mb-4",children:['The channel "',a,`" doesn't exist.`]}),e.jsx("button",{onClick:()=>s("/channels"),className:"px-6 py-3 bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black font-bold rounded-full",children:"Go to Channels"})]})});if(!$&&(!r||v===0)){const n=y!=="all"||w!=="all"||j!=="all";return e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[e.jsx(ne,{channel:g,onBack:()=>s("/channels"),onSearch:()=>L(!0),currentIndex:p,totalQuestions:v}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No questions found"}),e.jsx("p",{className:"text-[#a0a0a0] mb-4",children:n?"Try adjusting your filters.":"Check back soon for new content!"}),n&&e.jsx("button",{onClick:()=>{k("all"),d("all"),C("all")},className:"px-6 py-3 bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black font-bold rounded-full",children:"Reset Filters"})]})})]})}if(!r)return null;const A=me.includes(r.id),D=ve.includes(r.id),P=Math.round((p+1)/v*100);return e.jsxs(e.Fragment,{children:[e.jsx(We,{title:`${g.name} - ${r.question.substring(0,60)}...`,description:r.question,canonical:`https://open-interview.github.io/channel/${a}/${r.id}`}),e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[e.jsx(ne,{channel:g,onBack:()=>s("/channels"),onSearch:()=>L(!0),currentIndex:p,totalQuestions:v,progress:P,onToggleFilters:()=>U(!O),hasFilters:y!=="all"||w!=="all"||j!=="all"}),e.jsx(V,{children:O&&e.jsx(kt,{channel:g,selectedSubChannel:y,selectedDifficulty:w,selectedCompany:j,companiesWithCounts:fe,onSubChannelChange:n=>{k(n),N(0)},onDifficultyChange:n=>{d(n),N(0)},onCompanyChange:n=>{C(n),N(0)},onClose:()=>U(!1)})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"hidden lg:flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-1/2 border-r border-white/10 overflow-y-auto p-8",children:e.jsx(ie,{question:r,questionNumber:p+1,totalQuestions:v,isMarked:A,isCompleted:D,srsCard:B,showRatingButtons:G,hasRated:W,onAddToSRS:Y,onSRSRating:ee,onToggleMark:F})}),e.jsx("div",{className:"w-1/2 overflow-y-auto p-8 bg-white/[0.02]",children:e.jsx(le,{question:r,isCompleted:D})})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:hidden overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-white/10 bg-black",children:[e.jsx("button",{onClick:()=>R("question"),className:`flex-1 py-4 text-sm font-bold transition-colors ${E==="question"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#666]"}`,children:"Question"}),e.jsx("button",{onClick:()=>R("answer"),className:`flex-1 py-4 text-sm font-bold transition-colors ${E==="answer"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#666]"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:E==="question"?e.jsx(ie,{question:r,questionNumber:p+1,totalQuestions:v,isMarked:A,isCompleted:D,srsCard:B,showRatingButtons:G,hasRated:W,onAddToSRS:Y,onSRSRating:ee,onToggleMark:F}):e.jsx(le,{question:r,isCompleted:D})})]})]}),e.jsx("div",{className:"border-t border-white/10 bg-black/95 backdrop-blur-xl p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsx(x.button,{onClick:X,disabled:p===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white/5 rounded-full disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:e.jsx(de,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-bold text-[#00ff88]",children:[p+1," / ",v]}),e.jsx("div",{className:"flex-1 h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-[#00ff88] to-[#00d4ff]",initial:{width:0},animate:{width:`${P}%`},transition:{duration:.3}})}),e.jsxs("span",{className:"text-sm font-bold",children:[P,"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x.button,{onClick:F,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-3 rounded-full transition-colors ${A?"bg-gradient-to-r from-[#ffd700] to-[#ff8c00] text-black":"bg-white/5 hover:bg-white/10"}`,children:e.jsx(xe,{className:"w-5 h-5",fill:A?"currentColor":"none"})}),e.jsx(x.button,{onClick:Ce,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(Ue,{className:"w-5 h-5"})})]}),e.jsx(x.button,{onClick:J,disabled:p===v-1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black rounded-full disabled:opacity-30 disabled:cursor-not-allowed font-bold",children:e.jsx(dt,{className:"w-5 h-5"})})]})})]}),e.jsx(ze,{isOpen:S,onClose:()=>L(!1)}),e.jsx(Ge,{})]})}function ne({channel:t,onBack:s,onSearch:u,currentIndex:a,totalQuestions:m,progress:f,onToggleFilters:o,hasFilters:i}){return e.jsx("header",{className:"border-b border-white/10 bg-black/95 backdrop-blur-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(de,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg",children:t.name}),m>0&&e.jsxs("p",{className:"text-xs text-[#666]",children:["Question ",a+1," of ",m]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx(x.button,{onClick:o,whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-2 rounded-lg transition-colors ${i?"bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black":"hover:bg-white/10"}`,children:e.jsx(Ke,{className:"w-5 h-5"})}),e.jsx(x.button,{onClick:u,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]})})})}function kt({channel:t,selectedSubChannel:s,selectedDifficulty:u,selectedCompany:a,companiesWithCounts:m,onSubChannelChange:f,onDifficultyChange:o,onCompanyChange:i,onClose:c}){return e.jsx(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-b border-white/10 bg-white/[0.02] backdrop-blur-xl overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Filters"}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(Me,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.subChannels&&t.subChannels.length>1&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-[#a0a0a0] mb-2 block",children:"Topic"}),e.jsx("select",{value:s,onChange:l=>f(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-[#00ff88] transition-colors",children:t.subChannels.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-[#a0a0a0] mb-2 block",children:"Difficulty"}),e.jsxs("select",{value:u,onChange:l=>o(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-[#00ff88] transition-colors",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),m.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-[#a0a0a0] mb-2 block",children:"Company"}),e.jsxs("select",{value:a,onChange:l=>i(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-[#00ff88] transition-colors",children:[e.jsx("option",{value:"all",children:"All Companies"}),m.map(l=>e.jsxs("option",{value:l.company,children:[l.company," (",l.count,")"]},l.company))]})]})]})]})})}function ie({question:t,questionNumber:s,totalQuestions:u,isMarked:a,isCompleted:m,srsCard:f,showRatingButtons:o,hasRated:i,onAddToSRS:c,onSRSRating:l,onToggleMark:g}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-[#00ff88]/20 to-[#00d4ff]/20 border border-[#00ff88]/30 rounded-full text-xs font-bold text-[#00ff88]",children:t.difficulty}),t.company&&e.jsx("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-bold",children:t.company}),m&&e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-full text-xs font-bold text-green-500",children:"âœ“ Completed"}),f&&!o&&!i&&e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${st(f.easeFactor)}`,children:ce(f.easeFactor)})]}),e.jsx("div",{children:e.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4 leading-tight",children:t.question})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(x.button,{onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2 ${a?"bg-gradient-to-r from-[#ffd700]/20 to-[#ff0080]/20 border border-[#ffd700]/30 text-[#ffd700]":"bg-white/5 border border-white/10 text-[#a0a0a0] hover:border-[#ffd700]/30 hover:text-[#ffd700]"}`,children:[e.jsx(xe,{className:`w-4 h-4 ${a?"fill-current":""}`}),a?"Bookmarked":"Bookmark"]}),i?e.jsxs("span",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-xl text-sm font-bold text-green-400 flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Review Recorded"]}):o&&f?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs text-[#a0a0a0] mr-2",children:"Rate your confidence:"}),e.jsxs(x.button,{onClick:()=>l("again"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-red-500/20 border border-red-500/30 rounded-lg text-xs font-bold text-red-400 hover:bg-red-500/30 transition-all flex items-center gap-1",children:[e.jsx(wt,{className:"w-3 h-3"}),"Again"]}),e.jsxs(x.button,{onClick:()=>l("hard"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-orange-500/20 border border-orange-500/30 rounded-lg text-xs font-bold text-orange-400 hover:bg-orange-500/30 transition-all flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),"Hard"]}),e.jsxs(x.button,{onClick:()=>l("good"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-green-500/20 border border-green-500/30 rounded-lg text-xs font-bold text-green-400 hover:bg-green-500/30 transition-all flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3"}),"Good"]}),e.jsxs(x.button,{onClick:()=>l("easy"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 bg-blue-500/20 border border-blue-500/30 rounded-lg text-xs font-bold text-blue-400 hover:bg-blue-500/30 transition-all flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),"Easy"]})]}):e.jsxs(x.button,{onClick:c,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-xl text-sm font-bold text-purple-400 hover:bg-purple-500/30 transition-all flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Add to SRS"]}),e.jsx(at,{questionId:t.id})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(y=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-xs text-[#a0a0a0]",children:["#",y]},y))})]})}export{zt as default};
