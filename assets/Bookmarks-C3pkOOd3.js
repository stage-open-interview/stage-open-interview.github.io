import{j as e,m as E,u as S,q as A,r as m,g as $,ab as k,ac as N,X as D,C as M,F as P,Z as Q,L as R,e as F,K as L,I as G,a2 as K,E as z}from"./index-dpQx__4S.js";import{A as H}from"./AppLayout-APGFzqDd.js";import{S as U}from"./SEOHead-BkWgzpF0.js";import{B as X}from"./Button-Dui9Z9eF.js";import{B as w,a as _}from"./tag-DQvjLb9J.js";import{T as O}from"./trash-2-agZ4VOGS.js";import{P as W}from"./play-C-tNG9SG.js";import{T as C}from"./target-BC_4BNQ3.js";import{G as Z}from"./git-branch-C83jwcgS.js";import{T as V}from"./terminal-Dqog8fIz.js";import"./mic-xW-mHpFf.js";import"./search-Dr_jiwO_.js";import"./chevron-left-DtT8G8hr.js";import"./chart-column-B2F524lv.js";import"./user-bjy23u6u.js";import"./code-Bt1rCilW.js";import"./UnifiedSearch-CORjyzSE.js";import"./coding-challenges-BJOoP7iZ.js";import"./arrow-right-FQC1w3jh.js";import"./loader-circle-CuGlSl6L.js";const Y={default:{iconBg:"bg-muted/50",iconText:"text-muted-foreground"},info:{iconBg:"bg-blue-500/10",iconText:"text-blue-500"},warning:{iconBg:"bg-yellow-500/10",iconText:"text-yellow-500"},error:{iconBg:"bg-red-500/10",iconText:"text-red-500"},success:{iconBg:"bg-green-500/10",iconText:"text-green-500"}},J={sm:{icon:"w-12 h-12",title:"text-base",description:"text-xs",padding:"p-6"},md:{icon:"w-16 h-16",title:"text-lg",description:"text-sm",padding:"p-8"},lg:{icon:"w-20 h-20",title:"text-xl",description:"text-base",padding:"p-12"}};function q({icon:x,title:j,description:t,action:p,variant:l="default",size:f="md",illustration:i,animated:b=!0,className:y=""}){const h=Y[l],c=J[f],u=e.jsxs("div",{className:`text-center ${c.padding} ${y}`,children:[i?e.jsx("div",{className:"mb-4",children:i}):x?e.jsx("div",{className:`
          ${c.icon} rounded-full ${h.iconBg} 
          flex items-center justify-center mx-auto mb-4
        `,children:e.jsx("span",{className:h.iconText,children:x})}):null,e.jsx("h3",{className:`font-semibold ${c.title} mb-2`,children:j}),t&&e.jsx("p",{className:`text-muted-foreground ${c.description} mb-4 max-w-md mx-auto`,children:t}),p&&e.jsx("div",{className:"mt-4",children:p})]});return b?e.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:u}):u}const B={"system-design":e.jsx(z,{className:"w-4 h-4"}),algorithms:e.jsx(V,{className:"w-4 h-4"}),frontend:e.jsx(K,{className:"w-4 h-4"}),backend:e.jsx(G,{className:"w-4 h-4"}),database:e.jsx(L,{className:"w-4 h-4"}),devops:e.jsx(Z,{className:"w-4 h-4"}),sre:e.jsx(F,{className:"w-4 h-4"}),default:e.jsx(R,{className:"w-4 h-4"})};function ye(){const[,x]=S(),{getSubscribedChannels:j}=A(),[t,p]=m.useState([]),[l,f]=m.useState("all"),[i,b]=m.useState("all");m.useEffect(()=>{const s=j(),a=$(),n=[],g=new Set;s.forEach(r=>g.add(r.id));for(let r=0;r<localStorage.length;r++){const o=localStorage.key(r);if(o?.startsWith(k.MARKED_PREFIX)){const d=o.replace(k.MARKED_PREFIX,"");g.add(d)}}g.forEach(r=>{N.getMarked(r).forEach(d=>{const v=a.find(I=>I.id===d);v&&n.push({...v,channelId:r})})}),p(n)},[]);const y=m.useMemo(()=>{const s=new Set(t.map(a=>a.channelId));return Array.from(s)},[t]),h=m.useMemo(()=>t.filter(s=>!(l!=="all"&&s.channelId!==l||i!=="all"&&s.difficulty!==i)),[t,l,i]),c=s=>{N.toggleMarked(s.channelId,s.id),p(a=>a.filter(n=>n.id!==s.id))},u=s=>{x(`/channel/${s.channelId}/${s.id}`)},T=s=>{switch(s){case"beginner":return{icon:Q,color:"text-green-500",bg:"bg-green-500/10",label:"Easy"};case"intermediate":return{icon:C,color:"text-yellow-500",bg:"bg-yellow-500/10",label:"Medium"};case"advanced":return{icon:P,color:"text-red-500",bg:"bg-red-500/10",label:"Hard"};default:return{icon:C,color:"text-muted-foreground",bg:"bg-muted",label:"Unknown"}}};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Bookmarked Questions - Code Reels",description:"View and manage your bookmarked interview questions"}),e.jsx(H,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-0 pb-20 sm:pb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:e.jsx(w,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-bold",children:"Bookmarks"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[t.length," saved question",t.length!==1?"s":""]})]})]})}),t.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 sm:mb-6",children:[e.jsxs("select",{value:l,onChange:s=>f(s.target.value),className:"px-3 py-1.5 sm:py-2 bg-card border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[e.jsx("option",{value:"all",children:"All Channels"}),y.map(s=>e.jsx("option",{value:s,children:s.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")},s))]}),e.jsxs("select",{value:i,onChange:s=>b(s.target.value),className:"px-3 py-1.5 sm:py-2 bg-card border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"beginner",children:"Easy"}),e.jsx("option",{value:"intermediate",children:"Medium"}),e.jsx("option",{value:"advanced",children:"Hard"})]}),(l!=="all"||i!=="all")&&e.jsxs("button",{onClick:()=>{f("all"),b("all")},className:"px-3 py-1.5 sm:py-2 text-sm text-muted-foreground hover:text-foreground flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"})," Clear"]})]}),t.length===0?e.jsx(q,{icon:e.jsx(w,{className:"w-8 h-8 sm:w-10 sm:h-10"}),title:"No bookmarks yet",description:"Tap the bookmark icon on any question to save it for later review",action:e.jsx(X,{variant:"primary",onClick:()=>x("/channels"),children:"Browse Questions"}),size:"lg",animated:!0}):h.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No questions match your filters"})}):e.jsx("div",{className:"space-y-2 sm:space-y-3",children:h.map((s,a)=>{const n=T(s.difficulty),g=n.icon,r=N.getCompleted(s.channelId).includes(s.id);return e.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.03},onClick:()=>u(s),className:"bg-card border border-border rounded-xl sm:rounded-2xl p-3 sm:p-4 hover:border-primary/30 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary flex-shrink-0 hidden sm:flex",children:B[s.channelId]||B.default}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5 flex-wrap",children:[e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider",children:s.channelId.split("-").join(" ")}),e.jsxs("span",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] sm:text-xs ${n.bg} ${n.color}`,children:[e.jsx(g,{className:"w-3 h-3"}),n.label]}),r&&e.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] sm:text-xs bg-green-500/10 text-green-500",children:[e.jsx(M,{className:"w-3 h-3"}),"Done"]})]}),e.jsx("h3",{className:"font-medium text-sm sm:text-base line-clamp-2 mb-2",children:s.question}),s.companies&&s.companies.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(_,{className:"w-3 h-3 text-muted-foreground"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.companies.slice(0,3).map((o,d)=>e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[o,d<Math.min(s.companies.length,3)-1?",":""]},d)),s.companies.length>3&&e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["+",s.companies.length-3]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),c(s)},className:"p-2 text-muted-foreground hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove bookmark",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:o=>{o.stopPropagation(),u(s)},className:"p-2 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors",title:"Go to question",children:e.jsx(W,{className:"w-4 h-4",fill:"currentColor"})})]})]})},s.id)})})]})})]})}export{ye as default};
