import{r as m,L as se,q as te,u as ne,b as ie,v as re,j as e,J as z,H as E,M as oe,m as P,C as H,N as ae}from"./index-D0xwtbAr.js";import{S as R}from"./SEOHead-ntbT5BRP.js";import{A as Q}from"./AppLayout-BNgEkDZI.js";import{G as q,a as M}from"./GenZButton-DzgBVcEA.js";import{G as ce,a as le}from"./GenZMicrophone-CmrXi1Xi.js";import{L as de}from"./tag-CnKEepch.js";import{T as B}from"./use-unified-toast-5BD6N9MA.js";import{P as ue}from"./play-BM_ErR4M.js";import{R as he}from"./rotate-ccw-BzssUQ2Z.js";import{C as me}from"./circle-x-qt5Fu0lu.js";import{A as fe}from"./UnifiedSearch-D9XA5TIn.js";import"./sparkles-CvddbY9g.js";import"./UnifiedNav-B6YtB1Or.js";import"./chart-column-7wXXrjUn.js";import"./user-C6DleTxx.js";const L="user-preferences",T={role:null,subscribedChannels:[],onboardingComplete:!1,createdAt:new Date().toISOString()};function xe(){const[s,n]=m.useState(()=>{if(typeof window>"u")return T;try{const c=localStorage.getItem(L);if(c)return JSON.parse(c)}catch(c){console.error("Failed to load preferences:",c)}return T});m.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(s))}catch(c){console.error("Failed to save preferences:",c)}},[s]);const t=m.useCallback(c=>{const x=se(c).map(p=>p.id);n(p=>({...p,role:c,subscribedChannels:x,onboardingComplete:!0}))},[]),i=m.useCallback(c=>{n(f=>f.subscribedChannels.includes(c)?f:{...f,subscribedChannels:[...f.subscribedChannels,c]})},[]),a=m.useCallback(c=>{n(f=>({...f,subscribedChannels:f.subscribedChannels.filter(x=>x!==c)}))},[]),o=m.useCallback(c=>{n(f=>f.subscribedChannels.includes(c)?{...f,subscribedChannels:f.subscribedChannels.filter(x=>x!==c)}:{...f,subscribedChannels:[...f.subscribedChannels,c]})},[]),d=m.useCallback(c=>s.subscribedChannels.includes(c),[s.subscribedChannels]),w=m.useCallback(()=>te.filter(c=>s.subscribedChannels.includes(c.id)),[s.subscribedChannels]),r=m.useCallback(()=>{n(T),localStorage.removeItem(L)},[]),b=m.useCallback(()=>{const c=["system-design","algorithms","frontend","backend","database","devops"];n(f=>({...f,subscribedChannels:c,onboardingComplete:!0}))},[]);return{preferences:s,setRole:t,subscribeChannel:i,unsubscribeChannel:a,toggleSubscription:o,isSubscribed:d,getSubscribedChannels:w,resetPreferences:r,skipOnboarding:b,needsOnboarding:!s.onboardingComplete}}let F=[];async function pe(){if(F.length>0)return F;try{const s=await fetch("/data/voice-sessions.json");return s.ok?(F=(await s.json()).sessions||[],F):(console.warn("Voice sessions file not found, will generate from questions"),[])}catch(s){return console.error("Failed to load voice sessions:",s),[]}}function ge(s,n){const t=[];for(let i=0;i<s.questionIds.length;i++){const a=s.questionIds[i],o=n.find(d=>d.id===a);if(o){const d=o.voiceKeywords||[],w=be(d),r=je(o.answer,d);t.push({id:o.id,question:o.question,criticalPoints:w,idealAnswer:r,difficulty:o.difficulty,order:i+1})}}return t}function be(s){const n=[];for(let t=0;t<s.length;t++){const i=s[t],a=t===0?3:t<=2?2:1,o=we(i);n.push({phrase:i,weight:a,alternatives:o})}return n}function we(s){const n=s.toLowerCase(),t=[],i={kubernetes:["k8s","kube","container orchestration"],"load balancer":["lb","load balancing","traffic distribution"],database:["db","data store","datastore"],availability:["uptime","high availability","ha"],latency:["response time","delay","lag"],throughput:["bandwidth","capacity","requests per second"],microservices:["micro services","microservice","service-oriented"],authentication:["auth","authn","login"],authorization:["authz","permissions","access control"],caching:["cache","cached","in-memory"],replication:["replicate","replica","copies"],sharding:["shard","partitioning","horizontal partition"],monitoring:["monitor","observability","metrics"],deployment:["deploy","release","rollout"],scalability:["scale","scaling","scalable"],consistency:["consistent","data consistency"],idempotency:["idempotent","safe to retry"],"ci/cd":["continuous integration","continuous deployment","pipeline"],"eventual consistency":["eventually consistent","async consistency"],"strong consistency":["strongly consistent","immediate consistency"],"horizontal scaling":["scale out","scaling horizontally"],"vertical scaling":["scale up","scaling vertically"],"api gateway":["gateway","api management"],"message queue":["queue","message broker","mq"],"rate limiting":["throttling","rate limit"],"circuit breaker":["circuit breaking","fail fast"],"service mesh":["mesh","sidecar proxy"],container:["docker","containerized"],orchestration:["orchestrator","orchestrating"]};return i[n]&&t.push(...i[n]),n.endsWith("s")&&n.length>3?t.push(n.slice(0,-1)):n.endsWith("s")||t.push(n+"s"),n.includes("-")?t.push(n.replace(/-/g," ")):n.includes(" ")&&t.push(n.replace(/ /g,"-")),t}function je(s,n){if(!s)return"";const t=s.split(/[.!?]+/).filter(d=>d.trim().length>10);if(t.length===0)return s.trim();const i=n.map(d=>d.toLowerCase()),a=t.filter(d=>i.some(w=>d.toLowerCase().includes(w)));return(a.length>0?a.slice(0,2):t.slice(0,2)).map(d=>d.trim()).join(". ")+"."}function ve(s,n){const t=s.toLowerCase().trim(),{criticalPoints:i}=n,a=[],o=[];let d=0,w=0;for(const g of i){const C=g.phrase.toLowerCase();if(w+=g.weight,t.includes(C)){a.push({phrase:g.phrase,weight:g.weight}),d+=g.weight;continue}g.alternatives.some(h=>t.includes(h.toLowerCase()))?(a.push({phrase:g.phrase,weight:g.weight}),d+=g.weight):o.push({phrase:g.phrase,weight:g.weight})}const r=w>0?d/w*100:50,b=ye(t,i.map(g=>g.phrase)),c=Math.min(b.length*3,10),f=t.split(/\s+/).length,x=f<5?15:f<8?5:0,p=Math.min(100,Math.max(0,Math.round(r+c-x))),S=p>=60,N=Ne(p,a,o);return{questionId:n.id,userAnswer:s,score:p,pointsCovered:a,pointsMissed:o,weightedScore:d,maxPossibleScore:w,isCorrect:S,feedback:N}}function ye(s,n){const t=["scalability","availability","reliability","latency","throughput","consistency","partition","replication","sharding","caching","load balancer","microservices","distributed","fault tolerance","monitoring","logging","alerting","sla","slo","sli","kubernetes","docker","ci/cd","deployment","rollback"],i=[],a=n.map(o=>o.toLowerCase());for(const o of t)s.includes(o)&&!a.includes(o)&&i.push(o);return i}function Ne(s,n,t){const a=[...t].sort((o,d)=>d.weight-o.weight).map(o=>o.phrase);return s>=80?"Excellent! You covered the key concepts well.":s>=60?a.length>0?`Good answer! Also consider: ${a.slice(0,2).join(", ")}.`:"Good answer with the main points covered.":s>=40?`Partial answer. Key terms to include: ${a.slice(0,3).join(", ")}.`:`Review this topic. Focus on: ${a.slice(0,3).join(", ")}.`}function Se(s,n){return{session:s,questions:n,currentQuestionIndex:0,answers:[],startedAt:new Date().toISOString(),status:"intro"}}function Ce(s){return{...s,status:"in-progress"}}function ke(s){return s.status==="completed"?null:s.questions[s.currentQuestionIndex]||null}function Ie(s,n){const t=s.questions[s.currentQuestionIndex];if(!t)return s;const i=ve(n,t),a=[...s.answers,i],o=s.currentQuestionIndex>=s.questions.length-1;return{...s,answers:a,status:o?"completed":"in-progress"}}function qe(s){return s.currentQuestionIndex>=s.questions.length-1?{...s,status:"completed"}:{...s,currentQuestionIndex:s.currentQuestionIndex+1}}function Qe(s){const{session:n,answers:t}=s,i=t.reduce((h,k)=>h+k.weightedScore,0),a=t.reduce((h,k)=>h+k.maxPossibleScore,0),o=a>0?Math.round(i/a*100):0;let d;o>=80?d="excellent":o>=60?d="good":o>=40?d="needs-work":d="review-topic";const r=t.flatMap(h=>h.pointsMissed).sort((h,k)=>k.weight-h.weight),b=Array.from(new Set(r.map(h=>h.phrase))),c=t.flatMap(h=>h.pointsCovered),f=Array.from(new Set(c.map(h=>h.phrase))),x=[],p=t.filter(h=>h.isCorrect).length;p===t.length?x.push("Perfect score - all questions answered correctly!"):p>=t.length*.7&&x.push(`Strong performance: ${p}/${t.length} correct`);const S=c.filter(h=>h.weight>=2).length;S>=3&&x.push(`Covered ${S} critical concepts`),f.length>=5&&x.push(`Good coverage: ${f.slice(0,4).join(", ")}`);const N=[],g=r.filter(h=>h.weight>=2);if(g.length>0){const h=g.slice(0,3).map(k=>k.phrase);N.push(`Critical concepts to review: ${h.join(", ")}`)}else b.length>0&&N.push(`Review: ${b.slice(0,5).join(", ")}`);const C=t.filter(h=>h.score<50).length;C>0&&N.push(`${C} question(s) need more practice`);const y=$e(o,p,t.length,n.topic);return{sessionId:n.id,topic:n.topic,answers:t,overallScore:o,verdict:d,summary:y,strengths:x,areasToImprove:N,completedAt:new Date().toISOString()}}function $e(s,n,t,i){return s>=80?`Excellent understanding of ${i}! You answered ${n}/${t} questions correctly.`:s>=60?`Good grasp of ${i}. ${n}/${t} correct. Keep practicing!`:s>=40?`Basic understanding of ${i} (${n}/${t}). Review the missed concepts.`:`${i} needs more study. Score: ${n}/${t}. Review fundamentals.`}function Ae(s){const n=[],t=s.filter(a=>a.voiceSuitable===!0&&a.voiceKeywords&&a.voiceKeywords.length>=3),i={};for(const a of t){const o=`${a.channel}:${a.subChannel}`;i[o]||(i[o]=[]),i[o].push(a)}for(const[a,o]of Object.entries(i)){if(o.length<4)continue;const[d,w]=a.split(":"),b=o.sort((x,p)=>{const S={beginner:0,intermediate:1,advanced:2};return(S[x.difficulty]||1)-(S[p.difficulty]||1)}).slice(0,6),c=b.map(x=>x.difficulty),f=c.includes("advanced")?"advanced":c.includes("intermediate")?"intermediate":"beginner";n.push({id:`gen-${d}-${w}-${Date.now()}`,topic:Re(w),description:`Practice session covering ${w} concepts`,channel:d,difficulty:f,questionIds:b.map(x=>x.id),totalQuestions:b.length,estimatedMinutes:b.length*2})}return n}function Re(s){return s.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}const G="voice-session-state",J="voice-session-history";function O(s){try{const n={...s,lastAccessedAt:new Date().toISOString()};localStorage.setItem(G,JSON.stringify(n))}catch(n){console.error("Failed to save session state:",n)}}function Me(){try{const s=localStorage.getItem(G);return s?JSON.parse(s):null}catch(s){return console.error("Failed to load session state:",s),null}}function D(){try{localStorage.removeItem(G)}catch(s){console.error("Failed to clear session state:",s)}}function Pe(s){try{const n=Fe();n.unshift(s),localStorage.setItem(J,JSON.stringify(n.slice(0,20)))}catch(n){console.error("Failed to save session to history:",n)}}function Fe(){try{const s=localStorage.getItem(J);return s?JSON.parse(s):[]}catch(s){return console.error("Failed to load session history:",s),[]}}const K=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window);function Ze(){const[,s]=ne(),{preferences:n}=xe(),[t,i]=m.useState("loading"),[a,o]=m.useState([]),[d,w]=m.useState([]),[r,b]=m.useState(null),[c,f]=m.useState(null),[x,p]=m.useState(""),[S,N]=m.useState(""),[g,C]=m.useState(null),y=m.useRef(null),{onVoiceInterview:h}=ie(),{trackEvent:k}=re(),W=r?ke(r):null;m.useEffect(()=>{async function l(){try{const u=await ae();w(u);let j=await pe();j.length===0&&(j=Ae(u));const v=n.subscribedChannels,$=j.filter(A=>v.includes(A.channel));o($);const I=Me();if(I&&I.status!=="completed"){b(I),i("intro");return}i("select")}catch(u){C("Failed to load sessions"),console.error(u)}}l()},[n.subscribedChannels]),m.useEffect(()=>{if(!K)return;const l=window.SpeechRecognition||window.webkitSpeechRecognition,u=new l;return u.continuous=!0,u.interimResults=!0,u.lang="en-US",u.onresult=j=>{let v="",$="";for(let I=j.resultIndex;I<j.results.length;I++){const A=j.results[I];A.isFinal?$+=A[0].transcript+" ":v+=A[0].transcript}$&&p(I=>I+$),N(v)},u.onerror=j=>{console.error("Speech recognition error:",j.error),j.error==="not-allowed"&&(C("Microphone access denied."),i("editing"))},u.onend=()=>{if(t==="recording")try{u.start()}catch{}},y.current=u,()=>{try{u.stop()}catch{}}},[t]);const Y=m.useCallback(l=>{const u=ge(l,d);if(u.length<3){C("Not enough questions available for this session");return}const j=Se(l,u);b(j),O(j),i("intro")},[d]),_=m.useCallback(()=>{if(!r)return;const l=Ce(r);if(b(l),O(l),p(""),N(""),y.current)try{y.current.start(),i("recording")}catch{C("Failed to start recording."),i("editing")}},[r]),Z=m.useCallback(()=>{y.current&&y.current.stop(),i("editing")},[]),U=m.useCallback(()=>{if(!r||!x.trim()){C("Please provide an answer.");return}const l=Ie(r,x.trim());b(l),O(l),i("feedback")},[r,x]),X=m.useCallback(()=>{if(r)if(r.currentQuestionIndex>=r.questions.length-1){const l=Qe(r);f(l),Pe(l),D();const u=l.overallScore>=60?"hire":"no-hire";h(u),k({type:"voice_interview_completed",timestamp:new Date().toISOString()}),i("results")}else{const l=qe(r);if(b(l),O(l),p(""),N(""),y.current)try{y.current.start(),i("recording")}catch{i("editing")}}},[r,h,k]),ee=m.useCallback(()=>{if(p(""),N(""),y.current)try{y.current.start(),i("recording")}catch{i("editing")}},[]),V=m.useCallback(()=>{D(),b(null),f(null),i("select")},[]);if(!K)return e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#ffd700]/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-10 h-10 text-[#ffd700]"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-3",children:"Browser Not Supported"}),e.jsx("p",{className:"text-[#a0a0a0] mb-6",children:"Voice sessions require the Web Speech API. Use Chrome, Edge, or Safari."}),e.jsx(q,{onClick:()=>s("/"),children:"Go Home"})]})})});if(t==="loading")return e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#00d4ff]/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 animate-spin text-[#00d4ff]"})}),e.jsx("p",{className:"text-[#a0a0a0]",children:"Loading sessions..."})]})})});if(t==="select"){const l={};for(const u of a)l[u.channel]||(l[u.channel]=[]),l[u.channel].push(u);return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Voice Sessions | Code Reels",description:"Practice interview topics with focused question sessions"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-black/95 backdrop-blur-md",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>s("/"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5 text-[#a0a0a0]"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#00ff88] to-[#00d4ff] flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5 text-black"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-white",children:"Voice Sessions"}),e.jsxs("p",{className:"text-xs text-[#a0a0a0]",children:[a.length," sessions available"]})]})]})]}),e.jsx(oe,{compact:!0,onClick:()=>s("/profile")})]})}),e.jsx("main",{className:"max-w-4xl mx-auto px-4 py-6",children:a.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/5 flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-10 h-10 text-[#a0a0a0]"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Sessions Available"}),e.jsx("p",{className:"text-[#a0a0a0] mb-6",children:"Subscribe to channels to unlock voice sessions."}),e.jsx(q,{onClick:()=>s("/channels"),children:"Subscribe to Channels"})]}):e.jsx("div",{className:"space-y-8",children:Object.entries(l).map(([u,j])=>e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xs font-semibold text-[#a0a0a0] uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#00d4ff]"}),u.replace(/-/g," ")]}),e.jsx("div",{className:"grid gap-3",children:j.map(v=>e.jsx(P.button,{onClick:()=>Y(v),whileHover:{scale:1.01},whileTap:{scale:.99},className:"p-5 bg-white/5 border border-white/10 rounded-2xl text-left hover:border-[#00d4ff]/50 transition-all group",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white group-hover:text-[#00d4ff] transition-colors mb-1",children:v.topic}),e.jsx("p",{className:"text-sm text-[#a0a0a0] mb-3",children:v.description}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-lg ${v.difficulty==="beginner"?"bg-[#00ff88]/20 text-[#00ff88]":v.difficulty==="intermediate"?"bg-[#ffd700]/20 text-[#ffd700]":"bg-[#ff0080]/20 text-[#ff0080]"}`,children:v.difficulty}),e.jsxs("span",{className:"text-xs text-[#a0a0a0]",children:[v.totalQuestions," questions"]}),e.jsxs("span",{className:"text-xs text-[#a0a0a0]",children:["~",v.estimatedMinutes," min"]})]})]})})},v.id))})]},u))})})]})})]})}if(t==="intro"&&r)return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:`${r.session.topic} | Voice Session`,description:"Voice interview session practice"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-lg w-full",children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#00ff88] to-[#00d4ff] flex items-center justify-center mx-auto mb-6",children:e.jsx(B,{className:"w-10 h-10 text-black"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:r.session.topic}),e.jsxs("p",{className:"text-[#a0a0a0] mb-6",children:[r.questions.length," questions â€¢ ~",r.session.estimatedMinutes," min"]}),e.jsx("div",{className:"bg-black/50 rounded-xl p-4 mb-6 text-left",children:e.jsx("p",{className:"text-sm text-[#a0a0a0]",children:r.session.description})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(q,{variant:"secondary",onClick:V,className:"flex-1",children:"Back"}),e.jsxs(q,{variant:"primary",onClick:_,className:"flex-1",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Start Session"]})]})]})})})})]});if((t==="recording"||t==="editing")&&r&&W)return(r.currentQuestionIndex+1)/r.questions.length*100,e.jsxs(e.Fragment,{children:[e.jsx(R,{title:`Q${r.currentQuestionIndex+1} | ${r.session.topic}`,description:"Answer the interview question"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 border-b border-white/10 bg-black/95 backdrop-blur-md",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("div",{className:"h-16 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:V,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5 text-[#a0a0a0]"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-white text-sm",children:r.session.topic}),e.jsxs("p",{className:"text-xs text-[#a0a0a0]",children:["Question ",r.currentQuestionIndex+1," of ",r.questions.length]})]})]})}),e.jsx("div",{className:"pb-3",children:e.jsx(ce,{value:r.currentQuestionIndex+1,max:r.questions.length,color:"blue"})})]})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs(M,{className:"p-6 mb-6",neonBorder:!0,children:[e.jsx("h2",{className:"text-lg font-medium text-white leading-relaxed",children:W.question}),g&&e.jsx("div",{className:"mt-4 p-4 bg-[#ff0080]/10 border border-[#ff0080]/30 rounded-xl text-[#ff0080] text-sm",children:g})]}),e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx(le,{isRecording:t==="recording",onStart:()=>{},onStop:Z}),e.jsx("div",{className:"w-full",children:t==="editing"?e.jsx("textarea",{value:x,onChange:l=>p(l.target.value),className:"w-full p-4 bg-black/50 border border-white/10 rounded-xl min-h-[100px] text-sm text-white resize-y focus:outline-none focus:ring-2 focus:ring-[#00d4ff]/50",placeholder:"Edit your answer..."}):e.jsx("div",{className:"p-4 bg-black/50 rounded-xl min-h-[80px] border border-white/10",children:x||S?e.jsxs("p",{className:"text-sm text-white whitespace-pre-wrap",children:[x,e.jsx("span",{className:"text-[#a0a0a0]",children:S})]}):e.jsx("p",{className:"text-sm text-[#a0a0a0] italic",children:"Start speaking... Your words will appear here."})})}),e.jsx("div",{className:"flex gap-3",children:t==="editing"&&e.jsxs(e.Fragment,{children:[e.jsxs(q,{variant:"secondary",onClick:ee,children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Re-record"]}),e.jsxs(q,{variant:"primary",onClick:U,disabled:!x.trim(),children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Submit"]})]})})]})})]})]})})]});if(t==="feedback"&&r){const l=r.answers[r.answers.length-1],u=r.currentQuestionIndex>=r.questions.length-1;return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Feedback | Voice Session",description:"Review your answer feedback"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-lg w-full",children:e.jsxs(M,{className:"p-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-24 h-24 rounded-2xl flex items-center justify-center mx-auto mb-4 ${l.isCorrect?"bg-[#00ff88]/20":"bg-[#ff0080]/20"}`,children:l.isCorrect?e.jsx(H,{className:"w-12 h-12 text-[#00ff88]"}):e.jsx(me,{className:"w-12 h-12 text-[#ff0080]"})}),e.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:[l.score,"%"]}),e.jsx("p",{className:`text-sm font-medium ${l.isCorrect?"text-[#00ff88]":"text-[#ff0080]"}`,children:l.isCorrect?"Good answer!":"Needs improvement"})]}),e.jsx("div",{className:"mt-6 bg-black/50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-[#a0a0a0]",children:l.feedback})}),e.jsx("div",{className:"mt-6",children:e.jsxs(q,{variant:"primary",onClick:X,className:"w-full",children:[u?"View Results":"Next Question",e.jsx(fe,{className:"w-5 h-5 ml-2"})]})})]})})})})]})}return t==="results"&&c?e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Session Complete | Voice Session",description:"View your session results"}),e.jsx(Q,{fullWidth:!0,hideNav:!0,children:e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-lg w-full",children:e.jsx(M,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-6xl font-black text-white mb-4",children:[c.overallScore,"%"]}),e.jsx("p",{className:"text-xl font-semibold text-[#a0a0a0] mb-8",children:"Session Complete!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-black/50 rounded-xl p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-[#00ff88]",children:c.correctAnswers}),e.jsx("div",{className:"text-xs text-[#a0a0a0]",children:"Correct"})]}),e.jsxs("div",{className:"bg-black/50 rounded-xl p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-[#ff0080]",children:c.totalQuestions-c.correctAnswers}),e.jsx("div",{className:"text-xs text-[#a0a0a0]",children:"Incorrect"})]})]}),e.jsxs(q,{variant:"primary",onClick:()=>s("/"),className:"w-full",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})})})})})]}):null}export{Ze as default};
