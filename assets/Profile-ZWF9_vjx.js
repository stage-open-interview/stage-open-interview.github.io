import{c as B,k as O,x as R,a1 as $,q as D,r as p,j as e,m as u,F,a as Q,f as V,T as _,t as M,s as H,B as L,Z as W}from"./index-O_SPbvqJ.js";import{A as q}from"./AppLayout-YJkohRGh.js";import{u as Z}from"./use-stats-Bk8drUTJ.js";import{S as G}from"./SEOHead-BaEBKNE7.js";import{i as z,b as K,c as J,d as Y,e as X,f as ee,s as se,a as te}from"./text-to-speech-B4Hlh8Da.js";import{C as ae}from"./code-BZeT8qJ_.js";import{T as I}from"./target-HaYLW-Nv.js";import{S as re}from"./shuffle-CHF66Bbx.js";import{E as ne}from"./eye-Cd8K1uQN.js";import{B as ie}from"./bell-auhYTUTv.js";import{C as le,H as oe}from"./history-BSMuuErr.js";import{M as ce}from"./mic-KBcS6YjO.js";import{B as de}from"./tag-CP60DkeC.js";import{V as me}from"./volume-2-Wx-cNXn4.js";import{P as xe}from"./play-C3Ia9wrN.js";import"./UnifiedSearch-TG7kR8G1.js";import"./coding-challenges-DIg_7zVk.js";import"./arrow-right-CJDFqmrn.js";import"./loader-circle-D0fIraJD.js";import"./chevron-left-B3__lKEC.js";import"./chart-column-C68UgpOA.js";import"./user-DfZoppNU.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],he=B("gift",ue);function De(){const[,a]=O(),{stats:l}=Z(),{getSubscribedChannels:o,preferences:n,toggleShuffleQuestions:c,togglePrioritizeUnvisited:N}=R(),{stats:m}=$(),{balance:b,state:y,history:v,onRedeemCoupon:C,formatCredits:g,config:f}=D(),s=o(),[t,d]=p.useState(""),[i,w]=p.useState(null),P=l.reduce((r,x)=>r+x.total,0),k=s.reduce((r,x)=>{const j=JSON.parse(localStorage.getItem(`progress-${x.id}`)||"[]");return r+j.length},0),A=(()=>{let r=0;for(let x=0;x<365;x++){const j=new Date;if(j.setDate(j.getDate()-x),m.find(U=>U.date===j.toISOString().split("T")[0]))r++;else break}return r})(),E=m.length;return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Profile - Code Reels",description:"View your learning progress and achievements"}),e.jsx(q,{title:"Profile",showBackOnMobile:!0,children:e.jsx("div",{className:"max-w-6xl mx-auto pb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"h-24 lg:h-32 bg-gradient-to-r from-primary via-primary/80 to-primary/60"}),e.jsxs("div",{className:"px-4 pb-4 -mt-12",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-card border-4 border-card flex items-center justify-center shadow-lg",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center",children:e.jsx(ae,{className:"w-10 h-10 text-primary-foreground"})})}),e.jsx("h1",{className:"text-xl lg:text-2xl font-bold mt-3",children:"Interview Prep"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mastering technical interviews"}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:k}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"completed"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:s.length}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"topics"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold",children:E}),e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"days"})]})]})]})]}),e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3",children:[e.jsx(S,{icon:e.jsx(F,{className:"w-5 h-5"}),value:A.toString(),label:"Day Streak",color:"text-orange-500",bgColor:"bg-orange-500/10"}),e.jsx(S,{icon:e.jsx(I,{className:"w-5 h-5"}),value:`${Math.round(k/P*100)||0}%`,label:"Progress",color:"text-green-500",bgColor:"bg-green-500/10"}),e.jsx(S,{icon:e.jsx(Q,{className:"w-5 h-5"}),value:E.toString(),label:"Days Active",color:"text-blue-500",bgColor:"bg-blue-500/10"}),e.jsx(S,{icon:e.jsx(V,{className:"w-5 h-5"}),value:k.toString(),label:"Questions Done",color:"text-purple-500",bgColor:"bg-purple-500/10"})]}),e.jsx(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:e.jsxs("button",{onClick:()=>a("/badges"),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5 text-yellow-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold",children:"Achievements"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View your badges"})]})]}),e.jsx(M,{className:"w-5 h-5 text-muted-foreground"})]})}),e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Settings"})}),e.jsxs("div",{className:"divide-y divide-border/50",children:[e.jsx(T,{icon:e.jsx(re,{className:"w-5 h-5"}),label:"Shuffle Questions",sublabel:"Randomize question order",enabled:n.shuffleQuestions!==!1,onToggle:c}),e.jsx(T,{icon:e.jsx(ne,{className:"w-5 h-5"}),label:"Unvisited First",sublabel:"Show new questions first",enabled:n.prioritizeUnvisited!==!1,onToggle:N}),e.jsx(h,{icon:e.jsx(ie,{className:"w-5 h-5"}),label:"Notifications",sublabel:"View all alerts",onClick:()=>a("/notifications")}),e.jsx(h,{icon:e.jsx(le,{className:"w-5 h-5"}),label:"About",sublabel:"App information",onClick:()=>a("/about")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 rounded-2xl border border-amber-500/20 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:e.jsx(H,{className:"w-6 h-6 text-amber-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[g(b)," Credits"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earned: ",g(y.totalEarned)," Â· Spent: ",g(y.totalSpent)]})]})]})}),e.jsxs("div",{className:"bg-black/10 rounded-lg p-3 mb-4",children:[e.jsxs("h4",{className:"text-xs font-semibold text-amber-400 mb-2 flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"})," Earn Credits"]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Voice interview attempt"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_ATTEMPT]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successful interview (hire)"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_SUCCESS_BONUS," bonus"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"View question"}),e.jsxs("span",{className:"text-red-400",children:["-",f.QUESTION_VIEW_COST]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(he,{className:"w-3 h-3"})," Redeem Coupon"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:r=>d(r.target.value.toUpperCase()),placeholder:"Enter code",className:"flex-1 px-3 py-2 bg-black/20 border border-border rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-amber-500"}),e.jsx("button",{onClick:()=>{if(!t.trim())return;const r=C(t);w({type:r.success?"success":"error",text:r.message}),r.success&&d(""),setTimeout(()=>w(null),3e3)},className:"px-4 py-2 bg-amber-500 text-white text-sm font-bold rounded-lg hover:bg-amber-600 transition-colors",children:"Apply"})]}),i&&e.jsx("p",{className:`text-xs mt-2 ${i.type==="success"?"text-green-400":"text-red-400"}`,children:i.text})]}),v.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-500/20",children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(oe,{className:"w-3 h-3"})," Recent Activity"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:v.slice(0,5).map(r=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground truncate flex-1",children:r.description}),e.jsxs("span",{className:r.amount>0?"text-green-400":"text-red-400",children:[r.amount>0?"+":"",r.amount]})]},r.id))})]})]}),e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx(h,{icon:e.jsx(de,{className:"w-5 h-5"}),label:"Bookmarks",sublabel:"Saved questions",onClick:()=>a("/bookmarks")}),e.jsx(h,{icon:e.jsx(L,{className:"w-5 h-5"}),label:"My Channels",sublabel:`${s.length} subscribed`,onClick:()=>a("/channels")}),e.jsx(h,{icon:e.jsx(W,{className:"w-5 h-5"}),label:"Coding Challenges",sublabel:"Practice coding",onClick:()=>a("/coding")}),e.jsx(h,{icon:e.jsx(I,{className:"w-5 h-5"}),label:"Mock Tests",sublabel:"Test your knowledge",onClick:()=>a("/tests")}),e.jsx(h,{icon:e.jsx(V,{className:"w-5 h-5"}),label:"Statistics",sublabel:"View detailed stats",onClick:()=>a("/stats")})]}),z()&&e.jsxs(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border/50 flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Voice Settings"})]}),e.jsx(pe,{})]})]})]})})})]})}function S({icon:a,value:l,label:o,color:n,bgColor:c}){return e.jsxs("div",{className:"bg-card rounded-2xl border border-border p-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${c} flex items-center justify-center mb-3`,children:e.jsx("span",{className:n,children:a})}),e.jsx("div",{className:"text-2xl font-bold",children:l}),e.jsx("div",{className:"text-sm text-muted-foreground",children:o})]})}function h({icon:a,label:l,sublabel:o,onClick:n}){return e.jsxs("button",{type:"button",onClick:n,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:"text-muted-foreground",children:a}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o})]})]}),e.jsx(M,{className:"w-5 h-5 text-muted-foreground pointer-events-none"})]})}function T({icon:a,label:l,sublabel:o,enabled:n,onToggle:c}){return e.jsxs("button",{type:"button",onClick:c,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:n?"text-primary":"text-muted-foreground",children:a}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o})]})]}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-colors relative ${n?"bg-primary":"bg-muted"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})}function pe(){const[a,l]=p.useState([]),[o,n]=p.useState(""),[c,N]=p.useState(.9),[m,b]=p.useState(!1);p.useEffect(()=>{const s=()=>{const t=J();l(t);const d=Y();if(d&&t.find(i=>i.name===d))n(d);else if(t.length>0){const i=t.find(w=>w.lang.startsWith("en"));n(i?.name||t[0].name)}};s(),N(K()),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=s)},[]);const y=s=>{n(s),X(s)},v=s=>{N(s),ee(s)},C=()=>{if(m){se(),b(!1);return}b(!0),te("Hello! This is how I will read the answers for you. You can adjust the speed using the slider below.",{onEnd:()=>b(!1),onError:()=>b(!1)})},g=a.reduce((s,t)=>{const d=t.lang,i=be(d);return s[i]||(s[i]=[]),s[i].push(t),s},{}),f=Object.keys(g).sort((s,t)=>s.startsWith("English")&&!t.startsWith("English")?-1:!s.startsWith("English")&&t.startsWith("English")?1:s.localeCompare(t));return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Voice"}),e.jsx("select",{value:o,onChange:s=>y(s.target.value),className:"w-full px-3 py-2.5 bg-muted/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:f.map(s=>e.jsx("optgroup",{label:s,children:g[s].map(t=>e.jsx("option",{value:t.name,children:t.name},t.name))},s))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Speed"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:c,onChange:s=>v(parseFloat(s.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-1",children:[e.jsx("span",{children:"Slower"}),e.jsx("span",{children:"Faster"})]})]}),e.jsxs("button",{onClick:C,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-colors ${m?"bg-primary text-primary-foreground":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:[e.jsx(xe,{className:`w-4 h-4 ${m?"animate-pulse":""}`}),m?"Playing...":"Test Voice"]})]})}function be(a){return{"en-US":"English (US)","en-GB":"English (UK)","en-AU":"English (Australia)","en-IN":"English (India)","en-ZA":"English (South Africa)","en-IE":"English (Ireland)","en-NZ":"English (New Zealand)",en:"English","hi-IN":"Hindi","ta-IN":"Tamil","te-IN":"Telugu","mr-IN":"Marathi","bn-IN":"Bengali","gu-IN":"Gujarati","kn-IN":"Kannada","ml-IN":"Malayalam","pa-IN":"Punjabi"}[a]||a}export{De as default};
