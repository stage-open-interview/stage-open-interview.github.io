import{ai as W,aj as I,ak as X,r as y,al as _,am as Z,$ as q,Z as J,T as D,x as Q,n as H,an as w,j as e,m as f,u as K,w as ee,aa as te,ao as se,ap as re,aq as ae,ar as ne,as as B,C as oe,l as ie,X as le,g as ce,k as de}from"./index-COcuZEuT.js";import{S as me}from"./SEOHead-CetDqAib.js";import{A as ge}from"./AppLayout-C3wfF4e2.js";import{C as ue,M as pe,S as xe,a as he}from"./sunrise-CWxQ1Wkm.js";import{R as fe}from"./rocket-BTEZSBZa.js";import{C as ye}from"./calendar-kzQINJtv.js";import{G as be}from"./globe-BZhGX2Oq.js";import{T as je}from"./trending-up-DzYPsjiH.js";import{B as ve,T as V}from"./target-B_8jZHN-.js";import{F as Y}from"./tag-ClUbF1XJ.js";import{L as F}from"./lock-BNX6EIeo.js";import{c as T,a as Ne}from"./data-DJ4_zlOQ.js";import{u as O,a as A}from"./use-transform-I8_YWZSF.js";import"./UnifiedNav-X3TdHJAm.js";import"./mic-DYOEUvee.js";import"./use-unified-toast-BIcHSHuD.js";import"./chart-column-Buvy9_Aa.js";import"./user-BojGr9H4.js";import"./UnifiedSearch-C2nPFysZ.js";function we(n,i,m){const l=n.get();let s=null,u=l,g;const b=typeof l=="string"?l.replace(/[\d.-]/g,""):void 0,c=()=>{s&&(s.stop(),s=null)},r=()=>{c(),s=new X({keyframes:[U(n.get()),U(u)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...m,onUpdate:g})};if(n.attach((p,d)=>{u=p,g=o=>d($(o,b)),W.postRender(r)},c),I(i)){const p=i.on("change",o=>n.set($(o,b))),d=n.on("destroy",p);return()=>{p(),d()}}return c}function $(n,i){return i?n+i:n}function U(n){return typeof n=="number"?n:parseFloat(n)}function L(n,i={}){const{isStatic:m}=y.useContext(_),l=()=>I(n)?n.get():n;if(m)return O(l);const s=A(l());return y.useInsertionEffect(()=>we(s,n,i),[s,JSON.stringify(i)]),s}const ke={flame:Y,"check-circle":H,award:Q,trophy:D,"book-open":ve,"trending-up":je,zap:J,star:q,compass:Z,globe:be,medal:he,sunrise:xe,moon:pe,calendar:ye,rocket:fe,crown:ue};function E({progress:n,size:i="md",showProgress:m=!0,onClick:l}){const{badge:s,current:u,isUnlocked:g,progress:b}=n,r={sm:{ring:44,stroke:3,icon:16,font:"9px",inner:30},md:{ring:56,stroke:3,icon:20,font:"10px",inner:38},lg:{ring:80,stroke:4,icon:32,font:"12px",inner:56}}[i],p=(r.ring-r.stroke)/2,d=p*2*Math.PI,o=d-b/100*d,k=ke[s.icon]||q,h=w(s.tier);return e.jsxs("div",{className:`flex flex-col items-center ${l?"cursor-pointer active:scale-95 transition-transform":""}`,onClick:l,style:{width:r.ring},children:[e.jsxs("div",{className:"relative",style:{width:r.ring,height:r.ring},children:[e.jsxs("svg",{width:r.ring,height:r.ring,className:"transform -rotate-90",style:{position:"absolute",top:0,left:0},children:[e.jsx("circle",{cx:r.ring/2,cy:r.ring/2,r:p,fill:"none",stroke:"currentColor",strokeWidth:r.stroke,className:"text-muted/30"}),e.jsx(f.circle,{cx:r.ring/2,cy:r.ring/2,r:p,fill:"none",stroke:g?h:"hsl(var(--muted-foreground))",strokeWidth:r.stroke,strokeLinecap:"round",strokeDasharray:d,initial:{strokeDashoffset:d},animate:{strokeDashoffset:o},transition:{duration:1,ease:"easeOut",delay:.2},style:{opacity:g?1:.4}})]}),e.jsx("div",{className:`
            absolute rounded-full flex items-center justify-center
            ${g?`bg-gradient-to-br ${s.gradient} shadow-md`:"bg-muted/40"}
          `,style:{width:r.inner,height:r.inner,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:g?e.jsx(k,{className:"text-white",style:{width:r.icon,height:r.icon}}):e.jsx(F,{className:"text-muted-foreground/60",style:{width:r.icon,height:r.icon}})})]}),i!=="sm"&&e.jsx("span",{className:`mt-1.5 text-center font-medium leading-tight line-clamp-2 ${g?"text-foreground":"text-muted-foreground"}`,style:{fontSize:r.font,width:r.ring+16,maxWidth:r.ring+16},children:s.name}),m&&!g&&i!=="sm"&&e.jsxs("span",{className:"text-muted-foreground mt-0.5",style:{fontSize:"9px"},children:[u,"/",s.requirement]})]})}const z={streak:e.jsx(Y,{className:"w-4 h-4"}),completion:e.jsx(V,{className:"w-4 h-4"}),mastery:e.jsx(D,{className:"w-4 h-4"}),explorer:e.jsx(Z,{className:"w-4 h-4"}),special:e.jsx(de,{className:"w-4 h-4"})};function Ce({children:n,className:i}){const m=y.useRef(null),l=A(0),s=A(0),u={damping:20,stiffness:300},g=L(O(s,[-.5,.5],[8,-8]),u),b=L(O(l,[-.5,.5],[-8,8]),u),c=(o,k)=>{if(!m.current)return;const h=m.current.getBoundingClientRect(),t=h.left+h.width/2,a=h.top+h.height/2;l.set((o-t)/h.width),s.set((k-a)/h.height)},r=o=>c(o.clientX,o.clientY),p=o=>{o.touches[0]&&c(o.touches[0].clientX,o.touches[0].clientY)},d=()=>{l.set(0),s.set(0)};return e.jsx(f.div,{ref:m,style:{rotateX:g,rotateY:b,transformStyle:"preserve-3d",perspective:1e3},onMouseMove:r,onTouchMove:p,onMouseLeave:d,onTouchEnd:d,className:i,children:n})}const R=["bronze","silver","gold","platinum","diamond"];function Fe(){const[n,i]=K(),[m,l]=y.useState(null),[s,u]=y.useState(null),{stats:g}=ee(),b=()=>{window.history.length>1?window.history.back():i("/")},c=y.useMemo(()=>{te();const t=new Set,a=[],x=[],j={beginner:0,intermediate:0,advanced:0};T.forEach(v=>{const N=se(v.id),C=localStorage.getItem(`progress-${v.id}`),S=C?new Set(JSON.parse(C)):new Set;Array.from(S).forEach(M=>t.add(M)),S.size>0&&a.push(v.id),N.length>0&&x.push(Math.min(100,Math.round(S.size/N.length*100))),N.forEach(M=>{if(S.has(M.id)){const G=Ne(M);j[G]++}})});let P=0;for(let v=0;v<365;v++){const N=new Date;if(N.setDate(N.getDate()-v),g.find(C=>C.date===N.toISOString().split("T")[0]))P++;else break}return{totalCompleted:t.size,streak:P,channelsExplored:a,difficultyStats:j,channelCompletionPcts:x,totalChannels:T.length}},[g]),r=y.useMemo(()=>re(c.totalCompleted,c.streak,c.channelsExplored,c.difficultyStats,c.channelCompletionPcts,c.totalChannels),[c]),p=y.useMemo(()=>{const t={};return r.forEach(a=>{t[a.badge.category]||(t[a.badge.category]=[]),t[a.badge.category].push(a)}),Object.keys(t).forEach(a=>{t[a].sort((x,j)=>R.indexOf(x.badge.tier)-R.indexOf(j.badge.tier))}),t},[r]),d=r.filter(t=>t.isUnlocked).length,o=ne.length,k=Math.round(d/o*100);y.useEffect(()=>{const t=a=>{a.key==="Escape"&&(s?u(null):b())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s]);const h=["streak","completion","mastery","explorer","special"];return e.jsxs(e.Fragment,{children:[e.jsx(me,{title:"Achievement Badges - Track Your Interview Prep Progress | Code Reels",description:"Earn badges as you master technical interview questions. Track your streaks, completion milestones, and explore different topics to unlock achievements.",keywords:"achievement badges, gamification, interview prep progress, study streaks, learning milestones",canonical:"https://open-interview.github.io/badges"}),e.jsx(ge,{title:"Badges",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-bold",children:"Your Collection"})]}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:[d,"/",o]})]}),e.jsx("div",{className:"h-2 bg-muted/30 rounded-full overflow-hidden mb-2",children:e.jsx(f.div,{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full",initial:{width:0},animate:{width:`${k}%`},transition:{duration:1,ease:"easeOut"}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:[k,"% Complete"]}),e.jsxs("span",{children:[o-d," badges remaining"]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx("button",{onClick:()=>l(null),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex-shrink-0
                ${m?"bg-muted/50 hover:bg-muted":"bg-primary text-primary-foreground"}`,children:"All"}),h.map(t=>{const a=p[t]||[],x=a.filter(j=>j.isUnlocked).length;return e.jsxs("button",{onClick:()=>l(t),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex items-center gap-1.5 flex-shrink-0
                    ${m===t?"bg-primary text-primary-foreground":"bg-muted/50 hover:bg-muted"}`,children:[z[t],e.jsx("span",{children:B(t)}),e.jsxs("span",{className:"opacity-70 text-[10px]",children:[x,"/",a.length]})]},t)})]}),e.jsx("div",{className:"space-y-6",children:h.filter(t=>!m||m===t).map(t=>{const a=p[t]||[];return a.length===0?null:e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 rounded bg-primary/10 text-primary",children:z[t]}),e.jsx("span",{className:"font-bold uppercase text-sm",children:B(t)}),e.jsxs("span",{className:"text-[10px] text-muted-foreground ml-auto",children:[a.filter(x=>x.isUnlocked).length,"/",a.length]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:a.map((x,j)=>e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:j*.03},className:"flex justify-center",children:e.jsx(E,{progress:x,size:"md",onClick:()=>u(x)})},x.badge.id))})]},t)})}),e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"border border-border p-4 bg-card rounded-lg mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(V,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-bold uppercase text-sm",children:"Next Up"})]}),e.jsxs("div",{className:"space-y-3",children:[r.filter(t=>!t.isUnlocked&&t.progress>0).sort((t,a)=>a.progress-t.progress).slice(0,3).map((t,a)=>e.jsxs(f.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+a*.1},className:"flex items-center gap-3 p-2 bg-muted/10 rounded cursor-pointer hover:bg-muted/20 transition-colors",onClick:()=>u(t),children:[e.jsx(E,{progress:t,size:"sm",showProgress:!1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold",children:t.badge.name}),e.jsx("div",{className:"h-1.5 bg-muted/30 rounded-full overflow-hidden mt-1",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,backgroundColor:w(t.badge.tier)}})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-bold",style:{color:w(t.badge.tier)},children:[Math.round(t.progress),"%"]}),e.jsxs("div",{className:"text-[9px] text-muted-foreground",children:[t.current,"/",t.badge.requirement]})]}),e.jsx(oe,{className:"w-4 h-4 text-muted-foreground"})]},t.badge.id)),r.filter(t=>!t.isUnlocked&&t.progress>0).length===0&&e.jsx("div",{className:"text-center text-muted-foreground text-sm py-4",children:"Complete some questions to start earning badges!"})]})]})]})}),ae.createPortal(e.jsx(ie,{children:s&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,perspective:1e3},onClick:()=>u(null),children:e.jsx(Ce,{className:"relative",children:e.jsxs(f.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-card border border-border rounded-2xl p-6 max-w-xs w-full shadow-2xl",style:{transformStyle:"preserve-3d"},onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>u(null),className:"absolute top-4 left-4 p-2 hover:bg-muted rounded-full transition-colors",style:{transform:"translateZ(20px)"},children:e.jsx(le,{className:"w-4 h-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex flex-col items-center text-center pt-2",children:[e.jsx("div",{className:`relative ${s.isUnlocked?"drop-shadow-[0_0_25px_rgba(var(--primary-rgb),0.4)]":""}`,style:{transform:"translateZ(40px)"},children:e.jsx(E,{progress:s,size:"lg",showProgress:!1})}),e.jsx("h3",{className:"text-xl font-bold mt-4 tracking-tight",style:{transform:"translateZ(25px)"},children:s.badge.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",style:{transform:"translateZ(15px)"},children:s.badge.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",style:{transform:"translateZ(20px)"},children:[e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-bold tracking-wide",style:{backgroundColor:`${w(s.badge.tier)}15`,color:w(s.badge.tier),border:`1px solid ${w(s.badge.tier)}30`},children:s.badge.tier}),e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-medium tracking-wide bg-muted/50 text-muted-foreground",children:B(s.badge.category)})]}),e.jsxs("div",{className:"w-full mt-6 p-4 bg-muted/20 rounded-xl",style:{transform:"translateZ(5px)"},children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"font-bold",children:[s.current,"/",s.badge.requirement," ",s.badge.unit]})]}),e.jsx("div",{className:"h-2.5 bg-muted/40 rounded-full overflow-hidden",children:e.jsx(f.div,{className:"h-full rounded-full",style:{backgroundColor:w(s.badge.tier)},initial:{width:0},animate:{width:`${Math.min(s.progress,100)}%`},transition:{duration:.6,ease:"easeOut"}})})]}),e.jsx("div",{className:"mt-5 w-full",style:{transform:"translateZ(10px)"},children:s.isUnlocked?e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-green-500/10 rounded-xl border border-green-500/20",children:[e.jsx(ce,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-500",children:["Unlocked ",s.unlockedAt?new Date(s.unlockedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"/"):"recently"]})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-muted/30 rounded-xl",children:[e.jsx(F,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.badge.requirement-s.current," ",s.badge.unit," to unlock"]})]})})]})]})})})}),document.body)]})}export{Fe as default};
