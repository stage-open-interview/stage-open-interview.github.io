import{u as R,q as $,s as D,n as F,r as h,j as e,m as x,F as T,v as z,w as P,T as Q,p as U,o as W,B as q,Z as G}from"./index-DaVim63q.js";import{A as H}from"./AppLayout-CoUGwf8f.js";import{u as Z}from"./use-stats-BuKghoSE.js";import{u as _,G as X}from"./use-level-B7aI3ZPw.js";import{S as K}from"./SEOHead-lt9duIEQ.js";import"./Button-CCjEHFld.js";import{M as S}from"./MetricCard-BI3IvJLU.js";import{i as J,g as Y,a as ee,b as se,s as te,c as ae,d as re,e as ie}from"./text-to-speech-JKTbiyjG.js";import{C as ne}from"./code-SK9E8O8B.js";import{T as M}from"./target-CN6vs2YH.js";import{S as le}from"./shuffle-w7jG_xTh.js";import{E as oe}from"./eye-CDJk8amT.js";import{B as ce}from"./bell-DWjOPABZ.js";import{C as de,H as me}from"./trending-down-BtM_HTcE.js";import{M as xe}from"./mic-DgyLutKd.js";import{B as ue}from"./tag-Dv-3imZU.js";import{V as he}from"./volume-2-Cc0nC1Uj.js";import{P as pe}from"./play-C4sOWMoo.js";import"./UnifiedSearch-BozZP-3f.js";import"./coding-challenges-D2b0VtNy.js";import"./arrow-right-CPirRxXj.js";import"./loader-circle-LN3j_L4i.js";import"./chevron-left-BgLpvL-n.js";import"./chart-column-PwV_y1cF.js";import"./user-DV2axChb.js";function Qe(){const[,r]=R(),{stats:o}=Z(),{getSubscribedChannels:c,preferences:i,toggleShuffleQuestions:p,togglePrioritizeUnvisited:N}=$(),{stats:d}=D(),{balance:b,state:v,history:y,onRedeemCoupon:C,formatCredits:g,config:f}=F(),{levelProgress:s,currentStreak:t}=_(),l=c(),[n,w]=h.useState(""),[k,V]=h.useState(null),B=o.reduce((a,m)=>a+m.total,0),E=l.reduce((a,m)=>{const j=JSON.parse(localStorage.getItem(`progress-${m.id}`)||"[]");return a+j.length},0),O=(()=>{let a=0;for(let m=0;m<365;m++){const j=new Date;if(j.setDate(j.getDate()-m),d.find(L=>L.date===j.toISOString().split("T")[0]))a++;else break}return a})(),I=d.length;return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Profile - Code Reels",description:"View your learning progress and achievements"}),e.jsx(H,{title:"Profile",showBackOnMobile:!0,children:e.jsx("div",{className:"max-w-6xl mx-auto pb-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary via-primary/90 to-primary/70 p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-white/80 text-sm",children:"Experience"}),e.jsxs("span",{className:"text-white text-2xl font-bold",children:[s.currentXP.toLocaleString()," XP"]})]}),e.jsx("div",{className:"w-full max-w-[200px] bg-white/20 rounded-full h-2.5 mb-1.5",children:e.jsx("div",{className:"bg-white h-2.5 rounded-full transition-all duration-700",style:{width:`${s.progress}%`}})}),e.jsxs("div",{className:"text-white/70 text-xs",children:[s.xpForNext," XP to next level"]})]}),e.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl px-4 py-2.5 text-center border border-white/20",children:[e.jsxs("div",{className:"text-white/80 text-xs font-semibold uppercase tracking-wider",children:["Level ",s.currentLevel.level]}),e.jsx("div",{className:"text-white text-lg font-bold",children:s.currentLevel.title})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-white text-xl font-bold",children:"Interview Prep"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Mastering technical interviews"})]}),t>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-orange-500/20 px-3 py-1.5 rounded-full border border-orange-400/30",children:[e.jsx(T,{className:"w-4 h-4 text-orange-300"}),e.jsxs("span",{className:"text-orange-200 text-sm font-medium",children:[t," day streak"]})]})]})]}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg flex-shrink-0",children:e.jsx(ne,{className:"w-7 h-7 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:E}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:l.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Topics"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:I}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Days Active"})]})]})]})})]}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3",children:[e.jsx(S,{icon:e.jsx(T,{className:"w-5 h-5"}),value:O.toString(),label:"Day Streak",variant:"warning",size:"md"}),e.jsx(S,{icon:e.jsx(M,{className:"w-5 h-5"}),value:`${Math.round(E/B*100)||0}%`,label:"Progress",variant:"success",size:"md"}),e.jsx(S,{icon:e.jsx(z,{className:"w-5 h-5"}),value:I.toString(),label:"Days Active",variant:"info",size:"md"}),e.jsx(S,{icon:e.jsx(P,{className:"w-5 h-5"}),value:E.toString(),label:"Questions Done",variant:"default",size:"md"})]}),e.jsx(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:e.jsxs("button",{onClick:()=>r("/badges"),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:e.jsx(Q,{className:"w-5 h-5 text-yellow-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold",children:"Achievements"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View your badges"})]})]}),e.jsx(U,{className:"w-5 h-5 text-muted-foreground"})]})}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Settings"})}),e.jsxs("div",{className:"divide-y divide-border/50",children:[e.jsx(A,{icon:e.jsx(le,{className:"w-5 h-5"}),label:"Shuffle Questions",sublabel:"Randomize question order",enabled:i.shuffleQuestions!==!1,onToggle:p}),e.jsx(A,{icon:e.jsx(oe,{className:"w-5 h-5"}),label:"Unvisited First",sublabel:"Show new questions first",enabled:i.prioritizeUnvisited!==!1,onToggle:N}),e.jsx(u,{icon:e.jsx(ce,{className:"w-5 h-5"}),label:"Notifications",sublabel:"View all alerts",onClick:()=>r("/notifications")}),e.jsx(u,{icon:e.jsx(de,{className:"w-5 h-5"}),label:"About",sublabel:"App information",onClick:()=>r("/about")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 rounded-2xl border border-amber-500/20 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center",children:e.jsx(W,{className:"w-6 h-6 text-amber-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[g(b)," Credits"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earned: ",g(v.totalEarned)," Â· Spent: ",g(v.totalSpent)]})]})]})}),e.jsxs("div",{className:"bg-black/10 rounded-lg p-3 mb-4",children:[e.jsxs("h4",{className:"text-xs font-semibold text-amber-400 mb-2 flex items-center gap-1",children:[e.jsx(xe,{className:"w-3 h-3"})," Earn Credits"]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Voice interview attempt"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_ATTEMPT]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successful interview (hire)"}),e.jsxs("span",{className:"text-amber-400",children:["+",f.VOICE_SUCCESS_BONUS," bonus"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"View question"}),e.jsxs("span",{className:"text-red-400",children:["-",f.QUESTION_VIEW_COST]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(X,{className:"w-3 h-3"})," Redeem Coupon"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:a=>w(a.target.value.toUpperCase()),placeholder:"Enter code",className:"flex-1 px-3 py-2 bg-black/20 border border-border rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-amber-500"}),e.jsx("button",{onClick:()=>{if(!n.trim())return;const a=C(n);V({type:a.success?"success":"error",text:a.message}),a.success&&w(""),setTimeout(()=>V(null),3e3)},className:"px-4 py-2 bg-amber-500 text-white text-sm font-bold rounded-lg hover:bg-amber-600 transition-colors",children:"Apply"})]}),k&&e.jsx("p",{className:`text-xs mt-2 ${k.type==="success"?"text-green-400":"text-red-400"}`,children:k.text})]}),y.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-500/20",children:[e.jsxs("h4",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3"})," Recent Activity"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:y.slice(0,5).map(a=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.description}),e.jsxs("span",{className:a.amount>0?"text-green-400":"text-red-400",children:[a.amount>0?"+":"",a.amount]})]},a.id))})]})]}),e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsx(u,{icon:e.jsx(ue,{className:"w-5 h-5"}),label:"Bookmarks",sublabel:"Saved questions",onClick:()=>r("/bookmarks")}),e.jsx(u,{icon:e.jsx(q,{className:"w-5 h-5"}),label:"My Channels",sublabel:`${l.length} subscribed`,onClick:()=>r("/channels")}),e.jsx(u,{icon:e.jsx(G,{className:"w-5 h-5"}),label:"Coding Challenges",sublabel:"Practice coding",onClick:()=>r("/coding")}),e.jsx(u,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Mock Tests",sublabel:"Test your knowledge",onClick:()=>r("/tests")}),e.jsx(u,{icon:e.jsx(P,{className:"w-5 h-5"}),label:"Statistics",sublabel:"View detailed stats",onClick:()=>r("/stats")})]}),J()&&e.jsxs(x.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border/50 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Voice Settings"})]}),e.jsx(be,{})]})]})]})})})]})}function u({icon:r,label:o,sublabel:c,onClick:i}){return e.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:o}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]}),e.jsx(U,{className:"w-5 h-5 text-muted-foreground pointer-events-none"})]})}function A({icon:r,label:o,sublabel:c,enabled:i,onToggle:p}){return e.jsxs("button",{type:"button",onClick:p,className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors border-b border-border/50 last:border-b-0 active:bg-muted/70 cursor-pointer touch-manipulation",children:[e.jsxs("div",{className:"flex items-center gap-3 pointer-events-none",children:[e.jsx("span",{className:i?"text-primary":"text-muted-foreground",children:r}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-sm",children:o}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-colors relative ${i?"bg-primary":"bg-muted"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]})}function be(){const[r,o]=h.useState([]),[c,i]=h.useState(""),[p,N]=h.useState(.9),[d,b]=h.useState(!1);h.useEffect(()=>{const s=()=>{const t=ee();o(t);const l=se();if(l&&t.find(n=>n.name===l))i(l);else if(t.length>0){const n=t.find(w=>w.lang.startsWith("en"));i(n?.name||t[0].name)}};s(),N(Y()),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=s)},[]);const v=s=>{i(s),te(s)},y=s=>{N(s),ae(s)},C=()=>{if(d){re(),b(!1);return}b(!0),ie("Hello! This is how I will read the answers for you. You can adjust the speed using the slider below.",{onEnd:()=>b(!1),onError:()=>b(!1)})},g=r.reduce((s,t)=>{const l=t.lang,n=ge(l);return s[n]||(s[n]=[]),s[n].push(t),s},{}),f=Object.keys(g).sort((s,t)=>s.startsWith("English")&&!t.startsWith("English")?-1:!s.startsWith("English")&&t.startsWith("English")?1:s.localeCompare(t));return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Voice"}),e.jsx("select",{value:c,onChange:s=>v(s.target.value),className:"w-full px-3 py-2.5 bg-muted/50 border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",children:f.map(s=>e.jsx("optgroup",{label:s,children:g[s].map(t=>e.jsx("option",{value:t.name,children:t.name},t.name))},s))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Speed"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.toFixed(1),"x"]})]}),e.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:p,onChange:s=>y(parseFloat(s.target.value)),className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-1",children:[e.jsx("span",{children:"Slower"}),e.jsx("span",{children:"Faster"})]})]}),e.jsxs("button",{onClick:C,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-colors ${d?"bg-primary text-primary-foreground":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:[e.jsx(pe,{className:`w-4 h-4 ${d?"animate-pulse":""}`}),d?"Playing...":"Test Voice"]})]})}function ge(r){return{"en-US":"English (US)","en-GB":"English (UK)","en-AU":"English (Australia)","en-IN":"English (India)","en-ZA":"English (South Africa)","en-IE":"English (Ireland)","en-NZ":"English (New Zealand)",en:"English","hi-IN":"Hindi","ta-IN":"Tamil","te-IN":"Telugu","mr-IN":"Marathi","bn-IN":"Bengali","gu-IN":"Gujarati","kn-IN":"Kannada","ml-IN":"Malayalam","pa-IN":"Punjabi"}[r]||r}export{Qe as default};
