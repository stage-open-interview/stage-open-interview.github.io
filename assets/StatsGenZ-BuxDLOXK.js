import{u as A,a as L,b as D,r as u,g as T,d as C,j as e,m as d,Z as P,T as g}from"./index-droZKZMs.js";import{A as $}from"./AppLayout-D06Gzpgh.js";import{c as M}from"./data-CElKNvvV.js";import{S as I}from"./SEOHead-CV--YTwk.js";import"./haptics-yFl-UpqN.js";import{P as F,S as O}from"./PullToRefresh-CIz2tIT3.js";import{F as Q}from"./use-focus-trap-BtEs1tEG.js";import{T as _}from"./use-unified-toast-Bobj0NUv.js";import{C as E}from"./calendar-DnTWpOf2.js";import"./sparkles-DFVG2D1j.js";import"./UnifiedSearch-Hpg4UHxs.js";import"./UnifiedNav-D2OIJ2yg.js";import"./chart-column-BfVcZjvs.js";import"./user-Bjz6E01e.js";import"./use-reduced-motion-BJcb-Lo4.js";import"./index-D1AFANWw.js";import"./use-transform-B1rEYkB_.js";import"./index-j_k9W816.js";function re(){const[,b]=A(),{stats:n}=L(),{balance:m}=D(),[f,j]=u.useState(!1),{totalCompleted:y,totalQuestions:R,streak:v,moduleProgress:N}=u.useMemo(()=>{const s=T(),a=new Set,r=M.map(t=>{const i=C(t.id),o=localStorage.getItem(`progress-${t.id}`),p=o?new Set(JSON.parse(o)):new Set;Array.from(p).forEach(S=>a.add(S));const h=Math.min(p.size,i.length),k=i.length>0?Math.min(100,Math.round(h/i.length*100)):0;return{id:t.id,name:t.name,completed:h,total:i.length,pct:k}}).filter(t=>t.total>0).sort((t,i)=>i.pct-t.pct);let l=0;for(let t=0;t<365;t++){const i=new Date;if(i.setDate(i.getDate()-t),n.find(o=>o.date===i.toISOString().split("T")[0]))l++;else break}return{totalCompleted:a.size,totalQuestions:s.length,streak:l,moduleProgress:r}},[n]),c=Math.floor(m/100),x=m%100,w=async()=>{j(!0),await new Promise(s=>setTimeout(s,500)),window.location.reload()};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Your Stats - Track Your Progress ðŸ“Š",description:"See your learning progress, streaks, and achievements",canonical:"https://open-interview.github.io/stats"}),e.jsx($,{children:e.jsx(F,{onRefresh:w,children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-black text-black dark:text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-8 md:py-12",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4 md:space-y-6 mb-8 md:mb-12",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black",children:["Your",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-primary to-cyan-500 bg-clip-text text-transparent",children:"progress"})]}),e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground",children:"Keep crushing it ðŸ’ª"})]}),f?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-12",children:[...Array(4)].map((s,a)=>e.jsx(O,{},a))}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-12",children:[e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"p-6 md:p-8 bg-gradient-to-br from-orange-500/20 to-red-500/20 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-orange-500/30",children:[e.jsx(Q,{className:"w-10 h-10 md:w-12 md:h-12 text-orange-500 mb-3 md:mb-4"}),e.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2",children:v}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:"day streak"})]}),e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"p-6 md:p-8 bg-gradient-to-br from-primary/20 to-cyan-500/20 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-primary/30",children:[e.jsx(P,{className:"w-10 h-10 md:w-12 md:h-12 text-primary mb-3 md:mb-4"}),e.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2",children:m}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:"total XP"})]}),e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"p-6 md:p-8 bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-purple-500/30",children:[e.jsx(g,{className:"w-10 h-10 md:w-12 md:h-12 text-purple-400 mb-3 md:mb-4"}),e.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2",children:c}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:"level"})]}),e.jsxs(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"p-6 md:p-8 bg-gradient-to-br from-[#ffd700]/20 to-[#ff8c00]/20 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-[#ffd700]/30",children:[e.jsx(_,{className:"w-10 h-10 md:w-12 md:h-12 text-[#ffd700] mb-3 md:mb-4"}),e.jsx("div",{className:"text-4xl md:text-5xl font-black mb-2",children:y}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:"completed"})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"p-6 md:p-8 bg-muted/50 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-border mb-8 md:mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-bold",children:["Level ",c]}),e.jsxs("span",{className:"text-sm md:text-base text-muted-foreground",children:[x,"/100 XP"]})]}),e.jsx("div",{className:"h-3 md:h-4 bg-muted rounded-full overflow-hidden",children:e.jsx(d.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:1,delay:.6},className:"h-full bg-gradient-to-r from-primary to-cyan-500"})})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-black",children:"Channel Progress"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:N.slice(0,10).map((s,a)=>e.jsxs(d.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+a*.05},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>b(`/channel/${s.id}`),className:"p-5 md:p-6 bg-muted/50 backdrop-blur-xl rounded-[18px] md:rounded-[20px] border border-border hover:border-border transition-all text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold truncate pr-2",children:s.name}),s.pct===100&&e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-br from-[#ffd700] to-[#ff8c00] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(g,{className:"w-4 h-4 md:w-5 md:h-5 text-black"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.completed,"/",s.total]}),e.jsxs("span",{className:"font-bold",children:[s.pct,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx(d.div,{initial:{width:0},animate:{width:`${s.pct}%`},transition:{duration:1,delay:.8+a*.1},className:"h-full bg-gradient-to-r from-primary to-cyan-500"})})]})]},s.id))})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-12 p-6 md:p-8 bg-muted/50 backdrop-blur-xl rounded-[20px] md:rounded-[24px] border border-border overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(E,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold",children:"Activity Heatmap"}),e.jsx("span",{className:"text-xs md:text-sm text-muted-foreground ml-auto",children:"Last 13 weeks"})]}),e.jsx("div",{className:"md:hidden overflow-x-auto -mx-6 px-6",children:e.jsxs("div",{className:"min-w-[600px] space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-muted-foreground justify-around py-1",children:[e.jsx("div",{children:"Mon"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{children:"Fri"})]}),e.jsx("div",{className:"grid grid-cols-13 gap-1",children:Array.from({length:91}).map((s,a)=>{const r=new Date;r.setDate(r.getDate()-(90-a));const l=n.find(t=>t.date===r.toISOString().split("T")[0]);return e.jsx(d.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1+a*.002},className:`aspect-square rounded-md transition-all hover:scale-110 ${l?"bg-gradient-to-br from-primary to-cyan-500 shadow-lg shadow-[#00ff88]/20":"bg-muted/50 hover:bg-muted"}`,title:`${r.toLocaleDateString()}${l?" - Active":""}`},a)})})]}),e.jsxs("div",{className:"flex items-center gap-4 justify-end pt-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:"Less"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-muted/50 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/30 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/60 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-primary to-cyan-500 rounded-sm"})]}),e.jsx("span",{children:"More"})]})]})}),e.jsxs("div",{className:"hidden md:block space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-xs text-muted-foreground justify-around py-1",children:[e.jsx("div",{children:"Mon"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{children:"Fri"})]}),e.jsx("div",{className:"grid grid-cols-13 gap-1",children:Array.from({length:91}).map((s,a)=>{const r=new Date;r.setDate(r.getDate()-(90-a));const l=n.find(t=>t.date===r.toISOString().split("T")[0]);return e.jsx(d.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1+a*.002},className:`aspect-square rounded-md transition-all hover:scale-110 ${l?"bg-gradient-to-br from-primary to-cyan-500 shadow-lg shadow-[#00ff88]/20":"bg-muted/50 hover:bg-muted"}`,title:`${r.toLocaleDateString()}${l?" - Active":""}`},a)})})]}),e.jsxs("div",{className:"flex items-center gap-4 justify-end pt-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:"Less"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-4 bg-muted/50 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/30 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-[#00ff88]/60 rounded-sm"}),e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-primary to-cyan-500 rounded-sm"})]}),e.jsx("span",{children:"More"})]})]})]})]})})})})]})}export{re as default};
