import{r as a,j as e,m,n as Qe,C as ut,K as he,Z as Be,a9 as xt,a8 as pt,i as Ie,o as G,u as ht,c as Ae,d as ft,e as bt,O as gt,f as yt,t as jt,g as wt,S as vt,X as Nt,h as Re,b as kt}from"./index-Bd4OfHjt.js";import{g as Oe}from"./data-CKpmvy58.js";import{u as Ct,b as St,a as Tt,R as $t,V as Et,c as At,T as Rt,P as Lt,C as Mt,I as Ft}from"./index-9KXRVCFT.js";import{Q as Pt}from"./QuestionHistory-Cr4J0pYT.js";import{Q as Dt}from"./QuestionFeedback-7XNX_Ww3.js";import{e as Ht,f as Qt,i as Bt,r as It,j as Ot,M as Ut,b as Vt,h as Wt,v as zt}from"./index-C5YrK7h1.js";import{B as fe}from"./bookmark-BGMfdiyv.js";import{B as Ue,F as Ve,T as _t,C as Gt,G as Kt}from"./tag-Dn0a4MoH.js";import{T as _}from"./target-DhIvVmUJ.js";import{E as We}from"./EnhancedMermaid-jwNvPvKV.js";import{S as Jt,Y as Yt,u as Xt,C as Zt}from"./use-swipe-DVHpDby9.js";import{G as qt}from"./GiscusComments-wQ-kq4Fv.js";import{B as es}from"./book-open-C2d09uNf.js";import{E as ts}from"./external-link-BZ51eAeS.js";import{F as ss}from"./file-text-C2oCq2zD.js";import{C as rs}from"./copy-C6wadhDd.js";import{L as Le}from"./lightbulb-BhybXBuA.js";import{C as ze}from"./chevron-down-DbHHO7xA.js";import{P as as}from"./play-BG7X4e5c.js";import{B as ns}from"./youtube-3SN_u0UW.js";import{U as is}from"./UnifiedSearch-ClhsMaBY.js";import{u as ls,C as be}from"./use-unified-toast-CTLjDvXk.js";import{a as os,l as ds}from"./tests-CRs_cQC6.js";import{a as cs}from"./square-pen-BF9EjQhR.js";import{M as ms}from"./zoom-out-bhabUq1C.js";import{S as Me}from"./share-2-_Ce2_qeN.js";import{S as us}from"./SEOHead-DMy2H_zX.js";import"./mic-CdTPNIKc.js";import"./arrow-right-CW9QK2F-.js";import"./history-DUsbZf-4.js";import"./trash-2-CiRO1oFz.js";import"./triangle-alert-BAlG1355.js";import"./plus-DErikAio.js";import"./user-CyQS8Ggn.js";import"./bot-Djgfy9Gz.js";import"./clock-DxtfVdFZ.js";import"./flag-DyXLOqyt.js";import"./ban-DFaZhzy2.js";import"./loader-circle-BLr-gu0E.js";import"./coffee-VCyAuLgp.js";import"./message-circle-DuKHD2-B.js";function xs(t){if(!t)return null;const s=t.split(`
`);return s.map((x,n)=>{const l=x.split(/`([^`]+)`/g).map((o,f)=>f%2===1?e.jsx("code",{className:"px-2 py-1 mx-1 bg-primary/10 text-primary rounded-md text-[0.95em] font-mono border border-primary/20",children:o},`${n}-${f}`):o);return e.jsxs("span",{children:[l,n<s.length-1&&e.jsx("br",{})]},n)})}function Fe({question:t,questionNumber:s,totalQuestions:x,isMarked:n,isCompleted:p,onToggleMark:l,onTapQuestion:o}){const[f,c]=a.useState(null),[r,b]=a.useState(!1),[k,g]=a.useState(!1),[d,v]=a.useState(!0);a.useEffect(()=>{if(t?.id){const w=Ht(t.id,t.channel,t.difficulty);c(C=>C?.questionId===w.questionId&&C?.totalReviews===w.totalReviews?C:w),b(!1),g(w.totalReviews>0)}},[t?.id,t?.channel,t?.difficulty]);const $=w=>{if(!t)return;const C=It(t.id,t.channel,t.difficulty,w);c(C),b(!0),g(!1)},u=()=>{if(!t)return;const w=Ot(t.id,t.channel,t.difficulty);c(w),g(!0)},A=(()=>{switch(t.difficulty){case"beginner":return{icon:Be,color:"text-green-500",bg:"bg-green-500/10",border:"border-green-500/30",glow:"shadow-green-500/20",label:"Easy",gradient:"from-green-500/10 to-emerald-500/10"};case"intermediate":return{icon:_,color:"text-yellow-500",bg:"bg-yellow-500/10",border:"border-yellow-500/30",glow:"shadow-yellow-500/20",label:"Medium",gradient:"from-yellow-500/10 to-orange-500/10"};case"advanced":return{icon:Ve,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/30",glow:"shadow-red-500/20",label:"Hard",gradient:"from-red-500/10 to-pink-500/10"};default:return{icon:_,color:"text-muted-foreground",bg:"bg-muted",border:"border-border",glow:"shadow-muted/20",label:"Unknown",gradient:"from-muted/10 to-muted/10"}}})(),K=A.icon;return e.jsxs("div",{className:"w-full h-full flex flex-col relative overflow-hidden bg-gradient-to-br from-background via-background to-muted/20","data-testid":"extreme-question-panel",onClick:o,children:[d&&e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-20",children:[...Array(10)].map((w,C)=>e.jsx(m.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3),scale:Math.random()*.5+.5},animate:{y:[null,Math.random()*(typeof window<"u"?window.innerHeight:1e3)],opacity:[.2,.4,.2],scale:[null,Math.random()*1.5+.5]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"}},C))}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 overflow-y-auto",children:[e.jsxs(m.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between gap-3 mb-6 pb-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg ${A.bg} border ${A.border}`,children:[e.jsx(K,{className:`w-3.5 h-3.5 ${A.color}`}),e.jsx("span",{className:`text-xs font-bold ${A.color}`,children:A.label})]}),t.isNew&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-primary/10 border border-primary/30 rounded-lg",children:[e.jsx(Qe,{className:"w-3.5 h-3.5 text-primary"}),e.jsx("span",{className:"text-xs font-bold text-primary",children:"NEW"})]}),p&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-green-500/10 border border-green-500/30 rounded-lg",children:e.jsx(ut,{className:"w-3.5 h-3.5 text-green-500"})})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Dt,{questionId:t.id}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-card border border-border rounded-lg",children:[e.jsx(he,{className:"w-3.5 h-3.5 text-primary"}),f&&e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full ${Bt(f.masteryLevel)} font-medium`,children:Qt(f.masteryLevel).slice(0,3)}),!r&&k&&f?e.jsx("div",{className:"flex items-center gap-0.5",children:[{rating:"again",label:"ðŸ˜•"},{rating:"hard",label:"ðŸ¤”"},{rating:"good",label:"ðŸ‘"},{rating:"easy",label:"ðŸŽ¯"}].map(w=>e.jsx("button",{onClick:C=>{C.stopPropagation(),$(w.rating)},className:"w-5 h-5 flex items-center justify-center rounded text-[10px] hover:bg-muted transition-all",children:w.label},w.rating))}):!r&&!k?e.jsx("button",{onClick:w=>{w.stopPropagation(),u()},className:"px-2 py-0.5 bg-primary hover:bg-primary/90 text-primary-foreground text-[9px] font-bold rounded transition-all",children:"+"}):e.jsx("span",{className:"text-[10px] text-green-500",children:"âœ“"})]}),e.jsx(Pt,{questionId:t.id,questionType:"question",size:"sm"}),e.jsx(m.button,{onClick:w=>{w.stopPropagation(),l()},className:`p-2 rounded-lg transition-all ${n?"bg-primary/10 text-primary border border-primary/30":"bg-card text-muted-foreground hover:text-primary border border-border"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(fe,{className:`w-4 h-4 ${n?"fill-current":""}`})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-5xl mx-auto w-full",children:[t.companies&&t.companies.length>0&&e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 mb-4 flex-wrap",children:[e.jsx(Ue,{className:"w-3.5 h-3.5 text-primary"}),t.companies.map((w,C)=>e.jsx("span",{className:"px-2.5 py-1 bg-primary/10 text-primary text-xs font-semibold rounded-full border border-primary/20",children:w},C))]}),e.jsx(m.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:`font-black text-foreground leading-[1.2] mb-4 ${t.question.length>200?"text-xl sm:text-2xl lg:text-3xl":t.question.length>100?"text-2xl sm:text-3xl lg:text-4xl":"text-3xl sm:text-4xl lg:text-5xl"}`,children:xs(t.question)}),e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-3",children:e.jsx("span",{className:"text-xs sm:text-sm text-primary uppercase tracking-wider font-bold",children:t.subChannel})}),t.tags&&t.tags.length>0&&e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex flex-wrap gap-1.5",children:[t.tags.slice(0,8).map((w,C)=>e.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground text-[10px] sm:text-xs font-mono rounded border border-border",children:w},w)),t.tags.length>8&&e.jsxs("span",{className:"text-[10px] text-muted-foreground py-0.5",children:["+",t.tags.length-8]})]})]}),e.jsx(m.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-center pt-4 border-t border-border mt-4",children:e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted border border-border rounded text-[9px] font-mono mx-1",children:"â†’"})," or tap to reveal answer"]})})]})]})}function ps(t){if(!t)return"";let s=t;s=s.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),s=s.replace(/\*\*\s*```/g,"**\n\n```"),s=s.replace(/```\s*\*\*/g,"```\n\n**"),s=s.replace(/```(\w*)\n([\s\S]*?)```/g,(p,l,o)=>{const f=o.replace(/\*\*/g,"");return"```"+l+`
`+f+"```"}),s=s.replace(/([^\n`])(\s*```)/g,"$1\n```"),s=s.replace(/(```\w*)\s*\n?\s*([^\n`])/g,`$1
$2`),s=s.replace(/:\s*```/g,":\n\n```"),s=s.replace(/^\*\*\s*$/gm,""),s=s.replace(/\*\*\s*\n\s*([^*]+)\*\*/g,"**$1**"),s=s.replace(/\*\*\s*\n\s*(\d+\.\s+[^*\n]+)\*\*/g,"**$1**"),s=s.replace(/\*\*\s*\n\s*(-\s+[^*\n]+)\*\*/g,"**$1**"),s=s.replace(/\*\*-\s+/g,`**
- `),s=s.replace(/\*\*(\d+)\.\s+/g,`**
$1. `),s=s.replace(/\*\*-\s*\*\*([^*]+)\*\*/g,`**
- **$1**`),s=s.replace(/\*\*-\s*\*\*([^*\n]+)/g,`**
- **$1**`),s=s.replace(/-\s*\*\*([^*]+)\*\*-\s+/g,`- **$1**
- `);const x=s.split(`
`),n=[];for(let p=0;p<x.length;p++){let l=x[p];const o=(l.match(/\*\*/g)||[]).length;o%2===1&&(l.trim().startsWith("**")&&o===1?l=l.replace(/^\s*\*\*\s*/,""):l.trim().endsWith("**")&&o===1&&(l=l.replace(/\s*\*\*\s*$/,""))),n.push(l)}return s=n.join(`
`),s=s.replace(/^[â€¢Â·]\s*/gm,"- "),(s.includes("â€¢")||s.includes("Â·"))&&(s=s.split(`
`).map(o=>{const f=(o.match(/[â€¢Â·]/g)||[]).length;if(f>1||f===1&&!o.trim().startsWith("â€¢")&&!o.trim().startsWith("Â·")){const c=o.split(/[â€¢Â·]/).map(r=>r.trim()).filter(r=>r);if(c.length>1)return c.map(r=>`- ${r}`).join(`
`)}return o.replace(/^[â€¢Â·]\s*/,"- ")}).join(`
`)),s=s.replace(/(\d+[.)]\s+[^0-9]+?)(?=\s+\d+[.)])/g,`$1
`),s=s.replace(new RegExp("(?<!\\n)(\\d+[.)]\\s+)","g"),`
$1`),s=s.replace(/\n{3,}/g,`

`),s=s.replace(/^\n+/,""),s}function Pe(t){if(!t||typeof t!="string")return!1;const s=t.trim();if(!s||s.length<10)return!1;const x=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],n=s.split(`
`)[0].toLowerCase().trim();if(!x.some(f=>n.startsWith(f.toLowerCase())))return!1;const l=s.split(`
`).filter(f=>{const c=f.trim().toLowerCase();return c&&!c.startsWith("%%")&&!x.some(r=>c.startsWith(r.toLowerCase()))});if(l.length<3)return!1;const o=s.toLowerCase();return!(o.includes("start")&&o.includes("end")&&l.length<=3||o.match(/\bstart\b/g)?.length===1&&o.match(/\bend\b/g)?.length===1&&l.length<=2)}function De(t){return t?t.split(/`([^`]+)`/g).map((x,n)=>n%2===1?e.jsx("code",{className:"px-2 py-1 mx-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:x},n):x):null}function hs({code:t,language:s}){const[x,n]=a.useState(!1),p=async()=>{await navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden border border-border bg-card shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-muted border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm uppercase tracking-wider text-primary font-bold",children:s||"code"})]}),e.jsx(m.button,{onClick:p,className:"flex items-center gap-2 px-4 py-2 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:x?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-green-500 font-medium",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(Wt,{language:s||"text",style:zt,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.875rem",lineHeight:"1.6"},wrapLines:!0,wrapLongLines:!0,children:t})]})}function fs({question:t,hasTldr:s,hasDiagram:x,hasEli5:n,hasVideo:p}){const[l,o]=a.useState(null),f=x&&l!==!1,c=[];s&&c.push("tldr"),f&&c.push("diagram"),n&&c.push("eli5"),p&&c.push("video");const[r,b]=a.useState(()=>s?"tldr":n?"eli5":p?"video":"diagram");a.useEffect(()=>{l===!1&&r==="diagram"&&(s?b("tldr"):n?b("eli5"):p&&b("video"))},[l,r,s,n,p]);const k=a.useCallback(d=>{o(d)},[]);if(c.length===0&&l===!1)return null;if(c.length===0&&!s&&!n&&!p&&l===null)return e.jsx("div",{className:"rounded-2xl border border-border bg-card p-6 text-center text-muted-foreground text-sm backdrop-blur-xl",children:"Loading media..."});if(c.length===0)return null;const g={tldr:{label:"Quick Answer",icon:e.jsx(Le,{className:"w-4 h-4"})},diagram:{label:"Visual",icon:e.jsx(Kt,{className:"w-4 h-4"})},eli5:{label:"Simple",icon:e.jsx(ns,{className:"w-4 h-4"})},video:{label:"Video",icon:e.jsx(as,{className:"w-4 h-4"})}};return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card backdrop-blur-xl overflow-hidden shadow-xl",children:[e.jsx("div",{className:"flex border-b border-border bg-muted/30",children:c.map(d=>e.jsxs(m.button,{onClick:()=>b(d),className:`flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-bold transition-all relative ${r===d?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[g[d].icon,e.jsx("span",{className:"hidden sm:inline",children:g[d].label}),r===d&&e.jsx(m.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]},d))}),e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs(G,{mode:"wait",children:[r==="tldr"&&s&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx(Le,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:De(t.answer)})]},"tldr"),r==="diagram"&&x&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(We,{chart:t.diagram,onRenderResult:k})},"diagram"),r==="eli5"&&n&&e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:De(t.eli5||"")})]},"eli5"),r==="video"&&p&&e.jsx(m.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(Yt,{shortVideo:t.videos?.shortVideo,longVideo:t.videos?.longVideo})},"video")]})})]})}function bs({title:t,icon:s,children:x,defaultExpanded:n=!0,variant:p="default",badge:l}){const[o,f]=a.useState(n),c={default:"bg-card border-border",highlight:"bg-primary/10 border-primary/30",success:"bg-green-500/10 border-green-500/30",purple:"bg-purple-500/10 border-purple-500/30"},r={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border overflow-hidden backdrop-blur-xl ${c[p]}`,children:[e.jsxs(m.button,{onClick:()=>f(!o),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-muted/30 transition-colors",whileHover:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:r[p],children:s}),e.jsx("span",{className:"font-bold text-base text-foreground",children:t}),l&&e.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary text-xs font-bold rounded-full border border-primary/30",children:l})]}),e.jsx(m.div,{animate:{rotate:o?0:-90},transition:{duration:.2},children:e.jsx(ze,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx(G,{initial:!1,children:o&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"px-5 pb-5",children:x})})})]})}function He({question:t}){const s=a.useRef(null),x=typeof window<"u"&&window.innerWidth<640,[n,p]=a.useState(null);a.useEffect(()=>{xt.getByQuestionId(t.id).then(p)},[t.id]);const l=!!t.answer,o=!x&&Pe(t.diagram),f=!!t.eli5,c=!!(t.videos?.shortVideo||t.videos?.longVideo),r=l||o||f||c,b=a.useCallback(k=>{const g=ps(k);return e.jsx(Ut,{remarkPlugins:[Vt],components:{code({className:d,children:v}){const $=/language-(\w+)/.exec(d||""),u=$?$[1]:"",y=String(v).replace(/\n$/,"");return!$&&!String(v).includes(`
`)?e.jsx("code",{className:"px-2 py-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:v}):u==="mermaid"?Pe(y)?e.jsx("div",{className:"my-4",children:e.jsx(We,{chart:y})}):null:e.jsx("div",{className:"my-4",children:e.jsx(hs,{code:y,language:u})})},p({children:d}){return e.jsx("p",{className:"mb-3 leading-relaxed text-foreground text-sm sm:text-base",children:d})},h1({children:d}){return e.jsx("h1",{className:"text-lg sm:text-xl font-black mb-3 mt-6 text-foreground border-b border-border pb-2",children:d})},h2({children:d}){return e.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3 mt-5 text-foreground",children:d})},h3({children:d}){return e.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 mt-4 text-foreground",children:d})},strong({children:d}){return e.jsx("strong",{className:"font-bold text-foreground",children:d})},ul({children:d}){return e.jsx("ul",{className:"space-y-2 mb-3 ml-2",children:d})},ol({children:d}){return e.jsx("ol",{className:"space-y-2 mb-3 ml-2 [counter-reset:list-counter]",children:d})},li({children:d,node:v}){const u=v?.parent?.tagName==="ol";return e.jsxs("li",{className:"flex gap-3 text-foreground text-sm sm:text-base [counter-increment:list-counter]",children:[e.jsx("span",{className:"shrink-0 text-primary mt-1 font-bold",children:u?e.jsx("span",{className:"text-sm before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:"flex-1",children:d})]})},a({href:d,children:v}){return e.jsx("a",{href:d,className:"text-primary hover:text-primary/80 underline",target:"_blank",rel:"noopener noreferrer",children:v})},blockquote({children:d}){return e.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-3 bg-primary/5 text-muted-foreground italic text-sm sm:text-base",children:d})},table({children:d}){return e.jsx("div",{className:"my-4 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-xs sm:text-sm",children:d})})},th({children:d}){return e.jsx("th",{className:"px-3 py-2 text-left font-bold bg-muted border border-border text-xs sm:text-sm text-foreground",children:d})},td({children:d}){return e.jsx("td",{className:"px-3 py-2 border border-border text-xs sm:text-sm text-foreground",children:d})}},children:g})},[]);return e.jsx(m.div,{ref:s,initial:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-muted/10 to-background",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-6 pb-32 space-y-6",children:[r&&e.jsx(fs,{question:t,hasTldr:l,hasDiagram:o,hasEli5:f,hasVideo:c}),e.jsx(bs,{title:"Deep Dive Explanation",icon:e.jsx(es,{className:"w-5 h-5"}),defaultExpanded:!0,badge:t.explanation?`${Math.ceil(t.explanation.split(" ").length/200)} min read`:void 0,children:e.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:b(t.explanation)})}),e.jsx("div",{className:"flex items-start gap-3 pt-2",children:t.tags&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 text-primary mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(k=>e.jsx(m.span,{className:"px-3 py-1 bg-muted text-muted-foreground text-xs font-mono rounded-lg border border-border backdrop-blur-xl",whileHover:{scale:1.05,borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)"},children:pt(k)},k))})]})}),(t.sourceUrl||n)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.sourceUrl&&e.jsxs(m.a,{href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-card hover:bg-muted border border-border rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(ts,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-foreground font-medium",children:"Source"})]}),n&&e.jsxs(m.a,{href:`https://openstackdaily.github.io${n.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/30 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-primary font-medium",children:"Read Blog"})]})]}),e.jsx(Jt,{questionId:t.id,currentChannel:t.channel}),e.jsx(qt,{questionId:t.id})]})})}const ue=50,gs=5,ys=3,js=800;function ws({channelId:t,questionId:s}){const[x,n]=ht(),l=new URLSearchParams(x.split("?")[1]||"").get("q"),o=l||s,f=Oe(t||""),{subChannels:c}=Ct(t||""),r=f?{...f,subChannels:[{id:"all",name:"All Topics"},...c.map(i=>({id:i,name:i.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ")}))]}:null,[b,k]=a.useState("all"),[g,d]=a.useState("all"),[v,$]=a.useState("all"),[u,y]=a.useState(0),[A,K]=a.useState(!1),[w,C]=a.useState(!1),[J,P]=a.useState(!1),[Y,R]=a.useState("question"),[_e,Ge]=a.useState(!1),[H,Ke]=a.useState([]),[Q,X]=a.useState(!1),[M,ge]=a.useState([]),[Z,q]=a.useState(0),[ye,ee]=a.useState([]),[je,B]=a.useState(!1),[Cs,I]=a.useState(null),[Ss,te]=a.useState(!1),[Ts,Je]=a.useState(!1),[L,O]=a.useState(new Set),[$s,we]=a.useState(new Set),ve=`channel-session-${t}`,U=`channel-checkpoints-${t}`,V=a.useCallback(()=>{if(!t||S.length===0)return;const i={channelId:t,channelName:r?.name,questions:S,currentIndex:u,selectedSubChannel:b,selectedDifficulty:g,selectedCompany:v,passedCheckpoints:Array.from(L),lastAccessedAt:new Date().toISOString()};localStorage.setItem(ve,JSON.stringify(i))},[t,r,S,u,b,g,v,L,ve]);a.useCallback(()=>{V(),n("/channels")},[V,n]),a.useEffect(()=>{try{const i=localStorage.getItem(U);i&&O(new Set(JSON.parse(i)))}catch{}},[U]),a.useEffect(()=>{t&&localStorage.setItem(U,JSON.stringify(Array.from(L)))},[L,t,U]),a.useEffect(()=>{S.length>0&&V()},[u,L,V,S.length]);const{companiesWithCounts:se}=Tt(t||"",b,g),{preferences:Ne,isSubscribed:re,subscribeChannel:Ye}=Ae(),Xe=Ne.shuffleQuestions!==!1,Ze=Ne.prioritizeUnvisited!==!1,{onQuestionSwipe:qe,onQuestionView:et,balance:Es,formatCredits:As,refreshBalance:ke}=ft(),{trackEvent:tt}=bt(),{question:j,questions:S,totalQuestions:N,loading:T,error:st}=St(t||"",u,b,g,v,Xe,Ze);a.useEffect(()=>{(async()=>{if(t)try{const h=await ds();Ke(h.filter(F=>F.channelId===t))}catch(h){console.error("Failed to load tests:",h)}})()},[t]);const ae=a.useCallback(i=>i>0&&i%gs===0,[]),ne=a.useCallback(i=>L.has(i),[L]),W=a.useCallback(()=>{if(H.length===0)return[];const i=H[Math.floor(Math.random()*H.length)];return os(i,ys)},[H]),ie=a.useCallback(()=>{const i=W();i.length>0?(ge(i),q(0),ee([]),B(!1),I(null),te(!1),we(new Set),X(!0)):(O(h=>new Set(Array.from(h).concat(u))),E({title:"Checkpoint passed!"}))},[W,u,E]);a.useCallback(i=>{if(je)return;const h=M[Z],F=h.options.find(D=>D.isCorrect),mt=i===F?.id,Ee={questionId:h.id,selectedOptionId:i,isCorrect:mt,correctOptionId:F?.id||""};ee(D=>[...D,Ee]),I(Ee),B(!0),setTimeout(()=>{B(!1),I(null),Z<M.length-1?q(D=>D+1):te(!0)},js)},[je,M,Z]);const Ce=a.useMemo(()=>{const i=ye.filter(h=>h.isCorrect).length;return{correct:i,total:M.length,passed:i===M.length}},[ye,M.length]);a.useCallback(()=>{const i=W();ge(i),q(0),ee([]),B(!1),I(null),te(!1),we(new Set)},[W]),a.useCallback(()=>{gt(ue,"Skipped checkpoint test").success?(O(h=>new Set(Array.from(h).concat(u))),X(!1),Je(!1),ke(),E({title:"Test Skipped",description:`-${ue} credits`})):E({title:"Insufficient Credits",description:`Need ${ue} credits`})},[u,ke,E]),a.useCallback(()=>{Ce.passed&&O(i=>new Set(Array.from(i).concat(u))),X(!1)},[Ce.passed,u]);const{completed:rt,markCompleted:at,saveLastVisitedIndex:nt}=yt(t||""),{toast:E}=ls(),[it,lt]=a.useState(()=>{const i=localStorage.getItem(`marked-${t}`);return i?JSON.parse(i):[]}),le=Xt({onSwipeLeft:()=>R("answer"),onSwipeRight:()=>R("question")}),[oe,Se]=a.useState(!1);a.useEffect(()=>{if(!(T||S.length===0))if(o){const i=S.findIndex(h=>h.id===o);i>=0&&i!==u&&y(i),l&&n(`/extreme/channel/${t}/${o}`,{replace:!0}),Se(!0)}else S[0]&&!oe&&(n(`/extreme/channel/${t}/${S[0].id}`,{replace:!0}),Se(!0))},[o,S.length,t,T,l]),a.useEffect(()=>{t&&r&&!re(t)&&(T||(N>0&&S.length>0?(Ye(t),E({title:"Channel added",description:`${r.name} added to your channels`})):(E({title:"Cannot add channel",description:`${r.name} has no questions available`,variant:"destructive"}),setTimeout(()=>{n("/")},2e3)))),t&&$t.trackChannelVisit(t)},[t,r,T,N,S.length]);const{unsubscribeChannel:ot}=Ae();a.useEffect(()=>{!T&&t&&r&&re(t)&&(N===0||S.length===0)&&(ot(t),E({title:"Channel removed",description:`${r.name} has no questions available and was removed from your channels`,variant:"destructive"}),setTimeout(()=>{n("/")},2e3))},[T,N,S.length,t,r,re]),a.useEffect(()=>{N>0&&u>=N&&y(0)},[N,u]),a.useEffect(()=>{!oe||T||!t||!j||(j.id!==o&&n(`/extreme/channel/${t}/${j.id}`,{replace:!0}),nt(u))},[u,oe]),a.useEffect(()=>{j&&(jt(j.id,j.channel,j.difficulty),at(j.id),wt(),tt({type:"question_completed",timestamp:new Date().toISOString(),data:{questionId:j.id,difficulty:j.difficulty,channel:j.channel}}))},[j?.id]),a.useEffect(()=>{const i=h=>{if((h.metaKey||h.ctrlKey)&&h.key==="k"){h.preventDefault(),P(!0);return}J||Q||(h.key==="ArrowRight"||h.key==="ArrowDown"?(h.preventDefault(),Te()):h.key==="ArrowLeft"||h.key==="ArrowUp"?(h.preventDefault(),$e()):h.key==="Escape"&&n("/"))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[u,N,J,Q]),a.useEffect(()=>{ae(u)&&!ne(u)&&!Q&&!T&&ie()},[u,ae,ne,Q,T,ie]);const Te=()=>{if(u<N-1){const i=u+1;if(ae(i)&&!ne(i)){y(i),ie();return}y(i),R("question"),qe(),et()}},$e=()=>{u>0&&(y(i=>i-1),R("question"))},de=(i,h)=>{y(0),i==="sub"?k(h):i==="diff"?d(h):$(h)},ce=()=>{j&&lt(i=>{const h=i.includes(j.id)?i.filter(F=>F!==j.id):[...i,j.id];return localStorage.setItem(`marked-${t}`,JSON.stringify(h)),h})},dt=async()=>{try{await navigator.clipboard.writeText(window.location.href),E({title:"Link copied!",description:"Question link copied to clipboard"})}catch{E({title:"Share",description:window.location.href})}};if(a.useEffect(()=>{!T&&r&&N===0&&(b!=="all"||g!=="all"||v!=="all"||(E({title:"Content coming soon!",description:`We're preparing questions for "${r.name}". Check back soon!`,variant:"warning"}),Ge(!0)))},[T,r,N,b,g,v]),T&&!j)return e.jsx(vs,{});if(st||!r)return e.jsx("div",{className:"h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Channel not found"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:['The channel "',t,`" doesn't exist.`]}),e.jsx("button",{onClick:()=>n("/"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg",children:"Go Home"})]})});if(!T&&(!j||N===0))return!(b!=="all"||g!=="all"||v!=="all")||_e?e.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[e.jsx(xe,{channel:r,onBack:()=>n("/"),onSearch:()=>P(!0),currentIndex:u,totalQuestions:N,progress:0,filters:{selectedSubChannel:b,selectedDifficulty:g,selectedCompany:v,companiesWithCounts:se,onFilterChange:de}}),e.jsx(Zt,{type:"channel",name:r?.name,redirectTo:"/channels",redirectDelay:5e3})]}):e.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[e.jsx(xe,{channel:r,onBack:()=>n("/"),onSearch:()=>P(!0),currentIndex:u,totalQuestions:N,progress:0,filters:{selectedSubChannel:b,selectedDifficulty:g,selectedCompany:v,companiesWithCounts:se,onFilterChange:de}}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"No questions found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters."}),e.jsx("button",{onClick:()=>{k("all"),d("all"),$("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg",children:"Reset Filters"})]})})]});if(!j)return null;const me=it.includes(j.id),z=rt.includes(j.id),ct=Math.round((u+1)/N*100);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`h-screen flex flex-col bg-background text-foreground overflow-hidden ${A?"fixed inset-0 z-50":""}`,children:[e.jsx(xe,{channel:r,onBack:()=>n("/"),onSearch:()=>P(!0),currentIndex:u,totalQuestions:N,progress:ct,onFullscreen:()=>K(!A),filters:{selectedSubChannel:b,selectedDifficulty:g,selectedCompany:v,companiesWithCounts:se,onFilterChange:de}}),e.jsxs("div",{className:"flex-1 flex overflow-hidden isolate","data-testid":"reels-content",children:[e.jsxs("div",{className:"hidden lg:flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-1/2 border-r border-border overflow-hidden flex-shrink-0",children:e.jsx(Fe,{question:j,questionNumber:u+1,totalQuestions:N,isMarked:me,isCompleted:z,onToggleMark:ce})}),e.jsx("div",{className:"w-1/2 overflow-hidden flex-shrink-0",children:e.jsx(He,{question:j,isCompleted:z})})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:hidden overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-border bg-card backdrop-blur relative z-10",children:[e.jsx("button",{onClick:()=>R("question"),className:`flex-1 py-3 text-sm font-medium transition-colors ${Y==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),e.jsx("button",{onClick:()=>R("answer"),className:`flex-1 py-3 text-sm font-medium transition-colors ${Y==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-background relative z-0 pb-20",onTouchStart:le.onTouchStart,onTouchMove:le.onTouchMove,onTouchEnd:le.onTouchEnd,children:Y==="question"?e.jsx(Fe,{question:j,questionNumber:u+1,totalQuestions:N,isMarked:me,isCompleted:z,onToggleMark:ce,onTapQuestion:()=>R("answer")}):e.jsx(He,{question:j,isCompleted:z})})]}),e.jsx(G,{children:w&&e.jsx(Ns,{question:j,onClose:()=>C(!1)})})]}),e.jsx(ks,{currentIndex:u,totalQuestions:N,onPrev:$e,onNext:Te,onShare:dt,isMarked:me,onToggleMark:ce})]}),e.jsx(is,{isOpen:J,onClose:()=>P(!1)}),e.jsx(Et,{})]})}function vs(){return e.jsxs("div",{className:"min-h-screen bg-background animate-pulse",children:[e.jsx("div",{className:"h-20 bg-card"}),e.jsx("div",{className:"flex h-[calc(100vh-80px)]",children:e.jsxs("div",{className:"flex-1 p-8 space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-muted rounded w-4/6"})]})]})})]})}function xe({channel:t,onBack:s,onSearch:x,currentIndex:n,totalQuestions:p,progress:l,onFullscreen:o,filters:f}){const{selectedSubChannel:c,selectedDifficulty:r,selectedCompany:b,companiesWithCounts:k,onFilterChange:g}=f||{},[d,v]=a.useState(!1),$=c!=="all"||r!=="all"||b!=="all",u=[c!=="all",r!=="all",b!=="all"].filter(Boolean).length;return e.jsxs("header",{className:"bg-background/95 backdrop-blur-xl border-b border-border shrink-0 relative z-20",children:[e.jsxs("div",{className:"h-12 flex items-center justify-between px-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m.button,{onClick:s,className:"p-1.5 hover:bg-muted rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(be,{className:"w-5 h-5 text-foreground"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("h1",{className:"font-bold text-foreground text-sm",children:t.name})})]}),p>0&&e.jsx("div",{className:"flex-1 max-w-md mx-auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold text-primary tabular-nums min-w-[50px]",children:[n+1,"/",p]}),e.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden border border-border",children:e.jsx(m.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${l}%`},transition:{duration:.5,ease:"easeOut"}})}),e.jsxs("span",{className:"text-xs font-bold text-foreground tabular-nums min-w-[30px]",children:[l,"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[f&&e.jsxs(m.button,{onClick:()=>v(!d),className:`relative p-1.5 rounded-lg transition-all ${d||$?"bg-primary/10 text-primary border border-primary/30":"hover:bg-muted text-muted-foreground"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(cs,{className:"w-4 h-4"}),u>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-primary text-primary-foreground text-[9px] font-bold rounded-full flex items-center justify-center border border-background",children:u})]}),e.jsx(m.button,{onClick:x,className:"p-1.5 hover:bg-muted rounded-lg transition-all text-muted-foreground hover:text-foreground",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(vt,{className:"w-4 h-4"})}),o&&e.jsx(m.button,{onClick:o,className:"hidden lg:block p-1.5 hover:bg-muted rounded-lg transition-all text-muted-foreground hover:text-foreground",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ms,{className:"w-4 h-4"})})]})]}),e.jsx(G,{children:f&&d&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden border-t border-border",children:e.jsx("div",{className:"px-3 py-3 bg-muted/30",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Filters:"}),t.subChannels?.length>1&&e.jsx(pe,{label:t.subChannels.find(y=>y.id===c)?.name||"All Topics",options:t.subChannels.map(y=>({id:y.id,label:y.name})),selected:c,onSelect:y=>g("sub",y)}),e.jsx(pe,{label:r==="all"?"All Levels":r.charAt(0).toUpperCase()+r.slice(1),options:[{id:"all",label:"All Levels",icon:e.jsx(_,{className:"w-3 h-3"})},{id:"beginner",label:"Easy",icon:e.jsx(Be,{className:"w-3 h-3 text-green-500"})},{id:"intermediate",label:"Medium",icon:e.jsx(_,{className:"w-3 h-3 text-yellow-500"})},{id:"advanced",label:"Hard",icon:e.jsx(Ve,{className:"w-3 h-3 text-red-500"})}],selected:r,onSelect:y=>g("diff",y)}),k.length>0&&e.jsx(pe,{label:b==="all"?"All Companies":b,options:[{id:"all",label:"All Companies",icon:e.jsx(Ue,{className:"w-3 h-3"})},...k.map(y=>({id:y.name,label:`${y.name} (${y.count})`}))],selected:b,onSelect:y=>g("company",y)}),$&&e.jsx(m.button,{onClick:()=>{g("sub","all"),g("diff","all"),g("company","all")},className:"ml-auto px-2.5 py-1 text-[10px] font-medium text-muted-foreground hover:text-foreground bg-muted hover:bg-muted/80 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Clear All"})]})})})})]})}function pe({label:t,options:s,selected:x,onSelect:n}){const p=x!=="all";return e.jsxs(At,{children:[e.jsx(Rt,{asChild:!0,children:e.jsxs("button",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all whitespace-nowrap outline-none focus:outline-none ${p?"bg-primary/10 text-primary border border-primary/30":"bg-card hover:bg-muted border border-border text-foreground"}`,children:[t,e.jsx(ze,{className:"w-3 h-3 opacity-60"})]})}),e.jsx(Lt,{children:e.jsx(Mt,{className:"min-w-[180px] max-h-[350px] overflow-y-auto bg-popover backdrop-blur-xl border border-border rounded-xl shadow-2xl p-1.5 z-50",sideOffset:6,children:s.map(l=>e.jsxs(Ft,{onClick:()=>n(l.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer outline-none text-xs transition-all ${x===l.id?"bg-primary/10 text-primary border border-primary/30":"text-foreground hover:bg-muted"}`,children:[l.icon,e.jsx("span",{className:"flex-1",children:l.label}),x===l.id&&e.jsx(Ie,{className:"w-3.5 h-3.5 text-primary"})]},l.id))})})]})}function Ns({question:t,onClose:s}){const[x,n]=a.useState([]),[p,l]=a.useState(""),[o,f]=a.useState(!1),c=async()=>{if(!p.trim()||o)return;const r=p.trim();l(""),n(b=>[...b,{role:"user",content:r}]),f(!0),setTimeout(()=>{n(b=>[...b,{role:"assistant",content:`I can help you understand this ${t.difficulty} level question about "${t.question.substring(0,50)}...". What specific aspect would you like me to explain?`}]),f(!1)},1e3)};return e.jsxs(m.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"w-80 h-full bg-card backdrop-blur-xl border-l border-border flex flex-col relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-purple-500"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"AI Assistant"})]}),e.jsx("button",{onClick:s,className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:e.jsx(Nt,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[x.length===0&&e.jsxs("div",{className:"text-center text-muted-foreground text-sm",children:[e.jsx(he,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),e.jsx("p",{children:"Ask me anything about this question!"})]}),x.map((r,b)=>e.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] p-3 rounded-xl text-sm ${r.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground border border-border"}`,children:r.content})},b)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-muted border border-border p-3 rounded-xl",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),e.jsx("div",{className:"p-4 border-t border-border",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:p,onChange:r=>l(r.target.value),onKeyDown:r=>r.key==="Enter"&&c(),placeholder:"Ask about this question...",className:"flex-1 px-3 py-2 bg-background border border-border rounded-xl text-foreground placeholder-muted-foreground text-sm focus:outline-none focus:border-purple-500"}),e.jsx("button",{onClick:c,disabled:!p.trim()||o,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl transition-colors",children:e.jsx(Qe,{className:"w-4 h-4"})})]})})]})}function ks({currentIndex:t,totalQuestions:s,onPrev:x,onNext:n,onShare:p,isMarked:l,onToggleMark:o}){const f=Math.round((t+1)/s*100),c=t>0,r=t<s-1;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden bg-background/95 backdrop-blur-xl border-t border-border",children:e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs(m.button,{onClick:x,disabled:!c,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-xs transition-all ${c?"bg-card hover:bg-muted text-foreground border border-border":"bg-muted/50 text-muted-foreground border border-border cursor-not-allowed opacity-50"}`,whileHover:c?{scale:1.05}:{},whileTap:c?{scale:.95}:{},children:[e.jsx(be,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Prev"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(m.button,{onClick:o,className:`p-2 rounded-lg transition-all ${l?"bg-primary/10 text-primary border border-primary/30":"bg-card text-muted-foreground hover:text-primary border border-border"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(fe,{className:`w-4 h-4 ${l?"fill-current":""}`})}),e.jsx(m.button,{onClick:p,className:"p-2 rounded-lg bg-card hover:bg-muted text-muted-foreground hover:text-foreground transition-all border border-border",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(Me,{className:"w-4 h-4"})})]}),e.jsxs(m.button,{onClick:n,disabled:!r,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-xs transition-all ${r?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-muted/50 text-muted-foreground border border-border cursor-not-allowed opacity-50"}`,whileHover:r?{scale:1.05}:{},whileTap:r?{scale:.95}:{},children:[e.jsx("span",{children:"Next"}),e.jsx(Re,{className:"w-3.5 h-3.5"})]})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(m.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-card/95 backdrop-blur-xl border border-border rounded-xl shadow-xl",children:[e.jsxs(m.button,{onClick:x,disabled:!c,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg font-medium text-xs transition-all ${c?"bg-muted hover:bg-muted/80 text-foreground":"bg-muted/50 text-muted-foreground cursor-not-allowed opacity-50"}`,whileHover:c?{scale:1.05}:{},whileTap:c?{scale:.95}:{},children:[e.jsx(be,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Prev"})]}),e.jsx("div",{className:"w-px h-6 bg-border"}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-muted rounded-lg border border-border",children:[e.jsxs("span",{className:"text-[10px] font-bold text-primary tabular-nums",children:[t+1,"/",s]}),e.jsx("div",{className:"w-16 h-1 bg-background rounded-full overflow-hidden border border-border",children:e.jsx(m.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.3}})})]}),e.jsx("div",{className:"w-px h-6 bg-border"}),e.jsx(m.button,{onClick:o,className:`p-1.5 rounded-lg transition-all ${l?"bg-primary/10 text-primary border border-primary/30":"hover:bg-muted text-muted-foreground hover:text-primary"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(fe,{className:`w-3.5 h-3.5 ${l?"fill-current":""}`})}),e.jsx(m.button,{onClick:p,className:"p-1.5 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-all",whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(Me,{className:"w-3.5 h-3.5"})}),e.jsx("div",{className:"w-px h-6 bg-border"}),e.jsxs(m.button,{onClick:n,disabled:!r,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg font-medium text-xs transition-all ${r?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-muted/50 text-muted-foreground cursor-not-allowed opacity-50"}`,whileHover:r?{scale:1.05}:{},whileTap:r?{scale:.95}:{},children:[e.jsx("span",{children:"Next"}),e.jsx(Re,{className:"w-3.5 h-3.5"})]})]})})})]})}function gr(){const[,t]=kt("/extreme/channel/:id/:questionId?"),s=t?.id,x=t?.questionId,n=Oe(s||"");return s?e.jsxs(e.Fragment,{children:[e.jsx(us,{title:`${n?.name||"Question"} - Extreme Learning Experience | Code Reels`,description:`Immersive question practice for ${n?.name||"technical interviews"} with AI assistance, gamified learning, and extreme UX design.`,canonical:`https://open-interview.github.io/extreme/channel/${s}${x?`/${x}`:""}`}),e.jsx(ws,{channelId:s,questionId:x})]}):e.jsx("div",{children:"Channel not found"})}export{gr as default};
