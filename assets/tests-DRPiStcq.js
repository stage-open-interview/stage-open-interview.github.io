const S={aws:{primary:"text-orange-500",secondary:"bg-orange-500/20",gradient:"from-orange-500/20 via-amber-500/10 to-yellow-500/20",glow:"shadow-orange-500/30",badge:"bg-orange-500",icon:"â˜ï¸"},algorithms:{primary:"text-purple-500",secondary:"bg-purple-500/20",gradient:"from-purple-500/20 via-violet-500/10 to-indigo-500/20",glow:"shadow-purple-500/30",badge:"bg-purple-500",icon:"ðŸ§®"},"system-design":{primary:"text-blue-500",secondary:"bg-blue-500/20",gradient:"from-blue-500/20 via-cyan-500/10 to-teal-500/20",glow:"shadow-blue-500/30",badge:"bg-blue-500",icon:"ðŸ—ï¸"},frontend:{primary:"text-cyan-500",secondary:"bg-cyan-500/20",gradient:"from-cyan-500/20 via-sky-500/10 to-blue-500/20",glow:"shadow-cyan-500/30",badge:"bg-cyan-500",icon:"ðŸŽ¨"},backend:{primary:"text-green-500",secondary:"bg-green-500/20",gradient:"from-green-500/20 via-emerald-500/10 to-teal-500/20",glow:"shadow-green-500/30",badge:"bg-green-500",icon:"âš™ï¸"},devops:{primary:"text-indigo-500",secondary:"bg-indigo-500/20",gradient:"from-indigo-500/20 via-blue-500/10 to-violet-500/20",glow:"shadow-indigo-500/30",badge:"bg-indigo-500",icon:"ðŸ”„"},kubernetes:{primary:"text-sky-500",secondary:"bg-sky-500/20",gradient:"from-sky-500/20 via-blue-500/10 to-indigo-500/20",glow:"shadow-sky-500/30",badge:"bg-sky-500",icon:"â˜¸ï¸"},database:{primary:"text-amber-500",secondary:"bg-amber-500/20",gradient:"from-amber-500/20 via-yellow-500/10 to-orange-500/20",glow:"shadow-amber-500/30",badge:"bg-amber-500",icon:"ðŸ—„ï¸"},security:{primary:"text-red-500",secondary:"bg-red-500/20",gradient:"from-red-500/20 via-rose-500/10 to-pink-500/20",glow:"shadow-red-500/30",badge:"bg-red-500",icon:"ðŸ”’"},"machine-learning":{primary:"text-pink-500",secondary:"bg-pink-500/20",gradient:"from-pink-500/20 via-rose-500/10 to-red-500/20",glow:"shadow-pink-500/30",badge:"bg-pink-500",icon:"ðŸ¤–"},testing:{primary:"text-emerald-500",secondary:"bg-emerald-500/20",gradient:"from-emerald-500/20 via-green-500/10 to-teal-500/20",glow:"shadow-emerald-500/30",badge:"bg-emerald-500",icon:"ðŸ§ª"},behavioral:{primary:"text-violet-500",secondary:"bg-violet-500/20",gradient:"from-violet-500/20 via-purple-500/10 to-indigo-500/20",glow:"shadow-violet-500/30",badge:"bg-violet-500",icon:"ðŸ’¬"},sre:{primary:"text-rose-500",secondary:"bg-rose-500/20",gradient:"from-rose-500/20 via-pink-500/10 to-red-500/20",glow:"shadow-rose-500/30",badge:"bg-rose-500",icon:"ðŸ”§"},terraform:{primary:"text-violet-600",secondary:"bg-violet-600/20",gradient:"from-violet-600/20 via-purple-500/10 to-indigo-500/20",glow:"shadow-violet-600/30",badge:"bg-violet-600",icon:"ðŸ”ï¸"},networking:{primary:"text-teal-500",secondary:"bg-teal-500/20",gradient:"from-teal-500/20 via-cyan-500/10 to-blue-500/20",glow:"shadow-teal-500/30",badge:"bg-teal-500",icon:"ðŸŒ"},linux:{primary:"text-yellow-600",secondary:"bg-yellow-600/20",gradient:"from-yellow-600/20 via-amber-500/10 to-orange-500/20",glow:"shadow-yellow-600/30",badge:"bg-yellow-600",icon:"ðŸ§"},python:{primary:"text-blue-400",secondary:"bg-blue-400/20",gradient:"from-blue-400/20 via-yellow-500/10 to-green-500/20",glow:"shadow-blue-400/30",badge:"bg-blue-400",icon:"ðŸ"},"generative-ai":{primary:"text-fuchsia-500",secondary:"bg-fuchsia-500/20",gradient:"from-fuchsia-500/20 via-pink-500/10 to-purple-500/20",glow:"shadow-fuchsia-500/30",badge:"bg-fuchsia-500",icon:"âœ¨"},default:{primary:"text-primary",secondary:"bg-primary/20",gradient:"from-primary/20 via-primary/10 to-primary/20",glow:"shadow-primary/30",badge:"bg-primary",icon:"ðŸ“š"}};function J(e){return S[e]||S.default}const p="test-progress",k="channel-test-versions";let y=null;async function C(){if(y)return y;try{const e=await fetch("/data/tests.json");return e.ok?(y=await e.json(),y||[]):[]}catch{return[]}}async function K(e){return(await C()).find(n=>n.channelId===e)||null}function M(){try{const e=localStorage.getItem(k);return e?JSON.parse(e):{}}catch{return{}}}function N(e){try{localStorage.setItem(k,JSON.stringify(e))}catch{}}function V(e,t){if(!t||!t.passed)return!1;const r=M()[e.channelId];return!!(r&&e.version>r.version||r&&e.questions.length>r.questionCount*1.1||t.passedVersion&&e.version>t.passedVersion)}function O(e){const t=M();t[e.channelId]={version:e.version,questionCount:e.questions.length},N(t)}function b(){try{const e=localStorage.getItem(p);return e?JSON.parse(e):{}}catch{return{}}}function _(e){return b()[e]||null}async function j(){const e=await C(),t=b(),n=[];for(const r of e){const o=t[r.id];o&&o.passed&&V(r,o)&&(o.expired=!0,o.passed=!1,n.push(r.channelId)),O(r)}return n.length>0&&localStorage.setItem(p,JSON.stringify(t)),n}function H(e,t,n,r){const o=b();o[e]||(o[e]={testId:e,channelId:t,attempts:[],bestScore:0,passed:!1}),o[e].attempts.push(n),o[e].lastAttemptAt=n.completedAt,n.score!==void 0&&(n.score>o[e].bestScore&&(o[e].bestScore=n.score),n.passed&&(o[e].passed=!0,o[e].passedAt=n.completedAt,o[e].passedVersion=r,o[e].expired=!1)),localStorage.setItem(p,JSON.stringify(o))}function R(e,t){let n=0;const r=e.questions.length;e.questions.forEach(l=>{const i=t[l.id]||[],s=l.options.filter(a=>a.isCorrect).map(a=>a.id);if(l.type==="single")i.length===1&&s.includes(i[0])&&n++;else{const a=s.every(c=>i.includes(c)),d=i.every(c=>s.includes(c));a&&d&&i.length>0&&n++}});const o=Math.round(n/r*100);return{score:o,correct:n,total:r,passed:o>=e.passingScore}}function Q(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function P(e,t){let n=0;e.difficulty===t.difficulty&&(n+=.2);const r=x(e.question),o=x(t.question),i=r.filter(a=>o.includes(a)).length/Math.max(r.length,o.length,1);n+=i*.5;const s=Math.min(e.question.length,t.question.length)/Math.max(e.question.length,t.question.length);return n+=s*.3,Math.min(n,1)}function x(e){const t=new Set(["what","how","why","when","where","which","who","the","a","an","and","or","but","in","on","at","to","for","of","with","by","from","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","should","could","can","may","might","must","shall"]);return e.toLowerCase().replace(/[^a-z0-9\s-]/g," ").split(/\s+/).filter(n=>n.length>3&&!t.has(n)).slice(0,10)}function q(e,t,n){return n<2?"beginner":t>.7?e==="beginner"?"intermediate":"advanced":t<.4?e==="advanced"?"intermediate":"beginner":e}function D(e,t=20){const n=Math.min(t,e.questions.length);if(n===0)return[];const r=[],o=new Set;let l="beginner",i=[];const s=()=>e.questions.filter(a=>!o.has(a.id));for(let a=0;a<n;a++){const d=s();if(d.length===0)break;let c;if(a===0){const g=d.filter(f=>f.difficulty==="beginner"||f.difficulty==="intermediate"),h=g.length>0?g:d;c=h[Math.floor(Math.random()*h.length)]}else{const g=i.slice(-3),h=g.length>0?g.filter(Boolean).length/g.length:.5,f=q(l,h,a);l=f;const w=d.filter(u=>u.difficulty===f),T=w.length>0?w:d,A=r[a-1],m=T.map(u=>({question:u,score:P(A,u)}));m.sort((u,E)=>E.score-u.score);const v=m.slice(0,Math.min(5,m.length));c=v[Math.floor(Math.random()*v.length)].question}r.push(c),o.add(c.id),i.push(Math.random()>.4)}return r.map(a=>({...a,options:Q(a.options)}))}function F(){const e=b(),t=Object.values(e),n=t.length,r=t.filter(s=>s.passed).length,o=t.reduce((s,a)=>s+a.attempts.length,0),l=t.map(s=>s.bestScore).filter(s=>s>0),i=l.length>0?Math.round(l.reduce((s,a)=>s+a,0)/l.length):0;return{totalTests:n,passedTests:r,totalAttempts:o,averageScore:i}}export{_ as a,J as b,V as c,D as d,R as e,b as f,K as g,F as h,j as i,C as l,H as s};
