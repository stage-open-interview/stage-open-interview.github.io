import{j as e,T as g,m,g as x,C as b,R as N,a as w,M as y,S as v,b as B,G as C,d as U,e as u,Z as S,f as P,B as z,A as M,h as $,F as R}from"./index-D5IX74-T.js";import{L as T}from"./lock-uS_s5-yR.js";const W={flame:R,"check-circle":$,award:M,trophy:g,"book-open":z,"trending-up":P,zap:S,star:u,compass:U,globe:C,medal:B,sunrise:v,moon:y,calendar:w,rocket:N,crown:b};function h({progress:o,size:i="md",showProgress:t=!0,onClick:n}){const{badge:r,current:d,isUnlocked:a,progress:f}=o,s={sm:{ring:44,stroke:3,icon:16,font:"9px",inner:30},md:{ring:56,stroke:3,icon:20,font:"10px",inner:38},lg:{ring:80,stroke:4,icon:32,font:"12px",inner:56}}[i],c=(s.ring-s.stroke)/2,l=c*2*Math.PI,p=l-f/100*l,k=W[r.icon]||u,j=x(r.tier);return e.jsxs("div",{className:`flex flex-col items-center ${n?"cursor-pointer active:scale-95 transition-transform":""}`,onClick:n,style:{width:s.ring},children:[e.jsxs("div",{className:"relative",style:{width:s.ring,height:s.ring},children:[e.jsxs("svg",{width:s.ring,height:s.ring,className:"transform -rotate-90",style:{position:"absolute",top:0,left:0},children:[e.jsx("circle",{cx:s.ring/2,cy:s.ring/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:s.stroke,className:"text-muted/30"}),e.jsx(m.circle,{cx:s.ring/2,cy:s.ring/2,r:c,fill:"none",stroke:a?j:"hsl(var(--muted-foreground))",strokeWidth:s.stroke,strokeLinecap:"round",strokeDasharray:l,initial:{strokeDashoffset:l},animate:{strokeDashoffset:p},transition:{duration:1,ease:"easeOut",delay:.2},style:{opacity:a?1:.4}})]}),e.jsx("div",{className:`
            absolute rounded-full flex items-center justify-center
            ${a?`bg-gradient-to-br ${r.gradient} shadow-md`:"bg-muted/40"}
          `,style:{width:s.inner,height:s.inner,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:a?e.jsx(k,{className:"text-white",style:{width:s.icon,height:s.icon}}):e.jsx(T,{className:"text-muted-foreground/60",style:{width:s.icon,height:s.icon}})})]}),i!=="sm"&&e.jsx("span",{className:`mt-1.5 text-center font-medium leading-tight line-clamp-2 ${a?"text-foreground":"text-muted-foreground"}`,style:{fontSize:s.font,width:s.ring+16,maxWidth:s.ring+16},children:r.name}),t&&!a&&i!=="sm"&&e.jsxs("span",{className:"text-muted-foreground mt-0.5",style:{fontSize:"9px"},children:[d,"/",r.requirement]})]})}function q({badges:o,title:i="Your Badges"}){const t=o.filter(r=>r.isUnlocked).length,n=[...o].sort((r,d)=>r.isUnlocked&&!d.isUnlocked?-1:!r.isUnlocked&&d.isUnlocked?1:d.progress-r.progress);return e.jsxs("div",{className:"border border-border p-4 bg-card rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(g,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-bold",children:i}),e.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[t," unlocked"]})]}),e.jsx("div",{className:"flex gap-5 overflow-x-auto pb-2 no-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:n.map(r=>e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{progress:r,size:"sm",showProgress:!1})},r.badge.id))})]})}function A({badges:o}){const t=o.filter(n=>!n.isUnlocked&&n.progress>0).sort((n,r)=>r.progress-n.progress)[0];return t?e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{progress:t,size:"sm",showProgress:!1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold truncate",children:t.badge.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.badge.description}),e.jsx("div",{className:"mt-2 h-1.5 bg-muted/30 rounded-full overflow-hidden",children:e.jsx(m.div,{className:"h-full rounded-full",style:{backgroundColor:x(t.badge.tier)},initial:{width:0},animate:{width:`${t.progress}%`},transition:{duration:.5}})}),e.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:[t.current," / ",t.badge.requirement," ",t.badge.unit]})]})]})}):null}export{q as B,A as N,h as a};
