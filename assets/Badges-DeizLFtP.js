import{ab as J,ac as z,ad as Z,ae as Q,af as F,ag as W,r as p,ah as Y,ai as H,aj as K,ak as A,k as ee,O as te,y as se,a8 as ne,a9 as re,j as e,al as ae,m as x,T as q,am as oe,an as B,g as w,t as ie,l as le,X as ce,n as de,V as me,d as ue,F as pe}from"./index-D5IX74-T.js";import{S as ge}from"./SEOHead-BbiTj_zU.js";import{A as xe}from"./AppLayout-CNuT5_p4.js";import{a as L}from"./BadgeDisplay-UY_tzP6Y.js";import{c as V,g as fe}from"./data-DIqy6Hvg.js";import{T as X}from"./target-DIyWN8Hg.js";import{L as he}from"./lock-uS_s5-yR.js";import"./mermaid-Bpr93w1e.js";import"./code-LZUg0__U.js";import"./UnifiedSearch-IvyeHCQC.js";import"./coding-challenges-Cca6OQGi.js";import"./arrow-right-C72eoshB.js";import"./loader-circle-Nyi82RsT.js";import"./mic-CU0jZ-xk.js";import"./user-CbZAj9fg.js";function ye(...n){const r=!Array.isArray(n[0]),a=r?0:-1,o=n[0+a],s=n[1+a],l=n[2+a],m=n[3+a],f=J(s,l,m);return r?f(o):f}function be(n,r,a){const o=n.get();let s=null,l=o,m;const f=typeof o=="string"?o.replace(/[\d.-]/g,""):void 0,d=()=>{s&&(s.stop(),s=null)},h=()=>{d(),s=new Q({keyframes:[T(n.get()),T(l)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...a,onUpdate:m})};if(n.attach((y,g)=>{l=y,m=c=>g(D(c,f)),z.postRender(h)},d),Z(r)){const y=r.on("change",c=>n.set(D(c,f))),g=n.on("destroy",y);return()=>{y(),g()}}return d}function D(n,r){return r?n+r:n}function T(n){return typeof n=="number"?n:parseFloat(n)}function M(n){const r=F(()=>W(n)),{isStatic:a}=p.useContext(Y);if(a){const[,o]=p.useState(n);p.useEffect(()=>r.on("change",o),[])}return r}function _(n,r){const a=M(r()),o=()=>a.set(r());return o(),H(()=>{const s=()=>z.preRender(o,!1,!0),l=n.map(m=>m.on("change",s));return()=>{l.forEach(m=>m()),K(o)}}),a}function je(n){A.current=[],n();const r=_(A.current,n);return A.current=void 0,r}function O(n,r,a,o){if(typeof n=="function")return je(n);const s=typeof r=="function"?r:ye(r,a,o);return Array.isArray(n)?U(n,s):U([n],([l])=>s(l))}function U(n,r){const a=F(()=>[]);return _(n,()=>{a.length=0;const o=n.length;for(let s=0;s<o;s++)a[s]=n[s].get();return r(a)})}function I(n,r={}){const{isStatic:a}=p.useContext(Y),o=()=>Z(n)?n.get():n;if(a)return O(o);const s=M(o());return p.useInsertionEffect(()=>be(s,n,r),[s,JSON.stringify(r)]),s}const R={streak:e.jsx(pe,{className:"w-4 h-4"}),completion:e.jsx(X,{className:"w-4 h-4"}),mastery:e.jsx(q,{className:"w-4 h-4"}),explorer:e.jsx(ue,{className:"w-4 h-4"}),special:e.jsx(me,{className:"w-4 h-4"})};function ve({children:n,className:r}){const a=p.useRef(null),o=M(0),s=M(0),l={damping:20,stiffness:300},m=I(O(s,[-.5,.5],[8,-8]),l),f=I(O(o,[-.5,.5],[-8,8]),l),d=(c,k)=>{if(!a.current)return;const b=a.current.getBoundingClientRect(),t=b.left+b.width/2,i=b.top+b.height/2;o.set((c-t)/b.width),s.set((k-i)/b.height)},h=c=>d(c.clientX,c.clientY),y=c=>{c.touches[0]&&d(c.touches[0].clientX,c.touches[0].clientY)},g=()=>{o.set(0),s.set(0)};return e.jsx(x.div,{ref:a,style:{rotateX:m,rotateY:f,transformStyle:"preserve-3d",perspective:1e3},onMouseMove:h,onTouchMove:y,onMouseLeave:g,onTouchEnd:g,className:r,children:n})}const $=["bronze","silver","gold","platinum","diamond"];function Ue(){const[n,r]=ee(),[a,o]=p.useState(null),[s,l]=p.useState(null),{stats:m}=te(),f=()=>{window.history.length>1?window.history.back():r("/")},d=p.useMemo(()=>{se();const t=new Set,i=[],u=[],j={beginner:0,intermediate:0,advanced:0};V.forEach(v=>{const N=ne(v.id),C=localStorage.getItem(`progress-${v.id}`),S=C?new Set(JSON.parse(C)):new Set;Array.from(S).forEach(E=>t.add(E)),S.size>0&&i.push(v.id),N.length>0&&u.push(Math.min(100,Math.round(S.size/N.length*100))),N.forEach(E=>{if(S.has(E.id)){const G=fe(E);j[G]++}})});let P=0;for(let v=0;v<365;v++){const N=new Date;if(N.setDate(N.getDate()-v),m.find(C=>C.date===N.toISOString().split("T")[0]))P++;else break}return{totalCompleted:t.size,streak:P,channelsExplored:i,difficultyStats:j,channelCompletionPcts:u,totalChannels:V.length}},[m]),h=p.useMemo(()=>re(d.totalCompleted,d.streak,d.channelsExplored,d.difficultyStats,d.channelCompletionPcts,d.totalChannels),[d]),y=p.useMemo(()=>{const t={};return h.forEach(i=>{t[i.badge.category]||(t[i.badge.category]=[]),t[i.badge.category].push(i)}),Object.keys(t).forEach(i=>{t[i].sort((u,j)=>$.indexOf(u.badge.tier)-$.indexOf(j.badge.tier))}),t},[h]),g=h.filter(t=>t.isUnlocked).length,c=oe.length,k=Math.round(g/c*100);p.useEffect(()=>{const t=i=>{i.key==="Escape"&&(s?l(null):f())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s]);const b=["streak","completion","mastery","explorer","special"];return e.jsxs(e.Fragment,{children:[e.jsx(ge,{title:"Achievement Badges - Track Your Interview Prep Progress | Code Reels",description:"Earn badges as you master technical interview questions. Track your streaks, completion milestones, and explore different topics to unlock achievements.",keywords:"achievement badges, gamification, interview prep progress, study streaks, learning milestones",canonical:"https://open-interview.github.io/badges"}),e.jsx(xe,{title:"Badges",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-bold",children:"Your Collection"})]}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:[g,"/",c]})]}),e.jsx("div",{className:"h-2 bg-muted/30 rounded-full overflow-hidden mb-2",children:e.jsx(x.div,{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full",initial:{width:0},animate:{width:`${k}%`},transition:{duration:1,ease:"easeOut"}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[e.jsxs("span",{children:[k,"% Complete"]}),e.jsxs("span",{children:[c-g," badges remaining"]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx("button",{onClick:()=>o(null),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex-shrink-0
                ${a?"bg-muted/50 hover:bg-muted":"bg-primary text-primary-foreground"}`,children:"All"}),b.map(t=>{const i=y[t]||[],u=i.filter(j=>j.isUnlocked).length;return e.jsxs("button",{onClick:()=>o(t),className:`px-3 py-2 text-xs font-semibold rounded-lg transition-colors whitespace-nowrap flex items-center gap-1.5 flex-shrink-0
                    ${a===t?"bg-primary text-primary-foreground":"bg-muted/50 hover:bg-muted"}`,children:[R[t],e.jsx("span",{children:B(t)}),e.jsxs("span",{className:"opacity-70 text-[10px]",children:[u,"/",i.length]})]},t)})]}),e.jsx("div",{className:"space-y-6",children:b.filter(t=>!a||a===t).map(t=>{const i=y[t]||[];return i.length===0?null:e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border p-4 bg-card rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 rounded bg-primary/10 text-primary",children:R[t]}),e.jsx("span",{className:"font-bold uppercase text-sm",children:B(t)}),e.jsxs("span",{className:"text-[10px] text-muted-foreground ml-auto",children:[i.filter(u=>u.isUnlocked).length,"/",i.length]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4",children:i.map((u,j)=>e.jsx(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:j*.03},className:"flex justify-center",children:e.jsx(L,{progress:u,size:"md",onClick:()=>l(u)})},u.badge.id))})]},t)})}),e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"border border-border p-4 bg-card rounded-lg mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(X,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-bold uppercase text-sm",children:"Next Up"})]}),e.jsxs("div",{className:"space-y-3",children:[h.filter(t=>!t.isUnlocked&&t.progress>0).sort((t,i)=>i.progress-t.progress).slice(0,3).map((t,i)=>e.jsxs(x.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+i*.1},className:"flex items-center gap-3 p-2 bg-muted/10 rounded cursor-pointer hover:bg-muted/20 transition-colors",onClick:()=>l(t),children:[e.jsx(L,{progress:t,size:"sm",showProgress:!1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-bold",children:t.badge.name}),e.jsx("div",{className:"h-1.5 bg-muted/30 rounded-full overflow-hidden mt-1",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,backgroundColor:w(t.badge.tier)}})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-bold",style:{color:w(t.badge.tier)},children:[Math.round(t.progress),"%"]}),e.jsxs("div",{className:"text-[9px] text-muted-foreground",children:[t.current,"/",t.badge.requirement]})]}),e.jsx(ie,{className:"w-4 h-4 text-muted-foreground"})]},t.badge.id)),h.filter(t=>!t.isUnlocked&&t.progress>0).length===0&&e.jsx("div",{className:"text-center text-muted-foreground text-sm py-4",children:"Complete some questions to start earning badges!"})]})]})]})}),ae.createPortal(e.jsx(le,{children:s&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,perspective:1e3},onClick:()=>l(null),children:e.jsx(ve,{className:"relative",children:e.jsxs(x.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-card border border-border rounded-2xl p-6 max-w-xs w-full shadow-2xl",style:{transformStyle:"preserve-3d"},onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>l(null),className:"absolute top-4 left-4 p-2 hover:bg-muted rounded-full transition-colors",style:{transform:"translateZ(20px)"},children:e.jsx(ce,{className:"w-4 h-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex flex-col items-center text-center pt-2",children:[e.jsx("div",{className:`relative ${s.isUnlocked?"drop-shadow-[0_0_25px_rgba(var(--primary-rgb),0.4)]":""}`,style:{transform:"translateZ(40px)"},children:e.jsx(L,{progress:s,size:"lg",showProgress:!1})}),e.jsx("h3",{className:"text-xl font-bold mt-4 tracking-tight",style:{transform:"translateZ(25px)"},children:s.badge.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",style:{transform:"translateZ(15px)"},children:s.badge.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",style:{transform:"translateZ(20px)"},children:[e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-bold tracking-wide",style:{backgroundColor:`${w(s.badge.tier)}15`,color:w(s.badge.tier),border:`1px solid ${w(s.badge.tier)}30`},children:s.badge.tier}),e.jsx("span",{className:"px-2.5 py-1 rounded-full text-[10px] uppercase font-medium tracking-wide bg-muted/50 text-muted-foreground",children:B(s.badge.category)})]}),e.jsxs("div",{className:"w-full mt-6 p-4 bg-muted/20 rounded-xl",style:{transform:"translateZ(5px)"},children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"font-bold",children:[s.current,"/",s.badge.requirement," ",s.badge.unit]})]}),e.jsx("div",{className:"h-2.5 bg-muted/40 rounded-full overflow-hidden",children:e.jsx(x.div,{className:"h-full rounded-full",style:{backgroundColor:w(s.badge.tier)},initial:{width:0},animate:{width:`${Math.min(s.progress,100)}%`},transition:{duration:.6,ease:"easeOut"}})})]}),e.jsx("div",{className:"mt-5 w-full",style:{transform:"translateZ(10px)"},children:s.isUnlocked?e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-green-500/10 rounded-xl border border-green-500/20",children:[e.jsx(de,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-500",children:["Unlocked ",s.unlockedAt?new Date(s.unlockedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"/"):"recently"]})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-muted/30 rounded-xl",children:[e.jsx(he,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.badge.requirement-s.current," ",s.badge.unit," to unlock"]})]})})]})]})})})}),document.body)]})}export{Ue as default};
