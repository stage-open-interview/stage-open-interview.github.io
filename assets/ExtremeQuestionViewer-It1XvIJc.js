import{r as a,aB as sr,aC as ir,aD as _n,P as Te,j as r,m as j,C as Pn,Z as cr,B as Dn,s as On,A as Ge,aE as Ke,a6 as oe,aF as z,aG as xt,aH as ge,aI as X,aJ as k,aK as lr,aL as Fn,aM as Ln,aN as Be,aO as $n,aP as Gn,aQ as Kn,aR as Bn,aS as Un,aT as dr,u as Vn,k as Kt,b as Hn,v as Wn,w as Qn,a0 as Yn,x as zn,y as Xn,S as qn,X as Jn,t as Zn}from"./index-4gP9q0LG.js";import{g as ur}from"./data-BynB7h_e.js";import{u as eo,a as to,b as ro,V as no,S as Bt}from"./VoiceReminder-1Toh2dAv.js";import{Q as oo,u as ao,C as so}from"./use-swipe-08iIJlJV.js";import{g as io,Q as co,b as lo,c as uo,r as fo,a as mo,S as po,G as ho,Y as xo,B as go}from"./spaced-repetition-CtQe6WuR.js";import{S as fr}from"./sparkles-GJsFnXoQ.js";import{B as gt,b as vt,a as mr,F as pr,T as vo,C as bo,G as wo}from"./tag-CqrMsBxs.js";import{T as Fe,B as yo,u as Co,a as bt,C as Ut}from"./use-unified-toast-CsB08-AT.js";import{bF as hr,bH as So}from"./EnhancedMermaid-B973zUGJ.js";import{M as jo,r as No,h as Eo,v as Mo}from"./index-BB-6klYn.js";import{E as ko}from"./external-link-CAeMqAUo.js";import{F as Ro}from"./file-text-B7QaeqkH.js";import{C as xr}from"./check-BPRyoBJz.js";import{C as To}from"./copy-1jbkLH5e.js";import{L as Vt}from"./lightbulb-dHZOg-tJ.js";import{C as gr}from"./chevron-down-C2xbOBsn.js";import{P as Io}from"./play-CPnv93Ws.js";import{U as Ao}from"./UnifiedSearch-D1W2emq4.js";import{d as _o,l as Po}from"./tests-DRPiStcq.js";import{S as Do}from"./settings-CfXXeC-i.js";import{S as Oo}from"./SEOHead-D7_c4On_.js";import"./history-DdYHMJcu.js";import"./trash-2-9tXHZcMu.js";import"./triangle-alert-BNqLOYYZ.js";import"./square-pen-2SkFAoLp.js";import"./plus-BZ2_i4Jp.js";import"./user-Dpn1OLK3.js";import"./bot-O_1_lUzX.js";import"./clock-d5bL_iwt.js";import"./coffee-CTzabxc0.js";import"./message-circle-kQTq7kkk.js";import"./flag-fMn6pJMF.js";var Fo=sr[" useId ".trim().toString()]||(()=>{}),Lo=0;function wt(e){const[t,n]=a.useState(Fo());return ir(()=>{n(o=>o??String(Lo++))},[e]),e||(t?`radix-${t}`:"")}var $o=sr[" useInsertionEffect ".trim().toString()]||ir;function vr({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[i,s,d]=Go({defaultProp:t,onChange:n}),c=e!==void 0,f=c?e:i;{const u=a.useRef(e!==void 0);a.useEffect(()=>{const m=u.current;m!==c&&console.warn(`${o} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,o])}const l=a.useCallback(u=>{if(c){const m=Ko(u)?u(e):u;m!==e&&d.current?.(m)}else s(u)},[c,e,s,d]);return[f,l]}function Go({defaultProp:e,onChange:t}){const[n,o]=a.useState(e),i=a.useRef(n),s=a.useRef(t);return $o(()=>{s.current=t},[t]),a.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,o,s]}function Ko(e){return typeof e=="function"}const jt="user-engagement-data",ot="last-new-content-check";function he(){if(typeof window>"u")return{channels:{},lastGlobalVisit:new Date().toISOString(),totalVisits:0};try{const e=localStorage.getItem(jt);if(e)return JSON.parse(e)}catch(e){console.error("Failed to load engagement data:",e)}return{channels:{},lastGlobalVisit:new Date().toISOString(),totalVisits:0}}function Bo(e){if(!(typeof window>"u"))try{localStorage.setItem(jt,JSON.stringify(e))}catch(t){console.error("Failed to save engagement data:",t)}}const Uo={trackChannelVisit(e){const t=he(),n=new Date().toISOString();t.channels[e]||(t.channels[e]={channelId:e,visitCount:0,lastVisited:n,completedCount:0,markedCount:0}),t.channels[e].visitCount++,t.channels[e].lastVisited=n,t.lastGlobalVisit=n,t.totalVisits++,t.channels[e].completedCount=Te.getCompleted(e).length,t.channels[e].markedCount=Te.getMarked(e).length,Bo(t)},getTopChannels(e=5){const t=he();return Object.values(t.channels).map(n=>({...n,score:n.visitCount*2+n.completedCount*3+n.markedCount*1})).sort((n,o)=>o.score-n.score).slice(0,e)},async findNewQuestions(e){if(!e)return[];const t=he(),n=[];if(Object.keys(t.channels).length===0)return[];for(const[i,s]of Object.entries(e.questions)){const d=s.latestEvent?.createdAt;if(!d)continue;const c=new Date(d),f=new Date(t.lastGlobalVisit);c>f&&n.push({questionId:i,channelId:"",createdAt:d,questionType:s.questionType==="coding"?"coding":"question"})}return n.sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},async generateRecommendations(e,t){he();const n=[],o=this.getTopChannels(10);for(const c of o.slice(0,3)){const f=Te.getCompleted(c.channelId),l=t[c.channelId]||0;if(l>0&&f.length<l){const u=Math.round(f.length/l*100);n.push({type:"continue",channelId:c.channelId,reason:`Continue your progress (${u}% complete)`,priority:100-u})}}if(e){const c=localStorage.getItem(ot),f=c?new Date(c):new Date(0);for(const l of o){let u=0;for(const[,m]of Object.entries(e.questions)){const x=m.latestEvent?.createdAt;x&&new Date(x)>f&&u++}u>0&&n.push({type:"new_content",channelId:l.channelId,reason:`${u} new question${u>1?"s":""} added`,priority:90,newCount:u})}localStorage.setItem(ot,new Date().toISOString())}for(const c of o){const f=Te.getMarked(c.channelId);f.length>0&&n.push({type:"review",channelId:c.channelId,reason:`${f.length} question${f.length>1?"s":""} marked for review`,priority:70,questionIds:f})}const i={"system-design":["backend","database","devops"],algorithms:["data-structures","dynamic-programming"],frontend:["react-native","testing"],backend:["database","system-design","devops"],aws:["aws-saa","aws-dva","terraform"],kubernetes:["cka","ckad","devops"],"machine-learning":["generative-ai","nlp","computer-vision"]},s=new Set(o.map(c=>c.channelId)),d=new Set;for(const c of o.slice(0,3)){const f=i[c.channelId]||[];for(const l of f)!s.has(l)&&!d.has(l)&&(d.add(l),n.push({type:"explore",channelId:l,reason:`Related to ${c.channelId}`,priority:50}))}return n.sort((c,f)=>f.priority-c.priority).slice(0,8)},getEngagementSummary(){const e=he(),t=Object.values(e.channels);return{totalChannelsVisited:t.length,totalQuestionsCompleted:t.reduce((n,o)=>n+o.completedCount,0),currentStreak:_n.getStreak(),topChannel:t.length>0?t.sort((n,o)=>o.visitCount-n.visitCount)[0].channelId:null}},clearEngagementData(){typeof window>"u"||(localStorage.removeItem(jt),localStorage.removeItem(ot))}};function Vo(e){if(!e)return null;const t=e.split(`
`);return t.map((n,o)=>{const s=n.split(/`([^`]+)`/g).map((d,c)=>c%2===1?r.jsx("code",{className:"px-2 py-1 mx-1 bg-primary/10 text-primary rounded-md text-[0.95em] font-mono border border-primary/20",children:d},`${o}-${c}`):d);return r.jsxs("span",{children:[s,o<t.length-1&&r.jsx("br",{})]},o)})}function Ht({question:e,questionNumber:t,totalQuestions:n,isMarked:o,isCompleted:i,onToggleMark:s,onTapQuestion:d}){const[c,f]=a.useState(null),[l,u]=a.useState(!1),[m,x]=a.useState(!1),[g,w]=a.useState(!0);a.useEffect(()=>{if(e?.id){const b=io(e.id,e.channel,e.difficulty);f(E=>E?.questionId===b.questionId&&E?.totalReviews===b.totalReviews?E:b),u(!1),x(b.totalReviews>0)}},[e?.id,e?.channel,e?.difficulty]);const h=b=>{if(!e)return;const E=fo(e.id,e.channel,e.difficulty,b);f(E),u(!0),x(!1)},p=()=>{if(!e)return;const b=mo(e.id,e.channel,e.difficulty);f(b),x(!0)},N=(()=>{switch(e.difficulty){case"beginner":return{icon:cr,color:"text-green-500",bg:"bg-green-500/10",border:"border-green-500/30",glow:"shadow-green-500/20",label:"Easy",gradient:"from-green-500/10 to-emerald-500/10"};case"intermediate":return{icon:Fe,color:"text-yellow-500",bg:"bg-yellow-500/10",border:"border-yellow-500/30",glow:"shadow-yellow-500/20",label:"Medium",gradient:"from-yellow-500/10 to-orange-500/10"};case"advanced":return{icon:pr,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/30",glow:"shadow-red-500/20",label:"Hard",gradient:"from-red-500/10 to-pink-500/10"};default:return{icon:Fe,color:"text-muted-foreground",bg:"bg-muted",border:"border-border",glow:"shadow-muted/20",label:"Unknown",gradient:"from-muted/10 to-muted/10"}}})(),C=N.icon;return r.jsxs("div",{className:"w-full h-full flex flex-col relative overflow-hidden bg-gradient-to-br from-background via-background to-muted/20","data-testid":"extreme-question-panel",onClick:d,children:[g&&r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-20",children:[...Array(10)].map((b,E)=>r.jsx(j.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3),scale:Math.random()*.5+.5},animate:{y:[null,Math.random()*(typeof window<"u"?window.innerHeight:1e3)],opacity:[.2,.4,.2],scale:[null,Math.random()*1.5+.5]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"}},E))}),r.jsxs("div",{className:"relative z-10 flex flex-col h-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 overflow-y-auto",children:[r.jsxs(j.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between gap-3 mb-6 pb-4 border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg ${N.bg} border ${N.border}`,children:[r.jsx(C,{className:`w-3.5 h-3.5 ${N.color}`}),r.jsx("span",{className:`text-xs font-bold ${N.color}`,children:N.label})]}),e.isNew&&r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-primary/10 border border-primary/30 rounded-lg",children:[r.jsx(fr,{className:"w-3.5 h-3.5 text-primary"}),r.jsx("span",{className:"text-xs font-bold text-primary",children:"NEW"})]}),i&&r.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-green-500/10 border border-green-500/30 rounded-lg",children:r.jsx(Pn,{className:"w-3.5 h-3.5 text-green-500"})})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(co,{questionId:e.id}),r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-card border border-border rounded-lg",children:[r.jsx(gt,{className:"w-3.5 h-3.5 text-primary"}),c&&r.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full ${uo(c.masteryLevel)} font-medium`,children:lo(c.masteryLevel).slice(0,3)}),!l&&m&&c?r.jsx("div",{className:"flex items-center gap-0.5",children:[{rating:"again",label:"ðŸ˜•"},{rating:"hard",label:"ðŸ¤”"},{rating:"good",label:"ðŸ‘"},{rating:"easy",label:"ðŸŽ¯"}].map(b=>r.jsx("button",{onClick:E=>{E.stopPropagation(),h(b.rating)},className:"w-5 h-5 flex items-center justify-center rounded text-[10px] hover:bg-muted transition-all",children:b.label},b.rating))}):!l&&!m?r.jsx("button",{onClick:b=>{b.stopPropagation(),p()},className:"px-2 py-0.5 bg-primary hover:bg-primary/90 text-primary-foreground text-[9px] font-bold rounded transition-all",children:"+"}):r.jsx("span",{className:"text-[10px] text-green-500",children:"âœ“"})]}),r.jsx(oo,{questionId:e.id,questionType:"question",size:"sm"}),r.jsx(j.button,{onClick:b=>{b.stopPropagation(),s()},className:`p-2 rounded-lg transition-all ${o?"bg-primary/10 text-primary border border-primary/30":"bg-card text-muted-foreground hover:text-primary border border-border"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(vt,{className:`w-4 h-4 ${o?"fill-current":""}`})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col justify-center max-w-5xl mx-auto w-full",children:[e.companies&&e.companies.length>0&&r.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 mb-4 flex-wrap",children:[r.jsx(mr,{className:"w-3.5 h-3.5 text-primary"}),e.companies.map((b,E)=>r.jsx("span",{className:"px-2.5 py-1 bg-primary/10 text-primary text-xs font-semibold rounded-full border border-primary/20",children:b},E))]}),r.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:`font-black text-foreground leading-[1.2] mb-4 ${e.question.length>200?"text-xl sm:text-2xl lg:text-3xl":e.question.length>100?"text-2xl sm:text-3xl lg:text-4xl":"text-3xl sm:text-4xl lg:text-5xl"}`,children:Vo(e.question)}),r.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-3",children:r.jsx("span",{className:"text-xs sm:text-sm text-primary uppercase tracking-wider font-bold",children:e.subChannel})}),e.tags&&e.tags.length>0&&r.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex flex-wrap gap-1.5",children:[e.tags.slice(0,8).map((b,E)=>r.jsx("span",{className:"px-2 py-0.5 bg-muted text-muted-foreground text-[10px] sm:text-xs font-mono rounded border border-border",children:b},b)),e.tags.length>8&&r.jsxs("span",{className:"text-[10px] text-muted-foreground py-0.5",children:["+",e.tags.length-8]})]})]}),r.jsx(j.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-center pt-4 border-t border-border mt-4",children:r.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Press ",r.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted border border-border rounded text-[9px] font-mono mx-1",children:"â†’"})," or tap to reveal answer"]})})]})]})}function Ho(e){if(!e)return"";let t=e;t=t.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),t=t.replace(/\*\*\s*```/g,"**\n\n```"),t=t.replace(/```\s*\*\*/g,"```\n\n**"),t=t.replace(/```(\w*)\n([\s\S]*?)```/g,(i,s,d)=>{const c=d.replace(/\*\*/g,"");return"```"+s+`
`+c+"```"}),t=t.replace(/([^\n`])(\s*```)/g,"$1\n```"),t=t.replace(/(```\w*)\s*\n?\s*([^\n`])/g,`$1
$2`),t=t.replace(/:\s*```/g,":\n\n```"),t=t.replace(/^\*\*\s*$/gm,""),t=t.replace(/\*\*\s*\n\s*([^*]+)\*\*/g,"**$1**"),t=t.replace(/\*\*\s*\n\s*(\d+\.\s+[^*\n]+)\*\*/g,"**$1**"),t=t.replace(/\*\*\s*\n\s*(-\s+[^*\n]+)\*\*/g,"**$1**"),t=t.replace(/\*\*-\s+/g,`**
- `),t=t.replace(/\*\*(\d+)\.\s+/g,`**
$1. `),t=t.replace(/\*\*-\s*\*\*([^*]+)\*\*/g,`**
- **$1**`),t=t.replace(/\*\*-\s*\*\*([^*\n]+)/g,`**
- **$1**`),t=t.replace(/-\s*\*\*([^*]+)\*\*-\s+/g,`- **$1**
- `);const n=t.split(`
`),o=[];for(let i=0;i<n.length;i++){let s=n[i];const d=(s.match(/\*\*/g)||[]).length;d%2===1&&(s.trim().startsWith("**")&&d===1?s=s.replace(/^\s*\*\*\s*/,""):s.trim().endsWith("**")&&d===1&&(s=s.replace(/\s*\*\*\s*$/,""))),o.push(s)}return t=o.join(`
`),t=t.replace(/^[â€¢Â·]\s*/gm,"- "),(t.includes("â€¢")||t.includes("Â·"))&&(t=t.split(`
`).map(d=>{const c=(d.match(/[â€¢Â·]/g)||[]).length;if(c>1||c===1&&!d.trim().startsWith("â€¢")&&!d.trim().startsWith("Â·")){const f=d.split(/[â€¢Â·]/).map(l=>l.trim()).filter(l=>l);if(f.length>1)return f.map(l=>`- ${l}`).join(`
`)}return d.replace(/^[â€¢Â·]\s*/,"- ")}).join(`
`)),t=t.replace(/(\d+[.)]\s+[^0-9]+?)(?=\s+\d+[.)])/g,`$1
`),t=t.replace(new RegExp("(?<!\\n)(\\d+[.)]\\s+)","g"),`
$1`),t=t.replace(/\n{3,}/g,`

`),t=t.replace(/^\n+/,""),t}function Wt(e){if(!e||typeof e!="string")return!1;const t=e.trim();if(!t||t.length<10)return!1;const n=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],o=t.split(`
`)[0].toLowerCase().trim();if(!n.some(c=>o.startsWith(c.toLowerCase())))return!1;const s=t.split(`
`).filter(c=>{const f=c.trim().toLowerCase();return f&&!f.startsWith("%%")&&!n.some(l=>f.startsWith(l.toLowerCase()))});if(s.length<3)return!1;const d=t.toLowerCase();return!(d.includes("start")&&d.includes("end")&&s.length<=3||d.match(/\bstart\b/g)?.length===1&&d.match(/\bend\b/g)?.length===1&&s.length<=2)}function Qt(e){return e?e.split(/`([^`]+)`/g).map((n,o)=>o%2===1?r.jsx("code",{className:"px-2 py-1 mx-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:n},o):n):null}function Wo({code:e,language:t}){const[n,o]=a.useState(!1),i=async()=>{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)};return r.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden border border-border bg-card shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-muted border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bo,{className:"w-5 h-5 text-primary"}),r.jsx("span",{className:"text-sm uppercase tracking-wider text-primary font-bold",children:t||"code"})]}),r.jsx(j.button,{onClick:i,className:"flex items-center gap-2 px-4 py-2 text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?r.jsxs(r.Fragment,{children:[r.jsx(xr,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-green-500 font-medium",children:"Copied!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(To,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy"})]})})]}),r.jsx(Eo,{language:t||"text",style:Mo,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.875rem",lineHeight:"1.6"},wrapLines:!0,wrapLongLines:!0,children:e})]})}function Qo({question:e,hasTldr:t,hasDiagram:n,hasEli5:o,hasVideo:i}){const[s,d]=a.useState(null),c=n&&s!==!1,f=[];t&&f.push("tldr"),c&&f.push("diagram"),o&&f.push("eli5"),i&&f.push("video");const[l,u]=a.useState(()=>t?"tldr":o?"eli5":i?"video":"diagram");a.useEffect(()=>{s===!1&&l==="diagram"&&(t?u("tldr"):o?u("eli5"):i&&u("video"))},[s,l,t,o,i]);const m=a.useCallback(g=>{d(g)},[]);if(f.length===0&&s===!1)return null;if(f.length===0&&!t&&!o&&!i&&s===null)return r.jsx("div",{className:"rounded-2xl border border-border bg-card p-6 text-center text-muted-foreground text-sm backdrop-blur-xl",children:"Loading media..."});if(f.length===0)return null;const x={tldr:{label:"Quick Answer",icon:r.jsx(Vt,{className:"w-4 h-4"})},diagram:{label:"Visual",icon:r.jsx(wo,{className:"w-4 h-4"})},eli5:{label:"Simple",icon:r.jsx(go,{className:"w-4 h-4"})},video:{label:"Video",icon:r.jsx(Io,{className:"w-4 h-4"})}};return r.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card backdrop-blur-xl overflow-hidden shadow-xl",children:[r.jsx("div",{className:"flex border-b border-border bg-muted/30",children:f.map(g=>r.jsxs(j.button,{onClick:()=>u(g),className:`flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-bold transition-all relative ${l===g?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[x[g].icon,r.jsx("span",{className:"hidden sm:inline",children:x[g].label}),l===g&&r.jsx(j.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]},g))}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs(Ge,{mode:"wait",children:[l==="tldr"&&t&&r.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[r.jsx(Vt,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),r.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:Qt(e.answer)})]},"tldr"),l==="diagram"&&n&&r.jsx(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:r.jsx(hr,{chart:e.diagram,onRenderResult:m})},"diagram"),l==="eli5"&&o&&r.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex items-start gap-4",children:[r.jsx("span",{className:"text-2xl flex-shrink-0",children:"ðŸ§’"}),r.jsx("p",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:Qt(e.eli5||"")})]},"eli5"),l==="video"&&i&&r.jsx(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:r.jsx(xo,{shortVideo:e.videos?.shortVideo,longVideo:e.videos?.longVideo})},"video")]})})]})}function Yo({title:e,icon:t,children:n,defaultExpanded:o=!0,variant:i="default",badge:s}){const[d,c]=a.useState(o),f={default:"bg-card border-border",highlight:"bg-primary/10 border-primary/30",success:"bg-green-500/10 border-green-500/30",purple:"bg-purple-500/10 border-purple-500/30"},l={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return r.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-2xl border overflow-hidden backdrop-blur-xl ${f[i]}`,children:[r.jsxs(j.button,{onClick:()=>c(!d),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-muted/30 transition-colors",whileHover:{backgroundColor:"hsl(var(--muted) / 0.3)"},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:l[i],children:t}),r.jsx("span",{className:"font-bold text-base text-foreground",children:e}),s&&r.jsx("span",{className:"px-2 py-1 bg-primary/20 text-primary text-xs font-bold rounded-full border border-primary/30",children:s})]}),r.jsx(j.div,{animate:{rotate:d?0:-90},transition:{duration:.2},children:r.jsx(gr,{className:"w-5 h-5 text-muted-foreground"})})]}),r.jsx(Ge,{initial:!1,children:d&&r.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:r.jsx("div",{className:"px-5 pb-5",children:n})})})]})}function Yt({question:e}){const t=a.useRef(null),n=typeof window<"u"&&window.innerWidth<640,[o,i]=a.useState(null);a.useEffect(()=>{Dn.getByQuestionId(e.id).then(i)},[e.id]);const s=!!e.answer,d=!n&&Wt(e.diagram),c=!!e.eli5,f=!!(e.videos?.shortVideo||e.videos?.longVideo),l=s||d||c||f,u=a.useCallback(m=>{const x=Ho(m);return r.jsx(jo,{remarkPlugins:[No],components:{code({className:g,children:w}){const h=/language-(\w+)/.exec(g||""),p=h?h[1]:"",v=String(w).replace(/\n$/,"");return!h&&!String(w).includes(`
`)?r.jsx("code",{className:"px-2 py-1 bg-primary/20 text-primary rounded-lg text-[0.9em] font-mono border border-primary/30",children:w}):p==="mermaid"?Wt(v)?r.jsx("div",{className:"my-4",children:r.jsx(hr,{chart:v})}):null:r.jsx("div",{className:"my-4",children:r.jsx(Wo,{code:v,language:p})})},p({children:g}){return r.jsx("p",{className:"mb-3 leading-relaxed text-foreground text-sm sm:text-base",children:g})},h1({children:g}){return r.jsx("h1",{className:"text-lg sm:text-xl font-black mb-3 mt-6 text-foreground border-b border-border pb-2",children:g})},h2({children:g}){return r.jsx("h2",{className:"text-base sm:text-lg font-bold mb-3 mt-5 text-foreground",children:g})},h3({children:g}){return r.jsx("h3",{className:"text-sm sm:text-base font-semibold mb-2 mt-4 text-foreground",children:g})},strong({children:g}){return r.jsx("strong",{className:"font-bold text-foreground",children:g})},ul({children:g}){return r.jsx("ul",{className:"space-y-2 mb-3 ml-2",children:g})},ol({children:g}){return r.jsx("ol",{className:"space-y-2 mb-3 ml-2 [counter-reset:list-counter]",children:g})},li({children:g,node:w}){const p=w?.parent?.tagName==="ol";return r.jsxs("li",{className:"flex gap-3 text-foreground text-sm sm:text-base [counter-increment:list-counter]",children:[r.jsx("span",{className:"shrink-0 text-primary mt-1 font-bold",children:p?r.jsx("span",{className:"text-sm before:content-[counter(list-counter)'.']"}):"â€¢"}),r.jsx("span",{className:"flex-1",children:g})]})},a({href:g,children:w}){return r.jsx("a",{href:g,className:"text-primary hover:text-primary/80 underline",target:"_blank",rel:"noopener noreferrer",children:w})},blockquote({children:g}){return r.jsx("blockquote",{className:"border-l-4 border-primary/50 pl-4 py-2 my-3 bg-primary/5 text-muted-foreground italic text-sm sm:text-base",children:g})},table({children:g}){return r.jsx("div",{className:"my-4 overflow-x-auto",children:r.jsx("table",{className:"w-full border-collapse text-xs sm:text-sm",children:g})})},th({children:g}){return r.jsx("th",{className:"px-3 py-2 text-left font-bold bg-muted border border-border text-xs sm:text-sm text-foreground",children:g})},td({children:g}){return r.jsx("td",{className:"px-3 py-2 border border-border text-xs sm:text-sm text-foreground",children:g})}},children:x})},[]);return r.jsx(j.div,{ref:t,initial:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-muted/10 to-background",children:r.jsxs("div",{className:"w-full px-4 sm:px-6 py-4 sm:py-6 pb-32 space-y-6",children:[l&&r.jsx(Qo,{question:e,hasTldr:s,hasDiagram:d,hasEli5:c,hasVideo:f}),r.jsx(Yo,{title:"Deep Dive Explanation",icon:r.jsx(yo,{className:"w-5 h-5"}),defaultExpanded:!0,badge:e.explanation?`${Math.ceil(e.explanation.split(" ").length/200)} min read`:void 0,children:r.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:u(e.explanation)})}),r.jsx("div",{className:"flex items-start gap-3 pt-2",children:e.tags&&e.tags.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(vo,{className:"w-4 h-4 text-primary mt-1 flex-shrink-0"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(m=>r.jsx(j.span,{className:"px-3 py-1 bg-muted text-muted-foreground text-xs font-mono rounded-lg border border-border backdrop-blur-xl",whileHover:{scale:1.05,borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)"},children:On(m)},m))})]})}),(e.sourceUrl||o)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.sourceUrl&&r.jsxs(j.a,{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-card hover:bg-muted border border-border rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[r.jsx(ko,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-foreground font-medium",children:"Source"})]}),o&&r.jsxs(j.a,{href:`https://openstackdaily.github.io${o.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/30 rounded-xl text-sm backdrop-blur-xl transition-colors",whileHover:{scale:1.05},children:[r.jsx(Ro,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-primary font-medium",children:"Read Blog"})]})]}),r.jsx(po,{questionId:e.id,currentChannel:e.channel}),r.jsx(ho,{questionId:e.id})]})})}function br(e){const t=e+"CollectionProvider",[n,o]=Ke(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=h=>{const{scope:p,children:v}=h,N=oe.useRef(null),C=oe.useRef(new Map).current;return r.jsx(i,{scope:p,itemMap:C,collectionRef:N,children:v})};d.displayName=t;const c=e+"CollectionSlot",f=xt(c),l=oe.forwardRef((h,p)=>{const{scope:v,children:N}=h,C=s(c,v),b=z(p,C.collectionRef);return r.jsx(f,{ref:b,children:N})});l.displayName=c;const u=e+"CollectionItemSlot",m="data-radix-collection-item",x=xt(u),g=oe.forwardRef((h,p)=>{const{scope:v,children:N,...C}=h,b=oe.useRef(null),E=z(p,b),A=s(u,v);return oe.useEffect(()=>(A.itemMap.set(b,{ref:b,...C}),()=>void A.itemMap.delete(b))),r.jsx(x,{[m]:"",ref:E,children:N})});g.displayName=u;function w(h){const p=s(e+"CollectionConsumer",h);return oe.useCallback(()=>{const N=p.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(p.itemMap.values()).sort((A,I)=>C.indexOf(A.ref.current)-C.indexOf(I.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:d,Slot:l,ItemSlot:g},w,o]}var zo=a.createContext(void 0);function wr(e){const t=a.useContext(zo);return e||t||"ltr"}var at=0;function Xo(){a.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zt()),document.body.insertAdjacentElement("beforeend",e[1]??zt()),at++,()=>{at===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),at--}},[])}function zt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var st="focusScope.autoFocusOnMount",it="focusScope.autoFocusOnUnmount",Xt={bubbles:!1,cancelable:!0},qo="FocusScope",yr=a.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...d}=e,[c,f]=a.useState(null),l=ge(i),u=ge(s),m=a.useRef(null),x=z(t,h=>f(h)),g=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(o){let h=function(C){if(g.paused||!c)return;const b=C.target;c.contains(b)?m.current=b:Z(m.current,{select:!0})},p=function(C){if(g.paused||!c)return;const b=C.relatedTarget;b!==null&&(c.contains(b)||Z(m.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&Z(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",p);const N=new MutationObserver(v);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",p),N.disconnect()}}},[o,c,g.paused]),a.useEffect(()=>{if(c){Jt.add(g);const h=document.activeElement;if(!c.contains(h)){const v=new CustomEvent(st,Xt);c.addEventListener(st,l),c.dispatchEvent(v),v.defaultPrevented||(Jo(na(Cr(c)),{select:!0}),document.activeElement===h&&Z(c))}return()=>{c.removeEventListener(st,l),setTimeout(()=>{const v=new CustomEvent(it,Xt);c.addEventListener(it,u),c.dispatchEvent(v),v.defaultPrevented||Z(h??document.body,{select:!0}),c.removeEventListener(it,u),Jt.remove(g)},0)}}},[c,l,u,g]);const w=a.useCallback(h=>{if(!n&&!o||g.paused)return;const p=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=document.activeElement;if(p&&v){const N=h.currentTarget,[C,b]=Zo(N);C&&b?!h.shiftKey&&v===b?(h.preventDefault(),n&&Z(C,{select:!0})):h.shiftKey&&v===C&&(h.preventDefault(),n&&Z(b,{select:!0})):v===N&&h.preventDefault()}},[n,o,g.paused]);return r.jsx(X.div,{tabIndex:-1,...d,ref:x,onKeyDown:w})});yr.displayName=qo;function Jo(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(Z(o,{select:t}),document.activeElement!==n)return}function Zo(e){const t=Cr(e),n=qt(t,e),o=qt(t.reverse(),e);return[n,o]}function Cr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qt(e,t){for(const n of e)if(!ea(n,{upTo:t}))return n}function ea(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ta(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ta(e)&&t&&e.select()}}var Jt=ra();function ra(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Zt(e,t),e.unshift(t)},remove(t){e=Zt(e,t),e[0]?.resume()}}}function Zt(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function na(e){return e.filter(t=>t.tagName!=="A")}var ct="rovingFocusGroup.onEntryFocus",oa={bubbles:!1,cancelable:!0},we="RovingFocusGroup",[yt,Sr,aa]=br(we),[sa,jr]=Ke(we,[aa]),[ia,ca]=sa(we),Nr=a.forwardRef((e,t)=>r.jsx(yt.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(yt.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(la,{...e,ref:t})})}));Nr.displayName=we;var la=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:s,currentTabStopId:d,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...m}=e,x=a.useRef(null),g=z(t,x),w=wr(s),[h,p]=vr({prop:d,defaultProp:c??null,onChange:f,caller:we}),[v,N]=a.useState(!1),C=ge(l),b=Sr(n),E=a.useRef(!1),[A,I]=a.useState(0);return a.useEffect(()=>{const T=x.current;if(T)return T.addEventListener(ct,C),()=>T.removeEventListener(ct,C)},[C]),r.jsx(ia,{scope:n,orientation:o,dir:w,loop:i,currentTabStopId:h,onItemFocus:a.useCallback(T=>p(T),[p]),onItemShiftTab:a.useCallback(()=>N(!0),[]),onFocusableItemAdd:a.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:a.useCallback(()=>I(T=>T-1),[]),children:r.jsx(X.div,{tabIndex:v||A===0?-1:0,"data-orientation":o,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:k(e.onMouseDown,()=>{E.current=!0}),onFocus:k(e.onFocus,T=>{const P=!E.current;if(T.target===T.currentTarget&&P&&!v){const W=new CustomEvent(ct,oa);if(T.currentTarget.dispatchEvent(W),!W.defaultPrevented){const ee=b().filter(O=>O.focusable),U=ee.find(O=>O.active),ie=ee.find(O=>O.id===h),te=[U,ie,...ee].filter(Boolean).map(O=>O.ref.current);kr(te,u)}}E.current=!1}),onBlur:k(e.onBlur,()=>N(!1))})})}),Er="RovingFocusGroupItem",Mr=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:i=!1,tabStopId:s,children:d,...c}=e,f=wt(),l=s||f,u=ca(Er,n),m=u.currentTabStopId===l,x=Sr(n),{onFocusableItemAdd:g,onFocusableItemRemove:w,currentTabStopId:h}=u;return a.useEffect(()=>{if(o)return g(),()=>w()},[o,g,w]),r.jsx(yt.ItemSlot,{scope:n,id:l,focusable:o,active:i,children:r.jsx(X.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:k(e.onMouseDown,p=>{o?u.onItemFocus(l):p.preventDefault()}),onFocus:k(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:k(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=fa(p,u.orientation,u.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let C=x().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const b=C.indexOf(p.currentTarget);C=u.loop?ma(C,b+1):C.slice(b+1)}setTimeout(()=>kr(C))}}),children:typeof d=="function"?d({isCurrentTabStop:m,hasTabStop:h!=null}):d})})});Mr.displayName=Er;var da={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ua(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fa(e,t,n){const o=ua(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return da[o]}function kr(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ma(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var pa=Nr,ha=Mr,xa=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},de=new WeakMap,Ie=new WeakMap,Ae={},lt=0,Rr=function(e){return e&&(e.host||Rr(e.parentNode))},ga=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=Rr(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},va=function(e,t,n,o){var i=ga(t,Array.isArray(e)?e:[e]);Ae[n]||(Ae[n]=new WeakMap);var s=Ae[n],d=[],c=new Set,f=new Set(i),l=function(m){!m||c.has(m)||(c.add(m),l(m.parentNode))};i.forEach(l);var u=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))u(x);else try{var g=x.getAttribute(o),w=g!==null&&g!=="false",h=(de.get(x)||0)+1,p=(s.get(x)||0)+1;de.set(x,h),s.set(x,p),d.push(x),h===1&&w&&Ie.set(x,!0),p===1&&x.setAttribute(n,"true"),w||x.setAttribute(o,"true")}catch(v){console.error("aria-hidden: cannot operate on ",x,v)}})};return u(t),c.clear(),lt++,function(){d.forEach(function(m){var x=de.get(m)-1,g=s.get(m)-1;de.set(m,x),s.set(m,g),x||(Ie.has(m)||m.removeAttribute(o),Ie.delete(m)),g||m.removeAttribute(n)}),lt--,lt||(de=new WeakMap,de=new WeakMap,Ie=new WeakMap,Ae={})}},ba=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=xa(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),va(o,i,n,"aria-hidden")):function(){return null}},H=function(){return H=Object.assign||function(t){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},H.apply(this,arguments)};function Tr(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function wa(e,t,n){if(n||arguments.length===2)for(var o=0,i=t.length,s;o<i;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var De="right-scroll-bar-position",Oe="width-before-scroll-bar",ya="with-scroll-bars-hidden",Ca="--removed-body-scroll-bar-size";function dt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Sa(e,t){var n=a.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var i=n.value;i!==o&&(n.value=o,n.callback(o,i))}}}})[0];return n.callback=t,n.facade}var ja=typeof window<"u"?a.useLayoutEffect:a.useEffect,er=new WeakMap;function Na(e,t){var n=Sa(null,function(o){return e.forEach(function(i){return dt(i,o)})});return ja(function(){var o=er.get(n);if(o){var i=new Set(o),s=new Set(e),d=n.current;i.forEach(function(c){s.has(c)||dt(c,null)}),s.forEach(function(c){i.has(c)||dt(c,d)})}er.set(n,e)},[e]),n}function Ea(e){return e}function Ma(e,t){t===void 0&&(t=Ea);var n=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var d=t(s,o);return n.push(d),function(){n=n.filter(function(c){return c!==d})}},assignSyncMedium:function(s){for(o=!0;n.length;){var d=n;n=[],d.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){o=!0;var d=[];if(n.length){var c=n;n=[],c.forEach(s),d=n}var f=function(){var u=d;d=[],u.forEach(s)},l=function(){return Promise.resolve().then(f)};l(),n={push:function(u){d.push(u),l()},filter:function(u){return d=d.filter(u),n}}}};return i}function ka(e){e===void 0&&(e={});var t=Ma(null);return t.options=H({async:!0,ssr:!1},e),t}var Ir=function(e){var t=e.sideCar,n=Tr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return a.createElement(o,H({},n))};Ir.isSideCarExport=!0;function Ra(e,t){return e.useMedium(t),Ir}var Ar=ka(),ut=function(){},Ue=a.forwardRef(function(e,t){var n=a.useRef(null),o=a.useState({onScrollCapture:ut,onWheelCapture:ut,onTouchMoveCapture:ut}),i=o[0],s=o[1],d=e.forwardProps,c=e.children,f=e.className,l=e.removeScrollBar,u=e.enabled,m=e.shards,x=e.sideCar,g=e.noIsolation,w=e.inert,h=e.allowPinchZoom,p=e.as,v=p===void 0?"div":p,N=e.gapMode,C=Tr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=x,E=Na([n,t]),A=H(H({},C),i);return a.createElement(a.Fragment,null,u&&a.createElement(b,{sideCar:Ar,removeScrollBar:l,shards:m,noIsolation:g,inert:w,setCallbacks:s,allowPinchZoom:!!h,lockRef:n,gapMode:N}),d?a.cloneElement(a.Children.only(c),H(H({},A),{ref:E})):a.createElement(v,H({},A,{className:f,ref:E}),c))});Ue.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ue.classNames={fullWidth:Oe,zeroRight:De};var Ta=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ia(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ta();return t&&e.setAttribute("nonce",t),e}function Aa(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _a(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pa=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ia())&&(Aa(t,n),_a(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Da=function(){var e=Pa();return function(t,n){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_r=function(){var e=Da(),t=function(n){var o=n.styles,i=n.dynamic;return e(o,i),null};return t},Oa={left:0,top:0,right:0,gap:0},ft=function(e){return parseInt(e||"",10)||0},Fa=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ft(n),ft(o),ft(i)]},La=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Oa;var t=Fa(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},$a=_r(),me="data-scroll-locked",Ga=function(e,t,n,o){var i=e.left,s=e.top,d=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ya,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(me,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(De,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(Oe,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(De," .").concat(De,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Oe," .").concat(Oe,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(me,`] {
    `).concat(Ca,": ").concat(c,`px;
  }
`)},tr=function(){var e=parseInt(document.body.getAttribute(me)||"0",10);return isFinite(e)?e:0},Ka=function(){a.useEffect(function(){return document.body.setAttribute(me,(tr()+1).toString()),function(){var e=tr()-1;e<=0?document.body.removeAttribute(me):document.body.setAttribute(me,e.toString())}},[])},Ba=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o;Ka();var s=a.useMemo(function(){return La(i)},[i]);return a.createElement($a,{styles:Ga(s,!t,i,n?"":"!important")})},Ct=!1;if(typeof window<"u")try{var _e=Object.defineProperty({},"passive",{get:function(){return Ct=!0,!0}});window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{Ct=!1}var ue=Ct?{passive:!1}:!1,Ua=function(e){return e.tagName==="TEXTAREA"},Pr=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ua(e)&&n[t]==="visible")},Va=function(e){return Pr(e,"overflowY")},Ha=function(e){return Pr(e,"overflowX")},rr=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=Dr(e,o);if(i){var s=Or(e,o),d=s[1],c=s[2];if(d>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},Wa=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Qa=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Dr=function(e,t){return e==="v"?Va(t):Ha(t)},Or=function(e,t){return e==="v"?Wa(t):Qa(t)},Ya=function(e,t){return e==="h"&&t==="rtl"?-1:1},za=function(e,t,n,o,i){var s=Ya(e,window.getComputedStyle(t).direction),d=s*o,c=n.target,f=t.contains(c),l=!1,u=d>0,m=0,x=0;do{var g=Or(e,c),w=g[0],h=g[1],p=g[2],v=h-p-s*w;(w||v)&&Dr(e,c)&&(m+=v,x+=w),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(t.contains(c)||t===c));return(u&&Math.abs(m)<1||!u&&Math.abs(x)<1)&&(l=!0),l},Pe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nr=function(e){return[e.deltaX,e.deltaY]},or=function(e){return e&&"current"in e?e.current:e},Xa=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ja=0,fe=[];function Za(e){var t=a.useRef([]),n=a.useRef([0,0]),o=a.useRef(),i=a.useState(Ja++)[0],s=a.useState(_r)[0],d=a.useRef(e);a.useEffect(function(){d.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var h=wa([e.lockRef.current],(e.shards||[]).map(or),!0).filter(Boolean);return h.forEach(function(p){return p.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),h.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=a.useCallback(function(h,p){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!d.current.allowPinchZoom;var v=Pe(h),N=n.current,C="deltaX"in h?h.deltaX:N[0]-v[0],b="deltaY"in h?h.deltaY:N[1]-v[1],E,A=h.target,I=Math.abs(C)>Math.abs(b)?"h":"v";if("touches"in h&&I==="h"&&A.type==="range")return!1;var T=rr(I,A);if(!T)return!0;if(T?E=I:(E=I==="v"?"h":"v",T=rr(I,A)),!T)return!1;if(!o.current&&"changedTouches"in h&&(C||b)&&(o.current=E),!E)return!0;var P=o.current||E;return za(P,p,h,P==="h"?C:b)},[]),f=a.useCallback(function(h){var p=h;if(!(!fe.length||fe[fe.length-1]!==s)){var v="deltaY"in p?nr(p):Pe(p),N=t.current.filter(function(E){return E.name===p.type&&(E.target===p.target||p.target===E.shadowParent)&&Xa(E.delta,v)})[0];if(N&&N.should){p.cancelable&&p.preventDefault();return}if(!N){var C=(d.current.shards||[]).map(or).filter(Boolean).filter(function(E){return E.contains(p.target)}),b=C.length>0?c(p,C[0]):!d.current.noIsolation;b&&p.cancelable&&p.preventDefault()}}},[]),l=a.useCallback(function(h,p,v,N){var C={name:h,delta:p,target:v,should:N,shadowParent:es(v)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(b){return b!==C})},1)},[]),u=a.useCallback(function(h){n.current=Pe(h),o.current=void 0},[]),m=a.useCallback(function(h){l(h.type,nr(h),h.target,c(h,e.lockRef.current))},[]),x=a.useCallback(function(h){l(h.type,Pe(h),h.target,c(h,e.lockRef.current))},[]);a.useEffect(function(){return fe.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",f,ue),document.addEventListener("touchmove",f,ue),document.addEventListener("touchstart",u,ue),function(){fe=fe.filter(function(h){return h!==s}),document.removeEventListener("wheel",f,ue),document.removeEventListener("touchmove",f,ue),document.removeEventListener("touchstart",u,ue)}},[]);var g=e.removeScrollBar,w=e.inert;return a.createElement(a.Fragment,null,w?a.createElement(s,{styles:qa(i)}):null,g?a.createElement(Ba,{gapMode:e.gapMode}):null)}function es(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ts=Ra(Ar,Za);var Fr=a.forwardRef(function(e,t){return a.createElement(Ue,H({},e,{ref:t,sideCar:ts}))});Fr.classNames=Ue.classNames;var St=["Enter"," "],rs=["ArrowDown","PageUp","Home"],Lr=["ArrowUp","PageDown","End"],ns=[...rs,...Lr],os={ltr:[...St,"ArrowRight"],rtl:[...St,"ArrowLeft"]},as={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ye="Menu",[ve,ss,is]=br(ye),[ae,$r]=Ke(ye,[is,lr,jr]),Ve=lr(),Gr=jr(),[cs,se]=ae(ye),[ls,Ce]=ae(ye),Kr=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:i,onOpenChange:s,modal:d=!0}=e,c=Ve(t),[f,l]=a.useState(null),u=a.useRef(!1),m=ge(s),x=wr(i);return a.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Fn,{...c,children:r.jsx(cs,{scope:t,open:n,onOpenChange:m,content:f,onContentChange:l,children:r.jsx(ls,{scope:t,onClose:a.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:x,modal:d,children:o})})})};Kr.displayName=ye;var ds="MenuAnchor",Nt=a.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,i=Ve(n);return r.jsx(Ln,{...i,...o,ref:t})});Nt.displayName=ds;var Et="MenuPortal",[us,Br]=ae(Et,{forceMount:void 0}),Ur=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:i}=e,s=se(Et,t);return r.jsx(us,{scope:t,forceMount:n,children:r.jsx(Be,{present:n||s.open,children:r.jsx($n,{asChild:!0,container:i,children:o})})})};Ur.displayName=Et;var G="MenuContent",[fs,Mt]=ae(G),Vr=a.forwardRef((e,t)=>{const n=Br(G,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,s=se(G,e.__scopeMenu),d=Ce(G,e.__scopeMenu);return r.jsx(ve.Provider,{scope:e.__scopeMenu,children:r.jsx(Be,{present:o||s.open,children:r.jsx(ve.Slot,{scope:e.__scopeMenu,children:d.modal?r.jsx(ms,{...i,ref:t}):r.jsx(ps,{...i,ref:t})})})})}),ms=a.forwardRef((e,t)=>{const n=se(G,e.__scopeMenu),o=a.useRef(null),i=z(t,o);return a.useEffect(()=>{const s=o.current;if(s)return ba(s)},[]),r.jsx(kt,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:k(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ps=a.forwardRef((e,t)=>{const n=se(G,e.__scopeMenu);return r.jsx(kt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),hs=xt("MenuContent.ScrollLock"),kt=a.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:d,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:x,onDismiss:g,disableOutsideScroll:w,...h}=e,p=se(G,n),v=Ce(G,n),N=Ve(n),C=Gr(n),b=ss(n),[E,A]=a.useState(null),I=a.useRef(null),T=z(t,I,p.onContentChange),P=a.useRef(0),W=a.useRef(""),ee=a.useRef(0),U=a.useRef(null),ie=a.useRef("right"),Q=a.useRef(0),te=w?Fr:a.Fragment,O=w?{as:hs,allowPinchZoom:!0}:void 0,Se=S=>{const Y=W.current+S,K=b().filter(D=>!D.disabled),q=document.activeElement,J=K.find(D=>D.ref.current===q)?.textValue,je=K.map(D=>D.textValue),re=Ms(je,Y,J),ce=K.find(D=>D.textValue===re)?.ref.current;(function D(Qe){W.current=Qe,window.clearTimeout(P.current),Qe!==""&&(P.current=window.setTimeout(()=>D(""),1e3))})(Y),ce&&setTimeout(()=>ce.focus())};a.useEffect(()=>()=>window.clearTimeout(P.current),[]),Xo();const V=a.useCallback(S=>ie.current===U.current?.side&&Rs(S,U.current?.area),[]);return r.jsx(fs,{scope:n,searchRef:W,onItemEnter:a.useCallback(S=>{V(S)&&S.preventDefault()},[V]),onItemLeave:a.useCallback(S=>{V(S)||(I.current?.focus(),A(null))},[V]),onTriggerLeave:a.useCallback(S=>{V(S)&&S.preventDefault()},[V]),pointerGraceTimerRef:ee,onPointerGraceIntentChange:a.useCallback(S=>{U.current=S},[]),children:r.jsx(te,{...O,children:r.jsx(yr,{asChild:!0,trapped:i,onMountAutoFocus:k(s,S=>{S.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:r.jsx(Kn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:x,onDismiss:g,children:r.jsx(pa,{asChild:!0,...C,dir:v.dir,orientation:"vertical",loop:o,currentTabStopId:E,onCurrentTabStopIdChange:A,onEntryFocus:k(f,S=>{v.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Bn,{role:"menu","aria-orientation":"vertical","data-state":sn(p.open),"data-radix-menu-content":"",dir:v.dir,...N,...h,ref:T,style:{outline:"none",...h.style},onKeyDown:k(h.onKeyDown,S=>{const K=S.target.closest("[data-radix-menu-content]")===S.currentTarget,q=S.ctrlKey||S.altKey||S.metaKey,J=S.key.length===1;K&&(S.key==="Tab"&&S.preventDefault(),!q&&J&&Se(S.key));const je=I.current;if(S.target!==je||!ns.includes(S.key))return;S.preventDefault();const ce=b().filter(D=>!D.disabled).map(D=>D.ref.current);Lr.includes(S.key)&&ce.reverse(),Ns(ce)}),onBlur:k(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(P.current),W.current="")}),onPointerMove:k(e.onPointerMove,be(S=>{const Y=S.target,K=Q.current!==S.clientX;if(S.currentTarget.contains(Y)&&K){const q=S.clientX>Q.current?"right":"left";ie.current=q,Q.current=S.clientX}}))})})})})})})});Vr.displayName=G;var xs="MenuGroup",Rt=a.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return r.jsx(X.div,{role:"group",...o,ref:t})});Rt.displayName=xs;var gs="MenuLabel",Hr=a.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return r.jsx(X.div,{...o,ref:t})});Hr.displayName=gs;var Le="MenuItem",ar="menu.itemSelect",He=a.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...i}=e,s=a.useRef(null),d=Ce(Le,e.__scopeMenu),c=Mt(Le,e.__scopeMenu),f=z(t,s),l=a.useRef(!1),u=()=>{const m=s.current;if(!n&&m){const x=new CustomEvent(ar,{bubbles:!0,cancelable:!0});m.addEventListener(ar,g=>o?.(g),{once:!0}),Gn(m,x),x.defaultPrevented?l.current=!1:d.onClose()}};return r.jsx(Wr,{...i,ref:f,disabled:n,onClick:k(e.onClick,u),onPointerDown:m=>{e.onPointerDown?.(m),l.current=!0},onPointerUp:k(e.onPointerUp,m=>{l.current||m.currentTarget?.click()}),onKeyDown:k(e.onKeyDown,m=>{const x=c.searchRef.current!=="";n||x&&m.key===" "||St.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});He.displayName=Le;var Wr=a.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:i,...s}=e,d=Mt(Le,n),c=Gr(n),f=a.useRef(null),l=z(t,f),[u,m]=a.useState(!1),[x,g]=a.useState("");return a.useEffect(()=>{const w=f.current;w&&g((w.textContent??"").trim())},[s.children]),r.jsx(ve.ItemSlot,{scope:n,disabled:o,textValue:i??x,children:r.jsx(ha,{asChild:!0,...c,focusable:!o,children:r.jsx(X.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:l,onPointerMove:k(e.onPointerMove,be(w=>{o?d.onItemLeave(w):(d.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:k(e.onPointerLeave,be(w=>d.onItemLeave(w))),onFocus:k(e.onFocus,()=>m(!0)),onBlur:k(e.onBlur,()=>m(!1))})})})}),vs="MenuCheckboxItem",Qr=a.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...i}=e;return r.jsx(Jr,{scope:e.__scopeMenu,checked:n,children:r.jsx(He,{role:"menuitemcheckbox","aria-checked":$e(n)?"mixed":n,...i,ref:t,"data-state":It(n),onSelect:k(i.onSelect,()=>o?.($e(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Qr.displayName=vs;var Yr="MenuRadioGroup",[bs,ws]=ae(Yr,{value:void 0,onValueChange:()=>{}}),zr=a.forwardRef((e,t)=>{const{value:n,onValueChange:o,...i}=e,s=ge(o);return r.jsx(bs,{scope:e.__scopeMenu,value:n,onValueChange:s,children:r.jsx(Rt,{...i,ref:t})})});zr.displayName=Yr;var Xr="MenuRadioItem",qr=a.forwardRef((e,t)=>{const{value:n,...o}=e,i=ws(Xr,e.__scopeMenu),s=n===i.value;return r.jsx(Jr,{scope:e.__scopeMenu,checked:s,children:r.jsx(He,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":It(s),onSelect:k(o.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});qr.displayName=Xr;var Tt="MenuItemIndicator",[Jr,ys]=ae(Tt,{checked:!1}),Zr=a.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...i}=e,s=ys(Tt,n);return r.jsx(Be,{present:o||$e(s.checked)||s.checked===!0,children:r.jsx(X.span,{...i,ref:t,"data-state":It(s.checked)})})});Zr.displayName=Tt;var Cs="MenuSeparator",en=a.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return r.jsx(X.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});en.displayName=Cs;var Ss="MenuArrow",tn=a.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,i=Ve(n);return r.jsx(Un,{...i,...o,ref:t})});tn.displayName=Ss;var js="MenuSub",[cc,rn]=ae(js),xe="MenuSubTrigger",nn=a.forwardRef((e,t)=>{const n=se(xe,e.__scopeMenu),o=Ce(xe,e.__scopeMenu),i=rn(xe,e.__scopeMenu),s=Mt(xe,e.__scopeMenu),d=a.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=s,l={__scopeMenu:e.__scopeMenu},u=a.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return a.useEffect(()=>u,[u]),a.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),f(null)}},[c,f]),r.jsx(Nt,{asChild:!0,...l,children:r.jsx(Wr,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":sn(n.open),...e,ref:dr(t,i.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:k(e.onPointerMove,be(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(s.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:k(e.onPointerLeave,be(m=>{u();const x=n.content?.getBoundingClientRect();if(x){const g=n.content?.dataset.side,w=g==="right",h=w?-5:5,p=x[w?"left":"right"],v=x[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+h,y:m.clientY},{x:p,y:x.top},{x:v,y:x.top},{x:v,y:x.bottom},{x:p,y:x.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:k(e.onKeyDown,m=>{const x=s.searchRef.current!=="";e.disabled||x&&m.key===" "||os[o.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});nn.displayName=xe;var on="MenuSubContent",an=a.forwardRef((e,t)=>{const n=Br(G,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,s=se(G,e.__scopeMenu),d=Ce(G,e.__scopeMenu),c=rn(on,e.__scopeMenu),f=a.useRef(null),l=z(t,f);return r.jsx(ve.Provider,{scope:e.__scopeMenu,children:r.jsx(Be,{present:o||s.open,children:r.jsx(ve.Slot,{scope:e.__scopeMenu,children:r.jsx(kt,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:l,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{d.isUsingKeyboardRef.current&&f.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:k(e.onFocusOutside,u=>{u.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:k(e.onEscapeKeyDown,u=>{d.onClose(),u.preventDefault()}),onKeyDown:k(e.onKeyDown,u=>{const m=u.currentTarget.contains(u.target),x=as[d.dir].includes(u.key);m&&x&&(s.onOpenChange(!1),c.trigger?.focus(),u.preventDefault())})})})})})});an.displayName=on;function sn(e){return e?"open":"closed"}function $e(e){return e==="indeterminate"}function It(e){return $e(e)?"indeterminate":e?"checked":"unchecked"}function Ns(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Es(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function Ms(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let d=Es(e,Math.max(s,0));i.length===1&&(d=d.filter(l=>l!==n));const f=d.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function ks(e,t){const{x:n,y:o}=e;let i=!1;for(let s=0,d=t.length-1;s<t.length;d=s++){const c=t[s],f=t[d],l=c.x,u=c.y,m=f.x,x=f.y;u>o!=x>o&&n<(m-l)*(o-u)/(x-u)+l&&(i=!i)}return i}function Rs(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ks(n,t)}function be(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ts=Kr,Is=Nt,As=Ur,_s=Vr,Ps=Rt,Ds=Hr,Os=He,Fs=Qr,Ls=zr,$s=qr,Gs=Zr,Ks=en,Bs=tn,Us=nn,Vs=an,We="DropdownMenu",[Hs]=Ke(We,[$r]),F=$r(),[Ws,cn]=Hs(We),ln=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:i,defaultOpen:s,onOpenChange:d,modal:c=!0}=e,f=F(t),l=a.useRef(null),[u,m]=vr({prop:i,defaultProp:s??!1,onChange:d,caller:We});return r.jsx(Ws,{scope:t,triggerId:wt(),triggerRef:l,contentId:wt(),open:u,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(x=>!x),[m]),modal:c,children:r.jsx(Ts,{...f,open:u,onOpenChange:m,dir:o,modal:c,children:n})})};ln.displayName=We;var dn="DropdownMenuTrigger",un=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...i}=e,s=cn(dn,n),d=F(n);return r.jsx(Is,{asChild:!0,...d,children:r.jsx(X.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:dr(t,s.triggerRef),onPointerDown:k(e.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:k(e.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});un.displayName=dn;var Qs="DropdownMenuPortal",fn=e=>{const{__scopeDropdownMenu:t,...n}=e,o=F(t);return r.jsx(As,{...o,...n})};fn.displayName=Qs;var mn="DropdownMenuContent",pn=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=cn(mn,n),s=F(n),d=a.useRef(!1);return r.jsx(_s,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...o,ref:t,onCloseAutoFocus:k(e.onCloseAutoFocus,c=>{d.current||i.triggerRef.current?.focus(),d.current=!1,c.preventDefault()}),onInteractOutside:k(e.onInteractOutside,c=>{const f=c.detail.originalEvent,l=f.button===0&&f.ctrlKey===!0,u=f.button===2||l;(!i.modal||u)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pn.displayName=mn;var Ys="DropdownMenuGroup",zs=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Ps,{...i,...o,ref:t})});zs.displayName=Ys;var Xs="DropdownMenuLabel",qs=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Ds,{...i,...o,ref:t})});qs.displayName=Xs;var Js="DropdownMenuItem",hn=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Os,{...i,...o,ref:t})});hn.displayName=Js;var Zs="DropdownMenuCheckboxItem",ei=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Fs,{...i,...o,ref:t})});ei.displayName=Zs;var ti="DropdownMenuRadioGroup",ri=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Ls,{...i,...o,ref:t})});ri.displayName=ti;var ni="DropdownMenuRadioItem",oi=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx($s,{...i,...o,ref:t})});oi.displayName=ni;var ai="DropdownMenuItemIndicator",si=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Gs,{...i,...o,ref:t})});si.displayName=ai;var ii="DropdownMenuSeparator",ci=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Ks,{...i,...o,ref:t})});ci.displayName=ii;var li="DropdownMenuArrow",di=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Bs,{...i,...o,ref:t})});di.displayName=li;var ui="DropdownMenuSubTrigger",fi=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Us,{...i,...o,ref:t})});fi.displayName=ui;var mi="DropdownMenuSubContent",pi=a.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=F(n);return r.jsx(Vs,{...i,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pi.displayName=mi;var hi=ln,xi=un,gi=fn,vi=pn,bi=hn;const mt=50,wi=5,yi=3,Ci=800;function Si({channelId:e,questionId:t}){const[n,o]=Vn(),s=new URLSearchParams(n.split("?")[1]||"").get("q"),d=s||t,c=ur(e||""),{subChannels:f}=eo(e||""),l=c?{...c,subChannels:[{id:"all",name:"All Topics"},...f.map(y=>({id:y,name:y.split("-").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" ")}))]}:null,[u,m]=a.useState("all"),[x,g]=a.useState("all"),[w,h]=a.useState("all"),[p,v]=a.useState(0),[N,C]=a.useState(!1),[b,E]=a.useState(!1),[A,I]=a.useState(!1),[T,P]=a.useState("question"),[W,ee]=a.useState(!1),[U,ie]=a.useState([]),[Q,te]=a.useState(!1),[O,Se]=a.useState([]),[V,S]=a.useState(0),[Y,K]=a.useState([]),[q,J]=a.useState(!1),[je,re]=a.useState(null),[ce,D]=a.useState(!1),[Qe,xn]=a.useState(!1),[ne,Ne]=a.useState(new Set),[Mi,At]=a.useState(new Set),_t=`channel-session-${e}`,Ee=`channel-checkpoints-${e}`;a.useEffect(()=>{try{const y=localStorage.getItem(Ee);y&&Ne(new Set(JSON.parse(y)))}catch{}},[Ee]),a.useEffect(()=>{e&&localStorage.setItem(Ee,JSON.stringify(Array.from(ne)))},[ne,e,Ee]);const{companiesWithCounts:Ye}=to(e||"",u,x),{preferences:Pt,isSubscribed:ze,subscribeChannel:gn}=Kt(),vn=Pt.shuffleQuestions!==!1,bn=Pt.prioritizeUnvisited!==!1,{onQuestionSwipe:wn,onQuestionView:yn,balance:ki,formatCredits:Ri,refreshBalance:Dt}=Hn(),{trackEvent:Cn}=Wn(),{question:R,questions:L,totalQuestions:_,loading:$,error:Sn}=ro(e||"",p,u,x,w,vn,bn),Me=a.useCallback(()=>{if(!e||L.length===0)return;const y={channelId:e,channelName:l?.name,questions:L,currentIndex:p,selectedSubChannel:u,selectedDifficulty:x,selectedCompany:w,passedCheckpoints:Array.from(ne),lastAccessedAt:new Date().toISOString()};localStorage.setItem(_t,JSON.stringify(y))},[e,l,L,p,u,x,w,ne,_t]);a.useCallback(()=>{Me(),o("/channels")},[Me,o]),a.useEffect(()=>{L.length>0&&Me()},[p,ne,Me,L.length]),a.useEffect(()=>{(async()=>{if(e)try{const M=await Po();ie(M.filter(le=>le.channelId===e))}catch(M){console.error("Failed to load tests:",M)}})()},[e]);const{completed:jn,markCompleted:Nn,saveLastVisitedIndex:En}=Qn(e||""),{toast:B}=Co(),Xe=a.useCallback(y=>y>0&&y%wi===0,[]),qe=a.useCallback(y=>ne.has(y),[ne]),ke=a.useCallback(()=>{if(U.length===0)return[];const y=U[Math.floor(Math.random()*U.length)];return _o(y,yi)},[U]),Je=a.useCallback(()=>{const y=ke();y.length>0?(Se(y),S(0),K([]),J(!1),re(null),D(!1),At(new Set),te(!0)):(Ne(M=>new Set(Array.from(M).concat(p))),B({title:"Checkpoint passed!"}))},[ke,p,B]);a.useCallback(y=>{if(q)return;const M=O[V],le=M.options.find(pe=>pe.isCorrect),An=y===le?.id,Gt={questionId:M.id,selectedOptionId:y,isCorrect:An,correctOptionId:le?.id||""};K(pe=>[...pe,Gt]),re(Gt),J(!0),setTimeout(()=>{J(!1),re(null),V<O.length-1?S(pe=>pe+1):D(!0)},Ci)},[q,O,V]);const Ot=a.useMemo(()=>{const y=Y.filter(M=>M.isCorrect).length;return{correct:y,total:O.length,passed:y===O.length}},[Y,O.length]);a.useCallback(()=>{const y=ke();Se(y),S(0),K([]),J(!1),re(null),D(!1),At(new Set)},[ke]),a.useCallback(()=>{Yn(mt,"Skipped checkpoint test").success?(Ne(M=>new Set(Array.from(M).concat(p))),te(!1),xn(!1),Dt(),B({title:"Test Skipped",description:`-${mt} credits`})):B({title:"Insufficient Credits",description:`Need ${mt} credits`})},[p,Dt,B]),a.useCallback(()=>{Ot.passed&&Ne(y=>new Set(Array.from(y).concat(p))),te(!1)},[Ot.passed,p]);const[Mn,kn]=a.useState(()=>{const y=localStorage.getItem(`marked-${e}`);return y?JSON.parse(y):[]}),Ze=ao({onSwipeLeft:()=>P("answer"),onSwipeRight:()=>P("question")}),[et,Ft]=a.useState(!1);a.useEffect(()=>{if(!($||L.length===0))if(d){const y=L.findIndex(M=>M.id===d);y>=0&&y!==p&&v(y),s&&o(`/extreme/channel/${e}/${d}`,{replace:!0}),Ft(!0)}else L[0]&&!et&&(o(`/extreme/channel/${e}/${L[0].id}`,{replace:!0}),Ft(!0))},[d,L.length,e,$,s]),a.useEffect(()=>{e&&l&&!ze(e)&&($||(_>0&&L.length>0?(gn(e),B({title:"Channel added",description:`${l.name} added to your channels`})):(B({title:"Cannot add channel",description:`${l.name} has no questions available`,variant:"destructive"}),setTimeout(()=>{o("/")},2e3)))),e&&Uo.trackChannelVisit(e)},[e,l,$,_,L.length]);const{unsubscribeChannel:Rn}=Kt();a.useEffect(()=>{!$&&e&&l&&ze(e)&&(_===0||L.length===0)&&(Rn(e),B({title:"Channel removed",description:`${l.name} has no questions available and was removed from your channels`,variant:"destructive"}),setTimeout(()=>{o("/")},2e3))},[$,_,L.length,e,l,ze]),a.useEffect(()=>{_>0&&p>=_&&v(0)},[_,p]),a.useEffect(()=>{!et||$||!e||!R||(R.id!==d&&o(`/extreme/channel/${e}/${R.id}`,{replace:!0}),En(p))},[p,et]),a.useEffect(()=>{R&&(zn(R.id,R.channel,R.difficulty),Nn(R.id),Xn(),Cn({type:"question_completed",timestamp:new Date().toISOString(),data:{questionId:R.id,difficulty:R.difficulty,channel:R.channel}}))},[R?.id]),a.useEffect(()=>{const y=M=>{if((M.metaKey||M.ctrlKey)&&M.key==="k"){M.preventDefault(),I(!0);return}A||Q||(M.key==="ArrowRight"||M.key==="ArrowDown"?(M.preventDefault(),Lt()):M.key==="ArrowLeft"||M.key==="ArrowUp"?(M.preventDefault(),$t()):M.key==="Escape"&&o("/"))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p,_,A,Q]),a.useEffect(()=>{Xe(p)&&!qe(p)&&!Q&&!$&&Je()},[p,Xe,qe,Q,$,Je]);const Lt=()=>{if(p<_-1){const y=p+1;if(Xe(y)&&!qe(y)){v(y),Je();return}v(y),P("question"),wn(),yn()}},$t=()=>{p>0&&(v(y=>y-1),P("question"))},tt=(y,M)=>{v(0),y==="sub"?m(M):y==="diff"?g(M):h(M)},rt=()=>{R&&kn(y=>{const M=y.includes(R.id)?y.filter(le=>le!==R.id):[...y,R.id];return localStorage.setItem(`marked-${e}`,JSON.stringify(M)),M})},Tn=async()=>{try{await navigator.clipboard.writeText(window.location.href),B({title:"Link copied!",description:"Question link copied to clipboard"})}catch{B({title:"Share",description:window.location.href})}};if(a.useEffect(()=>{!$&&l&&_===0&&(u!=="all"||x!=="all"||w!=="all"||(B({title:"Content coming soon!",description:`We're preparing questions for "${l.name}". Check back soon!`,variant:"warning"}),ee(!0)))},[$,l,_,u,x,w]),$&&!R)return r.jsx(ji,{});if(Sn||!l)return r.jsx("div",{className:"h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Channel not found"}),r.jsxs("p",{className:"text-muted-foreground mb-4",children:['The channel "',e,`" doesn't exist.`]}),r.jsx("button",{onClick:()=>o("/"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg",children:"Go Home"})]})});if(!$&&(!R||_===0))return!(u!=="all"||x!=="all"||w!=="all")||W?r.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[r.jsx(pt,{channel:l,onBack:()=>o("/"),onSearch:()=>I(!0),currentIndex:p,totalQuestions:_,progress:0,filters:{selectedSubChannel:u,selectedDifficulty:x,selectedCompany:w,companiesWithCounts:Ye,onFilterChange:tt}}),r.jsx(so,{type:"channel",name:l?.name,redirectTo:"/channels",redirectDelay:5e3})]}):r.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[r.jsx(pt,{channel:l,onBack:()=>o("/"),onSearch:()=>I(!0),currentIndex:p,totalQuestions:_,progress:0,filters:{selectedSubChannel:u,selectedDifficulty:x,selectedCompany:w,companiesWithCounts:Ye,onFilterChange:tt}}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"No questions found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters."}),r.jsx("button",{onClick:()=>{m("all"),g("all"),h("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg",children:"Reset Filters"})]})})]});if(!R)return null;const nt=Mn.includes(R.id),Re=jn.includes(R.id),In=Math.round((p+1)/_*100);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`h-screen flex flex-col bg-background text-foreground overflow-hidden ${N?"fixed inset-0 z-50":""}`,children:[r.jsx(pt,{channel:l,onBack:()=>o("/"),onSearch:()=>I(!0),currentIndex:p,totalQuestions:_,progress:In,onFullscreen:()=>C(!N),filters:{selectedSubChannel:u,selectedDifficulty:x,selectedCompany:w,companiesWithCounts:Ye,onFilterChange:tt}}),r.jsxs("div",{className:"flex-1 flex overflow-hidden isolate","data-testid":"reels-content",children:[r.jsxs("div",{className:"hidden lg:flex flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-1/2 border-r border-border overflow-hidden flex-shrink-0",children:r.jsx(Ht,{question:R,questionNumber:p+1,totalQuestions:_,isMarked:nt,isCompleted:Re,onToggleMark:rt})}),r.jsx("div",{className:"w-1/2 overflow-hidden flex-shrink-0",children:r.jsx(Yt,{question:R,isCompleted:Re})})]}),r.jsxs("div",{className:"flex-1 flex flex-col lg:hidden overflow-hidden",children:[r.jsxs("div",{className:"flex border-b border-border bg-card backdrop-blur relative z-10",children:[r.jsx("button",{onClick:()=>P("question"),className:`flex-1 py-3 text-sm font-medium transition-colors ${T==="question"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Question"}),r.jsx("button",{onClick:()=>P("answer"),className:`flex-1 py-3 text-sm font-medium transition-colors ${T==="answer"?"text-primary border-b-2 border-primary":"text-muted-foreground"}`,children:"Answer"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-background relative z-0 pb-20",onTouchStart:Ze.onTouchStart,onTouchMove:Ze.onTouchMove,onTouchEnd:Ze.onTouchEnd,children:T==="question"?r.jsx(Ht,{question:R,questionNumber:p+1,totalQuestions:_,isMarked:nt,isCompleted:Re,onToggleMark:rt,onTapQuestion:()=>P("answer")}):r.jsx(Yt,{question:R,isCompleted:Re})})]}),r.jsx(Ge,{children:b&&r.jsx(Ni,{question:R,onClose:()=>E(!1)})})]}),r.jsx(Ei,{currentIndex:p,totalQuestions:_,onPrev:$t,onNext:Lt,onShare:Tn,isMarked:nt,onToggleMark:rt})]}),r.jsx(Ao,{isOpen:A,onClose:()=>I(!1)}),r.jsx(no,{})]})}function ji(){return r.jsxs("div",{className:"min-h-screen bg-background animate-pulse",children:[r.jsx("div",{className:"h-20 bg-card"}),r.jsx("div",{className:"flex h-[calc(100vh-80px)]",children:r.jsxs("div",{className:"flex-1 p-8 space-y-6",children:[r.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),r.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-muted rounded"}),r.jsx("div",{className:"h-4 bg-muted rounded w-5/6"}),r.jsx("div",{className:"h-4 bg-muted rounded w-4/6"})]})]})})]})}function pt({channel:e,onBack:t,onSearch:n,currentIndex:o,totalQuestions:i,progress:s,onFullscreen:d,filters:c}){const{selectedSubChannel:f,selectedDifficulty:l,selectedCompany:u,companiesWithCounts:m,onFilterChange:x}=c||{},[g,w]=a.useState(!1),h=f!=="all"||l!=="all"||u!=="all",p=[f!=="all",l!=="all",u!=="all"].filter(Boolean).length;return r.jsxs("header",{className:"bg-background/95 backdrop-blur-xl border-b border-border shrink-0 relative z-20",children:[r.jsxs("div",{className:"h-12 flex items-center justify-between px-3 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(j.button,{onClick:t,className:"p-1.5 hover:bg-muted rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(bt,{className:"w-5 h-5 text-foreground"})}),r.jsx("div",{className:"hidden sm:block",children:r.jsx("h1",{className:"font-bold text-foreground text-sm",children:e.name})})]}),i>0&&r.jsx("div",{className:"flex-1 max-w-md mx-auto",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs font-bold text-primary tabular-nums min-w-[50px]",children:[o+1,"/",i]}),r.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden border border-border",children:r.jsx(j.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5,ease:"easeOut"}})}),r.jsxs("span",{className:"text-xs font-bold text-foreground tabular-nums min-w-[30px]",children:[s,"%"]})]})}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[c&&r.jsxs(j.button,{onClick:()=>w(!g),className:`relative p-1.5 rounded-lg transition-all ${g||h?"bg-primary/10 text-primary border border-primary/30":"hover:bg-muted text-muted-foreground"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[r.jsx(Do,{className:"w-4 h-4"}),p>0&&r.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-primary text-primary-foreground text-[9px] font-bold rounded-full flex items-center justify-center border border-background",children:p})]}),r.jsx(j.button,{onClick:n,className:"p-1.5 hover:bg-muted rounded-lg transition-all text-muted-foreground hover:text-foreground",whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(qn,{className:"w-4 h-4"})}),d&&r.jsx(j.button,{onClick:d,className:"hidden lg:block p-1.5 hover:bg-muted rounded-lg transition-all text-muted-foreground hover:text-foreground",whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(So,{className:"w-4 h-4"})})]})]}),r.jsx(Ge,{children:c&&g&&r.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden border-t border-border",children:r.jsx("div",{className:"px-3 py-3 bg-muted/30",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Filters:"}),e.subChannels?.length>1&&r.jsx(ht,{label:e.subChannels.find(v=>v.id===f)?.name||"All Topics",options:e.subChannels.map(v=>({id:v.id,label:v.name})),selected:f,onSelect:v=>x("sub",v)}),r.jsx(ht,{label:l==="all"?"All Levels":l.charAt(0).toUpperCase()+l.slice(1),options:[{id:"all",label:"All Levels",icon:r.jsx(Fe,{className:"w-3 h-3"})},{id:"beginner",label:"Easy",icon:r.jsx(cr,{className:"w-3 h-3 text-green-500"})},{id:"intermediate",label:"Medium",icon:r.jsx(Fe,{className:"w-3 h-3 text-yellow-500"})},{id:"advanced",label:"Hard",icon:r.jsx(pr,{className:"w-3 h-3 text-red-500"})}],selected:l,onSelect:v=>x("diff",v)}),m.length>0&&r.jsx(ht,{label:u==="all"?"All Companies":u,options:[{id:"all",label:"All Companies",icon:r.jsx(mr,{className:"w-3 h-3"})},...m.map(v=>({id:v.name,label:`${v.name} (${v.count})`}))],selected:u,onSelect:v=>x("company",v)}),h&&r.jsx(j.button,{onClick:()=>{x("sub","all"),x("diff","all"),x("company","all")},className:"ml-auto px-2.5 py-1 text-[10px] font-medium text-muted-foreground hover:text-foreground bg-muted hover:bg-muted/80 rounded-lg transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Clear All"})]})})})})]})}function ht({label:e,options:t,selected:n,onSelect:o}){const i=n!=="all";return r.jsxs(hi,{children:[r.jsx(xi,{asChild:!0,children:r.jsxs("button",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all whitespace-nowrap outline-none focus:outline-none ${i?"bg-primary/10 text-primary border border-primary/30":"bg-card hover:bg-muted border border-border text-foreground"}`,children:[e,r.jsx(gr,{className:"w-3 h-3 opacity-60"})]})}),r.jsx(gi,{children:r.jsx(vi,{className:"min-w-[180px] max-h-[350px] overflow-y-auto bg-popover backdrop-blur-xl border border-border rounded-xl shadow-2xl p-1.5 z-50",sideOffset:6,children:t.map(s=>r.jsxs(bi,{onClick:()=>o(s.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer outline-none text-xs transition-all ${n===s.id?"bg-primary/10 text-primary border border-primary/30":"text-foreground hover:bg-muted"}`,children:[s.icon,r.jsx("span",{className:"flex-1",children:s.label}),n===s.id&&r.jsx(xr,{className:"w-3.5 h-3.5 text-primary"})]},s.id))})})]})}function Ni({question:e,onClose:t}){const[n,o]=a.useState([]),[i,s]=a.useState(""),[d,c]=a.useState(!1),f=async()=>{if(!i.trim()||d)return;const l=i.trim();s(""),o(u=>[...u,{role:"user",content:l}]),c(!0),setTimeout(()=>{o(u=>[...u,{role:"assistant",content:`I can help you understand this ${e.difficulty} level question about "${e.question.substring(0,50)}...". What specific aspect would you like me to explain?`}]),c(!1)},1e3)};return r.jsxs(j.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"w-80 h-full bg-card backdrop-blur-xl border-l border-border flex flex-col relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gt,{className:"w-5 h-5 text-purple-500"}),r.jsx("h3",{className:"font-semibold text-foreground",children:"AI Assistant"})]}),r.jsx("button",{onClick:t,className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:r.jsx(Jn,{className:"w-4 h-4 text-muted-foreground"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[n.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground text-sm",children:[r.jsx(gt,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),r.jsx("p",{children:"Ask me anything about this question!"})]}),n.map((l,u)=>r.jsx("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] p-3 rounded-xl text-sm ${l.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground border border-border"}`,children:l.content})},u)),d&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-muted border border-border p-3 rounded-xl",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),r.jsx("div",{className:"p-4 border-t border-border",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{value:i,onChange:l=>s(l.target.value),onKeyDown:l=>l.key==="Enter"&&f(),placeholder:"Ask about this question...",className:"flex-1 px-3 py-2 bg-background border border-border rounded-xl text-foreground placeholder-muted-foreground text-sm focus:outline-none focus:border-purple-500"}),r.jsx("button",{onClick:f,disabled:!i.trim()||d,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl transition-colors",children:r.jsx(fr,{className:"w-4 h-4"})})]})})]})}function Ei({currentIndex:e,totalQuestions:t,onPrev:n,onNext:o,onShare:i,isMarked:s,onToggleMark:d}){const c=Math.round((e+1)/t*100),f=e>0,l=e<t-1;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden bg-background/95 backdrop-blur-xl border-t border-border",children:r.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[r.jsxs(j.button,{onClick:n,disabled:!f,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-xs transition-all ${f?"bg-card hover:bg-muted text-foreground border border-border":"bg-muted/50 text-muted-foreground border border-border cursor-not-allowed opacity-50"}`,whileHover:f?{scale:1.05}:{},whileTap:f?{scale:.95}:{},children:[r.jsx(bt,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:"Prev"})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(j.button,{onClick:d,className:`p-2 rounded-lg transition-all ${s?"bg-primary/10 text-primary border border-primary/30":"bg-card text-muted-foreground hover:text-primary border border-border"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(vt,{className:`w-4 h-4 ${s?"fill-current":""}`})}),r.jsx(j.button,{onClick:i,className:"p-2 rounded-lg bg-card hover:bg-muted text-muted-foreground hover:text-foreground transition-all border border-border",whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(Bt,{className:"w-4 h-4"})})]}),r.jsxs(j.button,{onClick:o,disabled:!l,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg font-medium text-xs transition-all ${l?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-muted/50 text-muted-foreground border border-border cursor-not-allowed opacity-50"}`,whileHover:l?{scale:1.05}:{},whileTap:l?{scale:.95}:{},children:[r.jsx("span",{children:"Next"}),r.jsx(Ut,{className:"w-3.5 h-3.5"})]})]})}),r.jsx("div",{className:"hidden lg:block",children:r.jsx(j.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-card/95 backdrop-blur-xl border border-border rounded-xl shadow-xl",children:[r.jsxs(j.button,{onClick:n,disabled:!f,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg font-medium text-xs transition-all ${f?"bg-muted hover:bg-muted/80 text-foreground":"bg-muted/50 text-muted-foreground cursor-not-allowed opacity-50"}`,whileHover:f?{scale:1.05}:{},whileTap:f?{scale:.95}:{},children:[r.jsx(bt,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:"Prev"})]}),r.jsx("div",{className:"w-px h-6 bg-border"}),r.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-muted rounded-lg border border-border",children:[r.jsxs("span",{className:"text-[10px] font-bold text-primary tabular-nums",children:[e+1,"/",t]}),r.jsx("div",{className:"w-16 h-1 bg-background rounded-full overflow-hidden border border-border",children:r.jsx(j.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${c}%`},transition:{duration:.3}})})]}),r.jsx("div",{className:"w-px h-6 bg-border"}),r.jsx(j.button,{onClick:d,className:`p-1.5 rounded-lg transition-all ${s?"bg-primary/10 text-primary border border-primary/30":"hover:bg-muted text-muted-foreground hover:text-primary"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(vt,{className:`w-3.5 h-3.5 ${s?"fill-current":""}`})}),r.jsx(j.button,{onClick:i,className:"p-1.5 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-all",whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(Bt,{className:"w-3.5 h-3.5"})}),r.jsx("div",{className:"w-px h-6 bg-border"}),r.jsxs(j.button,{onClick:o,disabled:!l,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg font-medium text-xs transition-all ${l?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-muted/50 text-muted-foreground cursor-not-allowed opacity-50"}`,whileHover:l?{scale:1.05}:{},whileTap:l?{scale:.95}:{},children:[r.jsx("span",{children:"Next"}),r.jsx(Ut,{className:"w-3.5 h-3.5"})]})]})})})]})}function lc(){const[,e]=Zn("/extreme/channel/:id/:questionId?"),t=e?.id,n=e?.questionId,o=ur(t||"");return t?r.jsxs(r.Fragment,{children:[r.jsx(Oo,{title:`${o?.name||"Question"} - Extreme Learning Experience | Code Reels`,description:`Immersive question practice for ${o?.name||"technical interviews"} with AI assistance, gamified learning, and extreme UX design.`,canonical:`https://open-interview.github.io/extreme/channel/${t}${n?`/${n}`:""}`}),r.jsx(Si,{channelId:t,questionId:n})]}):r.jsx("div",{children:"Channel not found"})}export{lc as default};
