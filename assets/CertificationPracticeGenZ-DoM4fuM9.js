import{d as ve,r as a,j as e,m as k,s as Oe,Z as Ne,B as lt,A as oe,u as ot,t as ct,b as dt,a0 as xt,x as mt,n as pt,f as ht,Y as Re,I as ut,l as ft,C as gt,X as bt,R as jt}from"./index-D0xwtbAr.js";import{a as yt,b as wt,g as Nt}from"./progressive-quiz-DdzigBkm.js";import{S as vt}from"./SEOHead-ntbT5BRP.js";import{Q as kt,u as Ct,C as St}from"./use-swipe-4YkHycqf.js";import{g as Tt,b as $t,c as It,r as Et,a as Rt,Q as Mt,S as Lt,G as At,Y as Qt,B as Dt}from"./spaced-repetition-XsVPJds4.js";import{S as Pt,B as Bt}from"./sparkles-CvddbY9g.js";import{C as ce}from"./check-D3NRcCye.js";import{B as Wt,a as Ot,F as Ft,T as _t,C as zt,G as Vt}from"./tag-CnKEepch.js";import{C as Ht}from"./clock-mOncZO66.js";import{T as Me,B as Ut,u as Gt,a as Jt,C as Kt}from"./use-unified-toast-5BD6N9MA.js";import{bF as Fe}from"./EnhancedMermaid-CwxTmz3Q.js";import{M as Yt,r as Xt,h as Zt,v as qt}from"./index--ICM4PbD.js";import{E as es}from"./external-link-D_79bOwz.js";import{F as ts}from"./file-text-DOyP7RM-.js";import{C as ss}from"./copy-C3HusHLe.js";import{L as de}from"./lightbulb-Djl9Uuda.js";import{C as _e}from"./chevron-down-DyqiPfCB.js";import{P as rs}from"./play-BM_ErR4M.js";import{d as as,l as ns}from"./tests-DRPiStcq.js";import{L as Le}from"./lock-D8YTZ75c.js";import{C as is}from"./circle-x-qt5Fu0lu.js";import{C as ls}from"./chevron-up-BsAxR7Wp.js";import{T as os}from"./triangle-alert-h6Kdnbzu.js";import"./history-Bl6Vitt3.js";import"./trash-2-BX0xqTVx.js";import"./square-pen-NTxVs-3d.js";import"./plus-5BaGzpeh.js";import"./settings-BY3DnhVZ.js";import"./user-C6DleTxx.js";import"./bot-DIo4g1r1.js";import"./coffee-CKvtmWwU.js";import"./message-circle-Cu7CJ4hv.js";import"./flag-Dv5WwwMQ.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ds=ve("hash",cs);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Ae=ve("lock-open",xs);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Qe=ve("skip-forward",ms);function ps(s){return s?s.split(/`([^`]+)`/g).map((u,i)=>i%2===1?e.jsx("code",{className:"px-1.5 py-0.5 mx-0.5 bg-primary/15 text-primary rounded text-[0.9em] font-mono",children:u},i):u):null}function hs({difficulty:s}){const r="hidden sm:block absolute bottom-8 right-8 w-32 h-32 lg:w-40 lg:h-40 opacity-[0.06] pointer-events-none select-none z-0";return s==="beginner"?e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("circle",{cx:"40",cy:"42",r:"5"}),e.jsx("circle",{cx:"60",cy:"42",r:"5"}),e.jsx("path",{d:"M38 52 Q50 62 62 52",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"8",strokeWidth:"2",stroke:"currentColor"}),e.jsx("circle",{cx:"50",cy:"5",r:"4"}),e.jsx("rect",{x:"18",y:"38",width:"6",height:"14",rx:"2"}),e.jsx("rect",{x:"76",y:"38",width:"6",height:"14",rx:"2"})]}):s==="intermediate"?e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("rect",{x:"35",y:"40",width:"10",height:"6",rx:"1"}),e.jsx("rect",{x:"55",y:"40",width:"10",height:"6",rx:"1"}),e.jsx("line",{x1:"40",y1:"55",x2:"60",y2:"55",strokeWidth:"3",stroke:"currentColor"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"8",strokeWidth:"2",stroke:"currentColor"}),e.jsx("polygon",{points:"50,2 46,8 54,8"}),e.jsx("circle",{cx:"82",cy:"50",r:"8",strokeWidth:"2",stroke:"currentColor",fill:"none"}),e.jsx("circle",{cx:"82",cy:"50",r:"3"})]}):e.jsxs("svg",{className:r,viewBox:"0 0 100 100",fill:"currentColor","aria-hidden":"true",children:[e.jsx("circle",{cx:"50",cy:"45",r:"28",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("rect",{x:"42",y:"73",width:"16",height:"12",rx:"2"}),e.jsx("rect",{x:"38",y:"85",width:"24",height:"6",rx:"2"}),e.jsx("ellipse",{cx:"40",cy:"42",rx:"6",ry:"7"}),e.jsx("ellipse",{cx:"60",cy:"42",rx:"6",ry:"7"}),e.jsx("circle",{cx:"42",cy:"41",r:"2",fill:"white"}),e.jsx("circle",{cx:"62",cy:"41",r:"2",fill:"white"}),e.jsx("path",{d:"M38 56 Q50 52 62 56",strokeWidth:"3",stroke:"currentColor",fill:"none"}),e.jsx("ellipse",{cx:"78",cy:"35",rx:"3",ry:"5"}),e.jsx("ellipse",{cx:"82",cy:"45",rx:"2",ry:"4"}),e.jsx("line",{x1:"50",y1:"17",x2:"50",y2:"5",strokeWidth:"2",stroke:"currentColor"}),e.jsx("circle",{cx:"50",cy:"3",r:"3"}),e.jsx("polygon",{points:"85,20 80,30 84,30 79,42 88,28 84,28"})]})}function De({question:s,questionNumber:r,totalQuestions:u,isMarked:i,isCompleted:o,onToggleMark:c,onTapQuestion:x,timerEnabled:f,timeLeft:p}){const[m,y]=a.useState(null),[d,j]=a.useState(!1),[n,w]=a.useState(!1);a.useEffect(()=>{if(s?.id){const b=Tt(s.id,s.channel,s.difficulty);y($=>$?.questionId===b.questionId&&$?.totalReviews===b.totalReviews?$:b),j(!1),w(b.totalReviews>0)}},[s?.id,s?.channel,s?.difficulty]);const T=b=>{if(!s)return;const $=Et(s.id,s.channel,s.difficulty,b);y($),j(!0),w(!1)},C=()=>{if(!s)return;const b=Rt(s.id,s.channel,s.difficulty);y(b),w(!0)},E=(()=>{switch(s.difficulty){case"beginner":return{icon:Ne,color:"text-green-500",bg:"bg-green-500/10",border:"border-green-500/20",label:"Easy"};case"intermediate":return{icon:Me,color:"text-yellow-500",bg:"bg-yellow-500/10",border:"border-yellow-500/20",label:"Medium"};case"advanced":return{icon:Ft,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/20",label:"Hard"};default:return{icon:Me,color:"text-muted-foreground",bg:"bg-muted",border:"border-border",label:"Unknown"}}})(),xe=E.icon;return e.jsxs("div",{className:"w-full h-full flex flex-col px-3 sm:px-4 lg:px-6 py-3 sm:py-4 overflow-y-auto relative","data-testid":"question-panel",children:[e.jsx(hs,{difficulty:s.difficulty}),e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-1 px-2 py-1 bg-muted/50 border border-border rounded-md",children:[e.jsx(ds,{className:"w-3 h-3 text-primary"}),e.jsx("span",{className:"text-[10px] font-mono text-muted-foreground",children:s.id})]}),e.jsx("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted rounded-md",children:e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:[r,e.jsx("span",{className:"text-muted-foreground/50",children:"/"}),u]})}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md ${E.bg} border ${E.border}`,children:[e.jsx(xe,{className:`w-3 h-3 ${E.color}`}),e.jsx("span",{className:`text-xs font-medium ${E.color}`,children:E.label})]}),s.isNew&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-md",children:[e.jsx(Pt,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:"text-xs font-bold bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"NEW"})]}),o&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/10 border border-green-500/20 rounded-md",children:[e.jsx(ce,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs font-medium text-green-500",children:"Done"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(kt,{questionId:s.id,questionType:"question",size:"sm"}),e.jsx("button",{onClick:c,className:`p-1.5 rounded-md transition-colors ${i?"bg-primary/10 text-primary border border-primary/20":"bg-muted text-muted-foreground hover:text-primary"}`,children:e.jsx(Wt,{className:`w-4 h-4 ${i?"fill-current":""}`})})]})]}),e.jsxs("div",{className:`flex-1 flex flex-col justify-center max-w-2xl w-full ${x?"cursor-pointer lg:cursor-default":""}`,onClick:x,children:[s.companies&&s.companies.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2 flex-wrap",children:[e.jsx(Ot,{className:"w-3.5 h-3.5 text-muted-foreground"}),s.companies.map((b,$)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-500/10 text-blue-500 text-xs font-medium rounded-full",children:b},$))]}),e.jsx(k.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`font-bold text-foreground leading-tight ${s.question.length>200?"text-sm sm:text-base lg:text-lg":s.question.length>100?"text-base sm:text-lg lg:text-xl":"text-lg sm:text-xl lg:text-2xl"}`,children:ps(s.question)}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-medium",children:s.subChannel})}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[s.tags.slice(0,5).map(b=>e.jsx("span",{className:"px-1.5 py-0.5 bg-muted text-[9px] sm:text-[10px] font-mono text-muted-foreground rounded border border-border",children:Oe(b)},b)),s.tags.length>5&&e.jsxs("span",{className:"text-[9px] text-muted-foreground py-0.5",children:["+",s.tags.length-5]})]}),f&&p>0&&e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-2 bg-primary/5 border border-primary/20 rounded-lg self-start",children:[e.jsx(Ht,{className:"w-4 h-4 text-primary"}),e.jsxs("div",{className:"text-lg font-mono font-bold text-primary tabular-nums",children:[String(Math.floor(p/60)).padStart(2,"0"),":",String(p%60).padStart(2,"0")]})]})]}),e.jsx("div",{className:"mt-auto pt-3 flex justify-start mb-12 sm:mb-0",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-purple-500/5 border border-purple-500/20 rounded-lg px-2 py-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Bt,{className:"w-3.5 h-3.5 text-purple-500"}),e.jsx("span",{className:"text-[10px] font-semibold text-purple-500",children:"SRS"}),m&&e.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded ${It(m.masteryLevel)} bg-muted/50`,children:$t(m.masteryLevel)})]}),d?e.jsx("span",{className:"text-[10px] text-green-500 font-medium",children:"âœ“"}):n&&m?e.jsx("div",{className:"flex items-center gap-0.5",children:[{rating:"again",label:"ðŸ˜•",color:"bg-red-500/10 text-red-500 hover:bg-red-500/20"},{rating:"hard",label:"ðŸ¤”",color:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20"},{rating:"good",label:"ðŸ‘",color:"bg-green-500/10 text-green-500 hover:bg-green-500/20"},{rating:"easy",label:"ðŸŽ¯",color:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20"}].map(b=>e.jsx("button",{onClick:$=>{$.stopPropagation(),T(b.rating)},className:`w-6 h-6 flex items-center justify-center rounded text-xs transition-colors ${b.color}`,children:b.label},b.rating))}):e.jsx("button",{onClick:b=>{b.stopPropagation(),C()},className:"px-2 py-0.5 bg-purple-500 text-white text-[10px] font-medium rounded hover:bg-purple-600",children:"+Add"})]})}),e.jsx("div",{className:"mt-3 text-center hidden sm:block",children:e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-[9px] font-mono",children:"â†’"})," to reveal answer"]})})]})}function us(s){if(!s)return"";let r=s;r=r.replace(/([OÎ˜Î©])\(([^)]+)\)/g,"`$1($2)`"),r=r.replace(/\*\*\s*```/g,"**\n\n```"),r=r.replace(/```\s*\*\*/g,"```\n\n**"),r=r.replace(/```(\w*)\n([\s\S]*?)```/g,(o,c,x)=>{const f=x.replace(/\*\*/g,"");return"```"+c+`
`+f+"```"}),r=r.replace(/([^\n`])(\s*```)/g,"$1\n```"),r=r.replace(/(```\w*)\s*\n?\s*([^\n`])/g,`$1
$2`),r=r.replace(/:\s*```/g,":\n\n```"),r=r.replace(/^\*\*\s*$/gm,""),r=r.replace(/\*\*\s*\n\s*([^*]+)\*\*/g,"**$1**"),r=r.replace(/\*\*\s*\n\s*(\d+\.\s+[^*\n]+)\*\*/g,"**$1**"),r=r.replace(/\*\*\s*\n\s*(-\s+[^*\n]+)\*\*/g,"**$1**"),r=r.replace(/\*\*-\s+/g,`**
- `),r=r.replace(/\*\*(\d+)\.\s+/g,`**
$1. `),r=r.replace(/\*\*-\s*\*\*([^*]+)\*\*/g,`**
- **$1**`),r=r.replace(/\*\*-\s*\*\*([^*\n]+)/g,`**
- **$1**`),r=r.replace(/-\s*\*\*([^*]+)\*\*-\s+/g,`- **$1**
- `);const u=r.split(`
`),i=[];for(let o=0;o<u.length;o++){let c=u[o];const x=(c.match(/\*\*/g)||[]).length;x%2===1&&(c.trim().startsWith("**")&&x===1?c=c.replace(/^\s*\*\*\s*/,""):c.trim().endsWith("**")&&x===1&&(c=c.replace(/\s*\*\*\s*$/,""))),i.push(c)}return r=i.join(`
`),r=r.replace(/^[â€¢Â·]\s*/gm,"- "),(r.includes("â€¢")||r.includes("Â·"))&&(r=r.split(`
`).map(x=>{const f=(x.match(/[â€¢Â·]/g)||[]).length;if(f>1||f===1&&!x.trim().startsWith("â€¢")&&!x.trim().startsWith("Â·")){const p=x.split(/[â€¢Â·]/).map(m=>m.trim()).filter(m=>m);if(p.length>1)return p.map(m=>`- ${m}`).join(`
`)}return x.replace(/^[â€¢Â·]\s*/,"- ")}).join(`
`)),r=r.replace(/(\d+[.)]\s+[^0-9]+?)(?=\s+\d+[.)])/g,`$1
`),r=r.replace(new RegExp("(?<!\\n)(\\d+[.)]\\s+)","g"),`
$1`),r=r.replace(/\n{3,}/g,`

`),r=r.replace(/^\n+/,""),r}function Pe(s){if(!s||typeof s!="string")return!1;const r=s.trim();if(!r||r.length<10)return!1;const u=["graph","flowchart","sequenceDiagram","classDiagram","stateDiagram","erDiagram","journey","gantt","pie","gitGraph","mindmap","timeline","quadrantChart","sankey","xychart","block"],i=r.split(`
`)[0].toLowerCase().trim();if(!u.some(f=>i.startsWith(f.toLowerCase())))return!1;const c=r.split(`
`).filter(f=>{const p=f.trim().toLowerCase();return p&&!p.startsWith("%%")&&!u.some(m=>p.startsWith(m.toLowerCase()))});if(c.length<3)return!1;const x=r.toLowerCase();return!(x.includes("start")&&x.includes("end")&&c.length<=3||x.match(/\bstart\b/g)?.length===1&&x.match(/\bend\b/g)?.length===1&&c.length<=2)}function Be(s){return s?s.split(/`([^`]+)`/g).map((u,i)=>i%2===1?e.jsx("code",{className:"px-1.5 py-0.5 mx-0.5 bg-cyan-500/20 text-cyan-300 rounded text-[0.9em] font-mono",children:u},i):u):null}function fs({title:s,icon:r,children:u,defaultExpanded:i=!0,variant:o="default",badge:c}){const[x,f]=a.useState(i),p=typeof window<"u"&&window.innerWidth<640,m={default:"bg-card border-border",highlight:"bg-primary/5 border-primary/20",success:"bg-green-500/5 border-green-500/20",purple:"bg-purple-500/5 border-purple-500/20"},y={default:"text-muted-foreground",highlight:"text-primary",success:"text-green-500",purple:"text-purple-500"};return e.jsxs("div",{className:`rounded-lg border overflow-hidden ${m[o]}`,children:[e.jsxs("button",{onClick:()=>f(!x),className:"w-full flex items-center justify-between px-2.5 py-1.5 hover:bg-muted/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:y[o],children:r}),e.jsx("span",{className:"font-medium text-xs",children:s}),c&&e.jsx("span",{className:"px-1 py-0.5 bg-primary/10 text-primary text-[8px] font-medium rounded",children:c})]}),e.jsx(_e,{className:`w-3.5 h-3.5 text-muted-foreground transition-transform ${x?"":"-rotate-90"}`})]}),p?x&&e.jsx("div",{className:"px-2.5 pb-2",children:u}):e.jsx(oe,{initial:!1,children:x&&e.jsx(k.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"px-2.5 pb-2",children:u})})})]})}function gs({code:s,language:r}){const[u,i]=a.useState(!1),o=async()=>{await navigator.clipboard.writeText(s),i(!0),setTimeout(()=>i(!1),2e3)};return e.jsxs("div",{className:"rounded-lg sm:rounded-xl overflow-hidden border border-border bg-[#1e1e1e]",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-1.5 sm:py-2 bg-muted/50 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary"}),e.jsx("span",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-muted-foreground font-medium",children:r||"code"})]}),e.jsx("button",{onClick:o,className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded transition-colors",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}),e.jsx("span",{className:"text-green-500",children:"Copied"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Copy"})]})})]}),e.jsx(Zt,{language:r||"text",style:qt,customStyle:{margin:0,padding:"0.75rem",background:"transparent",fontSize:"0.75rem",lineHeight:"1.5"},wrapLines:!0,wrapLongLines:!0,className:"!text-xs sm:!text-sm !p-3 sm:!p-4",children:s})]})}function bs({question:s,hasTldr:r,hasDiagram:u,hasEli5:i,hasVideo:o}){const[c,x]=a.useState(null),f=u&&c!==!1,p=[];r&&p.push("tldr"),f&&p.push("diagram"),i&&p.push("eli5"),o&&p.push("video");const[m,y]=a.useState(()=>r?"tldr":i?"eli5":o?"video":"diagram");a.useEffect(()=>{c===!1&&m==="diagram"&&(r?y("tldr"):i?y("eli5"):o&&y("video"))},[c,m,r,i,o]);const d=a.useCallback(n=>{x(n)},[]);if(p.length===0&&c===!1)return null;if(p.length===0&&!r&&!i&&!o&&c===null)return e.jsx("div",{className:"rounded-xl sm:rounded-2xl border border-border bg-card p-4 text-center text-muted-foreground text-sm",children:"Loading..."});if(p.length===0)return null;const j={tldr:{label:"TL;DR",icon:e.jsx(de,{className:"w-3.5 h-3.5"}),color:"text-cyan-400"},diagram:{label:"Diagram",icon:e.jsx(Vt,{className:"w-3.5 h-3.5"}),color:"text-purple-400"},eli5:{label:"ELI5",icon:e.jsx(Dt,{className:"w-3.5 h-3.5"}),color:"text-green-400"},video:{label:"Video",icon:e.jsx(rs,{className:"w-3.5 h-3.5"}),color:"text-pink-400"}};return e.jsxs("div",{className:"rounded-lg sm:rounded-xl border border-white/10 bg-black/40 backdrop-blur-sm overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-white/10 bg-black/20",children:p.map(n=>e.jsxs("button",{onClick:()=>y(n),className:`flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 text-xs sm:text-sm font-medium transition-all relative ${m===n?`${j[n].color} bg-white/5`:"text-white/50 hover:text-white/70 hover:bg-white/5"}`,children:[e.jsx("span",{className:m===n?j[n].color:"",children:j[n].icon}),e.jsx("span",{children:j[n].label}),m===n&&e.jsx(k.div,{layoutId:"activeTabIndicator",className:`absolute bottom-0 left-0 right-0 h-0.5 ${n==="tldr"?"bg-cyan-400":n==="diagram"?"bg-purple-400":n==="eli5"?"bg-green-400":"bg-pink-400"}`})]},n))}),e.jsx("div",{className:"p-2 sm:p-3",children:e.jsxs(oe,{mode:"wait",children:[m==="tldr"&&r&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-start gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-cyan-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:Be(s.answer)})]},"tldr"),m==="diagram"&&u&&e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(Fe,{chart:s.diagram,onRenderResult:d})},"diagram"),m==="eli5"&&i&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:"ðŸ§’"}),e.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:Be(s.eli5||"")})]},"eli5"),m==="video"&&o&&e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsx(Qt,{shortVideo:s.videos?.shortVideo,longVideo:s.videos?.longVideo})},"video")]})})]})}function We({question:s}){const r=a.useRef(null),u=typeof window<"u"&&window.innerWidth<640,[i,o]=a.useState(null);a.useEffect(()=>{lt.getByQuestionId(s.id).then(o)},[s.id]);const c=!!s.answer,x=!u&&Pe(s.diagram),f=!!s.eli5,p=!!(s.videos?.shortVideo||s.videos?.longVideo),m=c||x||f||p,y=a.useCallback(d=>{const j=us(d);return e.jsx(Yt,{remarkPlugins:[Xt],components:{code({className:n,children:w}){const T=/language-(\w+)/.exec(n||""),C=T?T[1]:"",B=String(w).replace(/\n$/,"");return!T&&!String(w).includes(`
`)?e.jsx("code",{className:"px-1 py-0.5 bg-primary/10 text-primary rounded text-[0.85em] font-mono",children:w}):C==="mermaid"?Pe(B)?e.jsx("div",{className:"my-3",children:e.jsx(Fe,{chart:B})}):null:e.jsx("div",{className:"my-2",children:e.jsx(gs,{code:B,language:C})})},p({children:n}){return e.jsx("p",{className:"mb-2 leading-relaxed text-foreground/90 text-sm",children:n})},h1({children:n}){return e.jsx("h1",{className:"text-base font-bold mb-2 mt-4 text-foreground border-b border-border pb-1",children:n})},h2({children:n}){return e.jsx("h2",{className:"text-sm font-bold mb-2 mt-3 text-foreground",children:n})},h3({children:n}){return e.jsx("h3",{className:"text-sm font-semibold mb-1.5 mt-2 text-foreground/90",children:n})},strong({children:n}){return e.jsx("strong",{className:"font-semibold text-foreground",children:n})},ul({children:n}){return e.jsx("ul",{className:"space-y-1 mb-2 ml-1",children:n})},ol({children:n}){return e.jsx("ol",{className:"space-y-1 mb-2 ml-1 [counter-reset:list-counter]",children:n})},li({children:n,node:w}){const C=w?.parent?.tagName==="ol";return e.jsxs("li",{className:"flex gap-2 text-foreground/90 text-sm [counter-increment:list-counter]",children:[e.jsx("span",{className:"shrink-0 text-primary mt-0.5",children:C?e.jsx("span",{className:"text-xs font-medium before:content-[counter(list-counter)'.']"}):"â€¢"}),e.jsx("span",{className:"flex-1",children:n})]})},a({href:n,children:w}){return e.jsx("a",{href:n,className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:w})},blockquote({children:n}){return e.jsx("blockquote",{className:"border-l-2 border-primary/50 pl-3 py-1 my-2 bg-primary/5 text-muted-foreground italic text-sm",children:n})},table({children:n}){return e.jsx("div",{className:"my-2 overflow-x-auto",children:e.jsx("table",{className:"w-full border-collapse text-sm",children:n})})},th({children:n}){return e.jsx("th",{className:"px-2 py-1.5 text-left font-semibold bg-muted border border-border text-xs",children:n})},td({children:n}){return e.jsx("td",{className:"px-2 py-1.5 border border-border text-sm",children:n})}},children:j})},[]);return e.jsx(k.div,{ref:r,initial:u?!1:{opacity:0},animate:{opacity:1},className:"w-full h-full overflow-y-auto overflow-x-hidden bg-background",children:e.jsxs("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-2 sm:py-3 pb-16 space-y-1.5",children:[m&&e.jsx(bs,{question:s,hasTldr:c,hasDiagram:x,hasEli5:f,hasVideo:p}),e.jsx(fs,{title:"Full Explanation",icon:e.jsx(Ut,{className:"w-3.5 h-3.5"}),defaultExpanded:!0,badge:s.explanation?`${Math.ceil(s.explanation.split(" ").length/200)} min`:void 0,children:e.jsx("div",{className:"prose prose-sm max-w-none",children:y(s.explanation)})}),e.jsxs("div",{className:"flex items-start justify-between gap-1.5 pt-0.5",children:[e.jsx("div",{className:"flex items-start gap-1.5 flex-1 min-w-0",children:s.tags&&s.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-2.5 h-2.5 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex flex-wrap gap-0.5",children:s.tags.map(d=>e.jsx("span",{className:"px-1 py-0.5 bg-muted text-[8px] font-mono text-muted-foreground rounded border border-border",children:Oe(d)},d))})]})}),e.jsx(Mt,{questionId:s.id})]}),(s.sourceUrl||i)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[s.sourceUrl&&e.jsxs("a",{href:s.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-muted hover:bg-muted/80 border border-border rounded-md text-[10px]",children:[e.jsx(es,{className:"w-2.5 h-2.5 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Source"})]}),i&&e.jsxs("a",{href:`https://openstackdaily.github.io${i.url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-cyan-500/10 hover:bg-cyan-500/20 border border-cyan-500/30 rounded-md text-[10px]",children:[e.jsx(ts,{className:"w-2.5 h-2.5 text-cyan-400"}),e.jsx("span",{className:"text-cyan-400",children:"Blog"})]})]}),e.jsx(Lt,{questionId:s.id,currentChannel:s.channel}),e.jsx(At,{questionId:s.id})]})})}const P=50,le=5,js=3,ys=800;function tr(){const[s,r]=ot(),[,u]=ct("/certification/:id/:questionIndex?"),i=u?.id,o=i?yt(i):null;o&&wt(o.id);const[c,x]=a.useState([]),[f,p]=a.useState(!0),[m,y]=a.useState(null),[d,j]=a.useState(0),[n,w]=a.useState("all"),[T,C]=a.useState("question"),[B,E]=a.useState(!1),[xe,b]=a.useState(new Set),[$,ze]=a.useState(!1),[Y,Ve]=a.useState([]),[W,me]=a.useState(!1),[I,ke]=a.useState([]),[z,pe]=a.useState(0),[H,he]=a.useState([]),[V,X]=a.useState(!1),[ue,Z]=a.useState(null),[O,fe]=a.useState(!1),[He,U]=a.useState(!1),[A,q]=a.useState(new Set),[Ue,ge]=a.useState(new Set),{toast:Q}=Gt(),{onQuestionSwipe:Ce,onQuestionView:Ge,balance:be,formatCredits:Se,refreshBalance:Te}=dt(),je=`cert-progress-${i}`,ee=`cert-checkpoints-${i}`,te=`cert-session-${i}`,[D,Je]=a.useState(()=>{try{const t=localStorage.getItem(je);return new Set(t?JSON.parse(t):[])}catch{return new Set}}),se=a.useCallback(()=>{if(!i||c.length===0)return;const t={certificationId:i,certificationName:o?.name,questions:c,currentIndex:d,completedIds:Array.from(D),passedCheckpoints:Array.from(A),selectedDifficulty:n,lastAccessedAt:new Date().toISOString()};localStorage.setItem(te,JSON.stringify(t))},[i,o,c,d,D,A,n,te]);a.useEffect(()=>{if(i)try{const t=localStorage.getItem(te);if(t){const l=JSON.parse(t);l.currentIndex!==void 0&&j(l.currentIndex)}}catch(t){console.error("Failed to load session:",t)}},[i,te]),a.useEffect(()=>{c.length>0&&se()},[d,D,A,se,c.length]);const Ke=a.useCallback(()=>{se(),r(`/certification/${i}`)},[se,i,r]);a.useEffect(()=>{try{const t=localStorage.getItem(ee);t&&q(new Set(JSON.parse(t)))}catch{}},[ee]),a.useEffect(()=>{i&&localStorage.setItem(je,JSON.stringify(Array.from(D)))},[D,i,je]),a.useEffect(()=>{i&&localStorage.setItem(ee,JSON.stringify(Array.from(A)))},[A,i,ee]),a.useEffect(()=>{if(!o)return;(async()=>{p(!0),y(null);try{const l=[],h=[];for(const S of o.channelMappings)try{let ie=(await ft.getData(S.channelId)).questions;h.push(S.channelId),S.subChannels&&S.subChannels.length>0&&(ie=ie.filter(it=>S.subChannels.includes(it.subChannel)));const nt=Math.ceil(ie.length*(S.weight/100));l.push(...ie.slice(0,nt))}catch{}const N=await ns();Ve(N.filter(S=>h.includes(S.channelId)));const M=Array.from(new Map(l.map(S=>[S.id,S])).values()),L=sessionStorage.getItem(`cert-seed-${i}`)||Date.now().toString();sessionStorage.setItem(`cert-seed-${i}`,L);const K=Nt(M,M.length);x(K)}catch{y("Failed to load certification questions")}finally{p(!1)}})()},[o,i]);const $e=a.useMemo(()=>n==="all"?c:c.filter(t=>t.difficulty===n),[c,n]),g=$e[d],v=$e.length,G=a.useCallback(t=>t>0&&t%le===0,[]),J=a.useCallback(t=>A.has(t),[A]),re=a.useCallback(()=>{if(Y.length===0)return[];const t=Y[Math.floor(Math.random()*Y.length)];return as(t,js)},[Y]),ae=a.useCallback(()=>{const t=re();t.length>0?(ke(t),pe(0),he([]),X(!1),Z(null),fe(!1),ge(new Set),me(!0)):(q(l=>new Set(Array.from(l).concat(d))),Q({title:"Checkpoint passed!"}))},[re,d,Q]),Ye=a.useCallback(t=>{if(V)return;const l=I[z],h=l.options.find(L=>L.isCorrect),N=t===h?.id,M={questionId:l.id,selectedOptionId:t,isCorrect:N,correctOptionId:h?.id||""};he(L=>[...L,M]),Z(M),X(!0),setTimeout(()=>{X(!1),Z(null),z<I.length-1?pe(L=>L+1):fe(!0)},ys)},[V,I,z]),R=a.useMemo(()=>{const t=H.filter(l=>l.isCorrect).length;return{correct:t,total:I.length,passed:t===I.length}},[H,I.length]),Xe=a.useCallback(()=>{const t=re();ke(t),pe(0),he([]),X(!1),Z(null),fe(!1),ge(new Set)},[re]),Ze=a.useCallback(()=>{xt(P,"Skipped checkpoint test").success?(q(l=>new Set(Array.from(l).concat(d))),me(!1),U(!1),Te(),Q({title:"Test Skipped",description:`-${P} credits`})):Q({title:"Insufficient Credits",description:`Need ${P} credits`})},[d,Te,Q]),qe=a.useCallback(()=>{R.passed&&q(t=>new Set(Array.from(t).concat(d))),me(!1)},[R.passed,d]),et=t=>{ge(l=>{const h=new Set(l);return h.has(t)?h.delete(t):h.add(t),h})},ne=a.useCallback(()=>{if(d<v-1){const t=d+1;if(G(t)&&!J(t)){j(t),ae();return}j(t),C("question"),Ce?.()}},[d,v,G,J,ae,Ce]),ye=()=>{d>0&&(j(d-1),C("question"))},tt=()=>{g&&(Je(t=>new Set(Array.from(t).concat(g.id))),Ge?.())},Ie=()=>{g&&b(t=>{const l=new Set(t);return l.has(g.id)?l.delete(g.id):l.add(g.id),l})},we=Ct({onSwipeLeft:ne,onSwipeRight:ye});if(a.useEffect(()=>{const t=l=>{W||((l.key==="ArrowRight"||l.key==="j")&&ne(),(l.key==="ArrowLeft"||l.key==="k")&&ye())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[W,ne]),a.useEffect(()=>{g&&!W&&mt(g.id,g.channel,g.difficulty)},[g,W]),a.useEffect(()=>{G(d)&&!J(d)&&!W&&!f&&ae()},[d,G,J,W,f,ae]),a.useEffect(()=>{!f&&o&&c.length===0&&!m&&(Q({title:"Content coming soon!",description:`We're preparing questions for "${o.name}". Check back soon!`,variant:"warning"}),ze(!0))},[f,o,c.length,m]),a.useEffect(()=>{if(!o&&i){Q({title:"Certification not found",description:"Redirecting to home page...",variant:"warning"});const t=setTimeout(()=>{r("/")},1500);return()=>clearTimeout(t)}},[o,i,Q,r]),!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pt,{className:"w-16 h-16 mx-auto mb-4 text-[#a0a0a0]/30"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Certification not found"}),e.jsx("p",{className:"text-[#a0a0a0] text-sm",children:"Redirecting to home..."})]})});const st=v>0?Math.round(D.size/v*100):0,F=g?D.has(g.id):!1,Ee=g?xe.has(g.id):!1,_=I[z],rt=()=>W?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md flex items-center justify-center p-4",children:e.jsxs(k.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/5 border border-white/10 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-white/10 bg-gradient-to-r from-amber-500/10 via-primary/10 to-amber-500/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${O?R.passed?"bg-green-500/20":"bg-red-500/20":"bg-amber-500/20"}`,children:O?R.passed?e.jsx(Ae,{className:"w-5 h-5 text-green-500"}):e.jsx(Le,{className:"w-5 h-5 text-red-500"}):e.jsx(Ne,{className:"w-5 h-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:O?R.passed?"ðŸŽ‰ Passed!":"âŒ Failed":"Checkpoint Test"}),e.jsx("p",{className:"text-xs text-[#a0a0a0]",children:O?`${R.correct}/${R.total} correct`:`Q${z+1}/${I.length} â€¢ Tap answer to submit`})]})]}),!O&&e.jsx("div",{className:"flex items-center gap-1",children:I.map((t,l)=>e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${l<H.length?H[l]?.isCorrect?"bg-green-500":"bg-red-500":l===z?"bg-gradient-to-r from-[#00ff88] to-[#00d4ff]":"bg-white/10"}`},l))})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:O?e.jsxs("div",{className:"space-y-3",children:[!R.passed&&e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-sm",children:[e.jsx("span",{className:"font-medium text-red-500",children:"Need 100% to proceed."}),e.jsx("span",{className:"text-[#a0a0a0] ml-1",children:"Review below, then retry or skip."})]}),I.map((t,l)=>{const h=H[l],N=Ue.has(l),M=t.options.find(K=>K.isCorrect),L=t.options.find(K=>K.id===h?.selectedOptionId);return e.jsxs("div",{className:`border rounded-xl overflow-hidden ${h?.isCorrect?"border-green-500/30":"border-red-500/30"}`,children:[e.jsxs("button",{onClick:()=>et(l),className:"w-full p-3 flex items-center gap-3 text-left hover:bg-white/10/30",children:[h?.isCorrect?e.jsx(gt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):e.jsx(is,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-sm line-clamp-1",children:t.question}),N?e.jsx(ls,{className:"w-4 h-4"}):e.jsx(_e,{className:"w-4 h-4"})]}),e.jsx(oe,{children:N&&e.jsx(k.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-white/10/50",children:e.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[e.jsxs("div",{className:`p-2 rounded ${h?.isCorrect?"bg-green-500/10":"bg-red-500/10"}`,children:[e.jsx("span",{className:"text-xs text-[#a0a0a0]",children:"Your answer: "}),e.jsx("span",{className:h?.isCorrect?"text-green-500":"text-red-500",children:L?.text})]}),!h?.isCorrect&&e.jsxs("div",{className:"p-2 rounded bg-green-500/10",children:[e.jsx("span",{className:"text-xs text-[#a0a0a0]",children:"Correct: "}),e.jsx("span",{className:"text-green-500",children:M?.text})]}),t.explanation&&e.jsxs("div",{className:"p-2 rounded bg-blue-500/10 flex gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[#a0a0a0]",children:t.explanation})]})]})})})]},t.id)})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${_?.difficulty==="beginner"?"bg-green-500/10 text-green-500":_?.difficulty==="intermediate"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:_?.difficulty})}),e.jsx("h4",{className:"font-medium mb-5",children:_?.question}),e.jsx("div",{className:"space-y-2",children:_?.options.map(t=>{const l=ue?.selectedOptionId===t.id,h=t.isCorrect,N=V&&(l||h);return e.jsx("button",{onClick:()=>Ye(t.id),disabled:V,className:`w-full p-4 text-left border-2 rounded-xl transition-all ${N?h?"border-green-500 bg-green-500/10":l?"border-red-500 bg-red-500/10":"border-white/10":"border-white/10 hover:border-[#00ff88]/50 hover:bg-white/10/30"} ${V?"cursor-default":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${N&&h?"border-green-500 bg-green-500":N&&l&&!h?"border-red-500 bg-red-500":"border-muted-foreground/30"}`,children:[N&&h&&e.jsx(ce,{className:"w-3 h-3 text-white"}),N&&l&&!h&&e.jsx(bt,{className:"w-3 h-3 text-white"})]}),e.jsx("span",{className:"text-sm",children:t.text})]})},t.id)})}),V&&ue&&!ue.isCorrect&&_?.explanation&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl text-sm flex gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[#a0a0a0]",children:_.explanation})]})]})}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-white/10/30",children:O?e.jsx("div",{className:"flex gap-3",children:R.passed?e.jsxs("button",{onClick:qe,className:"flex-1 py-3 bg-green-500 text-white rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5"})," Continue"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Xe,className:"flex-1 py-3 bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black rounded-xl font-medium flex items-center justify-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"})," Retry"]}),e.jsxs("button",{onClick:()=>U(!0),className:"flex-1 py-3 bg-white/10 rounded-xl font-medium flex items-center justify-center gap-2 text-[#a0a0a0]",children:[e.jsx(Qe,{className:"w-4 h-4"})," Skip (-",P,")"]})]})}):e.jsxs("div",{className:"flex items-center justify-between text-sm text-[#a0a0a0]",children:[e.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-1 hover:text-white",children:[e.jsx(Qe,{className:"w-4 h-4"})," Skip (-",P,")"]}),e.jsx("span",{children:"Tap an answer to submit"})]})})]})}):null,at=()=>e.jsx(oe,{children:He&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4",onClick:()=>U(!1),children:e.jsx(k.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white/5 border border-white/10 rounded-2xl w-full max-w-sm p-5",onClick:t=>t.stopPropagation(),children:e.jsxs("div",{className:"text-center",children:[e.jsx(os,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),e.jsx("h3",{className:"font-bold mb-2",children:"Skip Test?"}),e.jsxs("p",{className:"text-sm text-[#a0a0a0] mb-4",children:["Cost: ",e.jsxs("span",{className:"text-red-500 font-bold",children:[P," credits"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 p-2 bg-white/10/50 rounded-lg text-sm",children:[e.jsx(Re,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{children:["Balance: ",e.jsx("b",{children:Se(be)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-2.5 bg-white/10 rounded-xl font-medium",children:"Cancel"}),e.jsx("button",{onClick:Ze,disabled:be<P,className:"flex-1 py-2.5 bg-red-500 text-white rounded-xl font-medium disabled:opacity-50",children:"Skip"})]})]})})})});return e.jsxs(e.Fragment,{children:[e.jsx(vt,{title:`${o.name} Practice`,description:o.description}),e.jsx(rt,{}),e.jsx(at,{}),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-black/95 backdrop-blur border-b border-white/10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ke,className:"p-1.5 hover:bg-white/10 rounded-md shrink-0",title:"Exit and save progress",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"font-semibold text-sm leading-tight",children:o.name}),e.jsx("span",{className:"text-[10px] text-[#a0a0a0] shrink-0",children:o.provider})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-[#a0a0a0] tabular-nums",children:["Q",d+1,"/",v]}),e.jsxs("div",{className:"relative flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden max-w-[200px]",children:[e.jsx("div",{className:"h-full bg-gradient-to-r from-[#00ff88] to-[#00d4ff] rounded-full transition-all",style:{width:`${(d+1)/v*100}%`}}),Array.from({length:Math.floor(v/le)}).map((t,l)=>{const h=(l+1)*le,N=h/v*100,M=A.has(h);return e.jsx("div",{className:`absolute top-1/2 w-1.5 h-1.5 rounded-full ${M?"bg-green-500":"bg-amber-500"}`,style:{left:`${N}%`,transform:"translate(-50%, -50%)"}},l)})]}),e.jsxs("span",{className:"text-[10px] text-[#00ff88] font-medium tabular-nums",children:[st,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[["all","beginner","intermediate","advanced"].map(t=>e.jsx("button",{onClick:()=>{w(t),j(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize hidden sm:block ${n===t?t==="beginner"?"bg-green-500/20 text-green-500":t==="intermediate"?"bg-yellow-500/20 text-yellow-500":t==="advanced"?"bg-red-500/20 text-red-500":"bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black":"bg-white/10/50 text-[#a0a0a0] hover:bg-white/10"}`,children:t==="all"?"All":t==="beginner"?"Easy":t==="intermediate"?"Med":"Hard"},t)),e.jsxs("div",{className:"flex items-center gap-0.5 px-1.5 py-0.5 bg-amber-500/10 border border-amber-500/20 rounded-md ml-1",children:[e.jsx(Re,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-[10px] font-bold text-amber-500 tabular-nums",children:Se(be)})]}),e.jsx("button",{onClick:()=>E(!B),className:"p-1 hover:bg-white/10 rounded-md",children:e.jsx(ut,{className:"w-3.5 h-3.5"})})]})]}),e.jsx("div",{className:"flex items-center gap-1 mt-1.5 sm:hidden overflow-x-auto no-scrollbar",children:["all","beginner","intermediate","advanced"].map(t=>e.jsx("button",{onClick:()=>{w(t),j(0)},className:`px-2 py-0.5 text-[10px] rounded-md capitalize shrink-0 ${n===t?t==="beginner"?"bg-green-500/20 text-green-500":t==="intermediate"?"bg-yellow-500/20 text-yellow-500":t==="advanced"?"bg-red-500/20 text-red-500":"bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black":"bg-white/10/50 text-[#a0a0a0]"}`,children:t==="all"?"All":t==="beginner"?"Easy":t==="intermediate"?"Medium":"Hard"},t))})]})}),B&&e.jsx("div",{className:"bg-white/10/30 border-b border-white/10 px-3 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-[10px]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:[e.jsx("span",{className:"text-[#a0a0a0]",children:"Level:"})," ",e.jsx("span",{className:"font-medium capitalize",children:o.difficulty})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-[#a0a0a0]",children:"Time:"})," ",e.jsxs("span",{className:"font-medium",children:[o.estimatedHours,"h"]})]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-[#a0a0a0]",children:"Done:"})," ",e.jsxs("span",{className:"font-medium",children:[D.size,"/",v]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-[#a0a0a0]",children:[e.jsx(Ne,{className:"w-3 h-3 text-amber-500"}),e.jsxs("span",{children:["Test every ",le,"Q â€¢ Skip: ",P,"cr"]})]})]})}),f?e.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:e.jsx("div",{className:"w-8 h-8 border-2 border-[#00ff88] border-t-transparent rounded-full animate-spin"})}):m?e.jsx("div",{className:"flex items-center justify-center h-[60vh] text-center",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-red-500 mb-2",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-[#00ff88]",children:"Retry"})]})}):v===0?e.jsx(St,{type:"certification",name:o.name,redirectTo:"/certifications",redirectDelay:5e3}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:flex h-[calc(100vh-100px)]",children:[e.jsx("div",{className:"w-[40%] border-r border-white/10 overflow-y-auto",children:g&&e.jsx(De,{question:g,questionNumber:d+1,totalQuestions:v,isMarked:Ee,isCompleted:F,onToggleMark:Ie,timerEnabled:!1,timeLeft:0})}),e.jsx("div",{className:"w-[60%] overflow-y-auto",children:g&&e.jsx(We,{question:g,isCompleted:F})})]}),e.jsxs("div",{className:"lg:hidden flex flex-col h-[calc(100vh-140px)]",children:[e.jsxs("div",{className:"flex border-b border-white/10",children:[e.jsx("button",{onClick:()=>C("question"),className:`flex-1 py-2 text-sm font-medium ${T==="question"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#a0a0a0]"}`,children:"Question"}),e.jsx("button",{onClick:()=>C("answer"),className:`flex-1 py-2 text-sm font-medium ${T==="answer"?"text-[#00ff88] border-b-2 border-[#00ff88]":"text-[#a0a0a0]"}`,children:"Answer"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pb-14",onTouchStart:we.onTouchStart,onTouchMove:we.onTouchMove,onTouchEnd:we.onTouchEnd,children:T==="question"?g&&e.jsx(De,{question:g,questionNumber:d+1,totalQuestions:v,isMarked:Ee,isCompleted:F,onToggleMark:Ie,onTapQuestion:()=>C("answer"),timerEnabled:!1,timeLeft:0}):g&&e.jsx(We,{question:g,isCompleted:F})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur border-t border-white/10 py-1.5 px-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[e.jsxs("button",{onClick:ye,disabled:d===0,className:"flex items-center gap-1 px-2.5 py-1.5 bg-white/10 rounded-md disabled:opacity-40 text-xs",children:[e.jsx(Jt,{className:"w-4 h-4"}),"Prev"]}),e.jsxs("button",{onClick:tt,disabled:F,className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium ${F?"bg-green-500/10 text-green-500":"bg-gradient-to-r from-[#00ff88] to-[#00d4ff] text-black"}`,children:[e.jsx(ce,{className:"w-3.5 h-3.5"}),F?"Done":"Mark Done"]}),e.jsxs("button",{onClick:ne,disabled:d===v-1,className:"flex items-center gap-1 px-2.5 py-1.5 bg-white/10 rounded-md disabled:opacity-40 text-xs",children:["Next",e.jsx(Kt,{className:"w-4 h-4"}),G(d+1)&&!J(d+1)&&e.jsx(Le,{className:"w-3 h-3 text-amber-500"})]})]})})]})]})]})}export{tr as default};
