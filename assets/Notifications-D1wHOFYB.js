import{c as m,k as w,r as u,j as e,m as d,l as k,X as v,o as C,h as A}from"./index-D5IX74-T.js";import{A as M,B as L}from"./AppLayout-CNuT5_p4.js";import{S}from"./SEOHead-BbiTj_zU.js";import{T as $}from"./trash-2-CUIWOP1K.js";import"./mermaid-Bpr93w1e.js";import"./code-LZUg0__U.js";import"./UnifiedSearch-IvyeHCQC.js";import"./coding-challenges-Cca6OQGi.js";import"./target-DIyWN8Hg.js";import"./arrow-right-C72eoshB.js";import"./loader-circle-Nyi82RsT.js";import"./mic-CU0jZ-xk.js";import"./user-CbZAj9fg.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],T=m("check-check",E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],I=m("info",_);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B=m("triangle-alert",O),h="app-notifications",R={success:e.jsx(A,{className:"w-5 h-5 text-green-500"}),error:e.jsx(C,{className:"w-5 h-5 text-red-500"}),info:e.jsx(I,{className:"w-5 h-5 text-blue-500"}),warning:e.jsx(B,{className:"w-5 h-5 text-yellow-500"})},q={success:"bg-green-500/10 border-green-500/20",error:"bg-red-500/10 border-red-500/20",info:"bg-blue-500/10 border-blue-500/20",warning:"bg-yellow-500/10 border-yellow-500/20"};function W(){const[,f]=w(),[a,i]=u.useState([]);u.useEffect(()=>{const t=()=>{try{const r=localStorage.getItem(h);i(r?JSON.parse(r):[])}catch{i([])}};t();const s=()=>t();return window.addEventListener("notification-added",s),()=>window.removeEventListener("notification-added",s)},[]);const o=t=>{i(t),localStorage.setItem(h,JSON.stringify(t))},g=t=>{const s=a.map(r=>r.id===t.id?{...r,read:!0}:r);o(s),t.link&&f(t.link)},N=()=>{const t=a.map(s=>({...s,read:!0}));o(t)},y=t=>{const s=a.filter(r=>r.id!==t);o(s)},j=()=>{o([])},n=a.filter(t=>!t.read).length,b=t=>{const s=new Date(t),l=new Date().getTime()-s.getTime(),c=Math.floor(l/6e4),x=Math.floor(l/36e5),p=Math.floor(l/864e5);return c<1?"Just now":c<60?`${c}m ago`:x<24?`${x}h ago`:p<7?`${p}d ago`:s.toLocaleDateString()};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Notifications - Code Reels",description:"View your notifications and alerts"}),e.jsx(M,{title:"Notifications",showBackOnMobile:!0,children:e.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[a.length>0&&e.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:n>0?`${n} unread`:"All caught up!"}),e.jsxs("div",{className:"flex gap-2",children:[n>0&&e.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),"Mark all read"]}),e.jsxs("button",{onClick:j,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),"Clear all"]})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(k,{mode:"popLayout",children:a.length===0?e.jsxs(d.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-card rounded-2xl border border-border p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-semibold mb-1",children:"No notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You're all caught up! Notifications will appear here."})]}):a.map((t,s)=>e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:s*.05},className:`bg-card rounded-xl border overflow-hidden ${t.read?"border-border":q[t.type]} ${t.link?"cursor-pointer hover:bg-muted/50 transition-colors":""}`,children:e.jsxs("div",{className:"flex items-start gap-3 p-4",onClick:()=>g(t),children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:R[t.type]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:`font-medium text-sm ${t.read?"text-muted-foreground":""}`,children:t.title}),e.jsx("button",{onClick:r=>{r.stopPropagation(),y(t.id)},className:"p-1 hover:bg-muted rounded transition-colors flex-shrink-0",children:e.jsx(v,{className:"w-4 h-4 text-muted-foreground"})})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground",children:b(t.timestamp)}),!t.read&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),t.link&&e.jsx("span",{className:"text-[10px] text-primary",children:"Tap to view â†’"})]})]})]})},t.id))})})]})})]})}export{W as default};
